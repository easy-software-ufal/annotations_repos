commit 5652773639b1d3d91e6c408c2b3ac247328cb80d
Author: Anand Soni <anandsoni14@users.noreply.github.com>
Date:   Mon Nov 27 01:36:27 2017 -0800

    Please add Apartment Buddy in list of apps using Fresco
    
    Summary:
    Thanks for submitting a PR! Please read these instructions carefully:
    
    - [ ] Explain the **motivation** for making this change.
    - [ ] Provide a **test plan** demonstrating that the code is solid.
    - [ ] Match the **code formatting** of the rest of the codebase.
    - [ ] Target the `master` branch
    
    What existing problem does the pull request solve?
    
    A good test plan has the exact commands you ran and their output, provides screenshots or videos if the pull request changes UI or updates the website. See [What is a Test Plan?][1] to learn more.
    
    If you have added code that should be tested, add tests.
    
    Sign the [CLA][2], if you haven't already.
    
    Small pull requests are much easier to review and more likely to get merged. Make sure the PR does only one thing, otherwise please split it.
    
    Make sure all **tests pass** on [Circle CI][4]. PRs that break tests are unlikely to be merged.
    
    For more info, see the [Contributing guide][4].
    
    [1]: https://medium.com/martinkonicek/what-is-a-test-plan-8bfc840ec171#.y9lcuqqi9
    [2]: https://code.facebook.com/cla
    [3]: http://circleci.com/gh/facebook/fresco
    [4]: https://github.com/facebook/fresco/blob/master/CONTRIBUTING.md
    Closes https://github.com/facebook/fresco/pull/1974
    
    Reviewed By: oprisnik
    
    Differential Revision: D6404974
    
    Pulled By: kirwan
    
    fbshipit-source-id: 642cb960c69ac495c2bec5cff4fda9058afadfb0

commit f9d3fb25642c744b22277b4c418f7ee1435d686b
Author: Zuzanna Mroczek <zuza@fb.com>
Date:   Thu Nov 23 09:00:52 2017 -0800

    Making methods in NetworkFetchProducer protected
    
    Summary: Making the onResponse method and its helper methods protected, so that this method can be overriden in a NetworkFetchProducer subclass.
    
    Reviewed By: kirwan
    
    Differential Revision: D6374442
    
    fbshipit-source-id: 49540cb2f7a6c44076ec96e5ca72cf173f074557

commit 1a321234275dd076a13ab1be2bb82aa4a081d391
Author: Zuzanna Mroczek <zuza@fb.com>
Date:   Thu Nov 23 09:00:51 2017 -0800

    Create experiment to inject an extended ProducerFactory
    
    Summary: In order to experiment with some newer functionality internally, this allows an alternative method to be provided from which the ProducerFactory will be built.
    
    Reviewed By: kirwan
    
    Differential Revision: D6374346
    
    fbshipit-source-id: 79e1d6ec652a74ed89aeab0669e2cd730a186bbe

commit 86c3b37e8ab6749467d946660967991c56b6baa8
Author: Stev Wayne <wyb7edmajor@gmail.com>
Date:   Wed Nov 22 10:22:46 2017 -0800

    Issue #1969 Fix LocalVideoThumbnailProducer#getLocalFilePath for videos from Android document provider.
    
    Summary:
    This resolves #1969.
    `LocalVideoThumbnailProducer#getLocalFilePath` will return null for uris like `content://com.android.providers.media.documents/document/video%3A160`. Inspired by https://github.com/iPaulPro/aFileChooser/blob/master/aFileChooser/src/com/ipaulpro/afilechooser/utils/FileUtils.java, this PR just fix this case.
    
    Since this method is private and the test uri in `LocalVideoThumbnailProducerTest` is just a mocked uri starts with `file://`, there is no test to cover.
    Closes https://github.com/facebook/fresco/pull/1970
    
    Reviewed By: kirwan
    
    Differential Revision: D6395591
    
    Pulled By: dmitry-voronkevich
    
    fbshipit-source-id: f2cb0dc4a231848503141835c3a3685a51d117cc

commit 48871d1e4a0171c22596c740e209029c48b291b5
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Mon Nov 20 10:58:06 2017 -0800

    Fixed typo in notification docs
    
    Reviewed By: kirwan
    
    Differential Revision: D6356084
    
    fbshipit-source-id: 8caad6a1a0b7e76690327a6078939100d49ca0f2

commit b2c77f8d3413796716ff94aefd2234e10b68f907
Author: Felix Oghina <foghina@fb.com>
Date:   Mon Nov 20 08:22:23 2017 -0800

    fix oss build++
    
    Reviewed By: dmitry-voronkevich
    
    Differential Revision: D6373794
    
    fbshipit-source-id: 166049ea60b73cbe8268bde06a8ddb35422848d3

commit 101505523accfdff6bfc14b1df66fd74e316fed6
Author: Felix Oghina <foghina@fb.com>
Date:   Mon Nov 20 03:41:33 2017 -0800

    fix oss build
    
    Reviewed By: kirwan
    
    Differential Revision: D6361939
    
    fbshipit-source-id: 7eabc172666e448bb702a2178e7f159b86fda9d3

commit e548e50967768fbfdf27d6c2c8f3601533f5e11b
Author: Mike Chetverikov <chetverikov@vl.ru>
Date:   Thu Nov 16 11:33:11 2017 -0800

    Issue 1940: Fix animated images not playing in SimpleDraweeSpanTextView
    
    Summary:
    The pull request solves [issue#1940](https://github.com/facebook/fresco/issues/1940). Also it's fix that unscheduleDrawable() calls itself recursively (if it was ever called).
    
    - Run tests.
    - Ensure that DraweeSpan in Showcase app works properly (fist span is still, second is animating).
    Closes https://github.com/facebook/fresco/pull/1966
    
    Reviewed By: kirwan
    
    Differential Revision: D6349009
    
    Pulled By: oprisnik
    
    fbshipit-source-id: 269ab8d0e028d2d6c70f3843528cdb80331b4cea

commit 52a0fa5c305ae5bb5b398a5035fdba4da1b488a7
Author: Franz Sarmiento <franzs@fb.com>
Date:   Wed Nov 15 11:59:17 2017 -0800

    Update static-webp with imagepipeline C++ changes
    
    Summary: Replicate the latest C++ changes for supporting inverted EXIF orientations (where applicable) in the static-webp module for consistency
    
    Reviewed By: kirwan
    
    Differential Revision: D6337140
    
    fbshipit-source-id: d08a97403eb4ba52847b0a0f0c89eba10cc7f633

commit b230a26767a298879bc9b1aa9e8bd1b2fb247ad4
Author: Franz Sarmiento <franzs@fb.com>
Date:   Wed Nov 15 11:59:13 2017 -0800

    Supported inverted orientations in OrientedDrawable
    
    Summary: Support 2, 4, 5, 7 EXIF orientations when deferring is requested. This is handled by rotating and flipping the rotation matrix in OrientedDrawable
    
    Reviewed By: kirwan
    
    Differential Revision: D6290055
    
    fbshipit-source-id: 8621c408ad40edc93f438bef683b5a0fbe351a63

commit 4b8be0342cc3fab9000636bdd586a8eab2945a1e
Author: Franz Sarmiento <franzs@fb.com>
Date:   Wed Nov 15 11:59:10 2017 -0800

    Store exif orientation in CloseableStaticBitmap
    
    Summary: In preparation for supporting rotation of inverted orientations when deferring is used, CloseableStaticBitmap should store the exif orientation since that object is what is read by OrientedDrawable (the one responsible for actually deferring rotation).
    
    Reviewed By: kirwan
    
    Differential Revision: D6278305
    
    fbshipit-source-id: 428c7766611236557a122ac401e35c9a1f1126f9

commit d25944a2ac2f5b7e865140ab0ee77ab2c70e4c90
Author: Franz Sarmiento <franzs@fb.com>
Date:   Wed Nov 15 11:59:08 2017 -0800

    Support inverted rotation orientations
    
    Summary:
    When an inverted EXIF orientation is detected, it executes a different new JpegTranscoder method that accepts the actual raw EXIF value rather than rotation angle in degrees. Rotation angle is set to 0 for inverted orientations.
    
    This only rotates inverted orientations in the pipeline and does not yet support it for deferred rotations. Normal orientations can still be deferred.
    
    Reviewed By: kirwan
    
    Differential Revision: D6267963
    
    fbshipit-source-id: 8a358dbfd5357a93cacb6265fe77b09d08b17975

commit 9f577d761708770cf13026286b564d6cae8fa514
Author: Franz Sarmiento <franzs@fb.com>
Date:   Wed Nov 15 11:59:07 2017 -0800

    Store exif orientation in EncodedImage
    
    Summary:
    In preparation of supporting the inverted orientations (2, 4, 5, 7), we need to store the orientation value and not just the rotation angle in EncodedImage.
    
    The reason I've used 0 for unknown exif orientation is that JfiUtil already treats 0 as unknown exif to be consistent with the rest of the codebase
    
    Reviewed By: kirwan
    
    Differential Revision: D6231806
    
    fbshipit-source-id: 559d6c5a8892e204a10b026b8ff7ac4d817a75ef

commit e7448a7681cb9091471af20994a03b794406534f
Author: Shai Vaknin <shaivak@fb.com>
Date:   Fri Nov 10 10:23:24 2017 -0800

    Unit test for URI to URL
    
    Reviewed By: kirwan
    
    Differential Revision: D6246139
    
    fbshipit-source-id: b34e22e63c0a1615572aa5dd337687bba4e9006b

commit 03a14ab06a9282ce098420217a9ca27a6ae6d587
Author: Barney Huang <barney@fb.com>
Date:   Thu Nov 9 12:28:15 2017 -0800

    Adjust AnimationListener for infinitely animated webp
    
    Reviewed By: oprisnik
    
    Differential Revision: D6210122
    
    fbshipit-source-id: f6fa8abd2994c7b702c1d6a0a153110d42e63bd2

commit 6f3a08761b7844cce22b898e7ea8bd3d14b78246
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Wed Nov 8 18:02:46 2017 -0800

    Fixed inconsistent naming for native rounding
    
    Summary: The native rounding class is called `NativeRoundingFilter`
    
    Reviewed By: erikandre
    
    Differential Revision: D6280560
    
    fbshipit-source-id: 9516586ef4ccc2f75c309465a6e945d839a5e876

commit cdc2cba4b61d193e6101ccd9236b390aac80a00b
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Tue Nov 7 07:37:02 2017 -0800

    Always draw DraweeSpans even when they are not attached
    
    Summary: We can still draw inline images even though it is currently not attached. This can be useful if the text is rendered ahead of time.
    
    Reviewed By: erikandre
    
    Differential Revision: D6247480
    
    fbshipit-source-id: b39dc672c47e662bbdbf4ba00a039c3d06682815

commit eb9a7325c88aef460fe9198979390d9ffbe6aa53
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Tue Nov 7 02:07:32 2017 -0800

    Showcase: Postprocessor example: use fitCenter
    
    Summary: In order to test postprocessors, it makes sense to see the whole image. For example, for the circular postprocessor, the full circle should be visible independent of the image aspect ratio.
    
    Reviewed By: dmitry-voronkevich
    
    Differential Revision: D6247935
    
    fbshipit-source-id: 6702f0f27033a8497d47ac5a182ae3119fb0aa8f

commit 17833c0d78406f1583f358e096e792f6dc173227
Author: Franz Sarmiento <franzs@fb.com>
Date:   Mon Nov 6 11:47:17 2017 -0800

    Added inverted orientations to RotationType enum
    
    Summary: In preparation of supporting the inverted orientations (2, 4, 5, 7), we need add these values and ensure the proper JX_CODE is returned inside the switch statements.
    
    Reviewed By: oprisnik
    
    Differential Revision: D6231953
    
    fbshipit-source-id: 29268e059bc7777fb1ab87b2512ca3e1ff1ac14e

commit 705379ee23038e79d224271bd29c212bd165379a
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Mon Nov 6 09:21:18 2017 -0800

    Native circular rounding implementation
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D6223437
    
    fbshipit-source-id: adc85c0a6591d1db16879da9a65b7072909d0ed2

commit 127754f9c9ccb44a04b5ad507d03e87b819391ad
Author: Seth Kirby <kid@fb.com>
Date:   Sun Nov 5 15:04:14 2017 -0800

    Add md5 support and non-blocking downloading of updated fonts
    
    Reviewed By: sriramramani
    
    Differential Revision: D6240915
    
    fbshipit-source-id: 896f10fde11ec0098074668a21075587120cf189

commit 32d846f637a6454b96d800f6f763d761a4dde250
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Fri Nov 3 12:29:51 2017 -0700

    Migrate existing postprocessor to use benchmark helpers so that they can be re-used
    
    Summary:
    This migrates our existing postprocessors to use the benchmark helpers so that they can be re-used.
    The blur postprocessor can be removed because we already have one bundled with the Fresco library.
    
    Reviewed By: erikandre
    
    Differential Revision: D6224759
    
    fbshipit-source-id: e8e9a363e14cb83e19d8d6d9deb8ff13224a2032

commit b85495fb818c5e8ab9257f04f7ae7259666ed9a6
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Fri Nov 3 12:14:41 2017 -0700

    Added RoundAsCirclePostprocessor and included it in Showcase sample app
    
    Summary: This change adds a `RoundAsCirclePostprocessor` that uses a native implementation for efficient bitmap rounding.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D6224757
    
    fbshipit-source-id: 8eec2e1ea60a903290fdd2a05b25a1945eb614b6

commit 6989e9eb8263c65a71c00135ef2cad090780108d
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Fri Nov 3 10:54:49 2017 -0700

    Native rounding boilerplate code
    
    Summary: Boilerplate code that will be used to add native rounding support for Fresco.
    
    Reviewed By: erikandre
    
    Differential Revision: D6210187
    
    fbshipit-source-id: 16a203c46712ca03c06f71f49adafde81dfd2560

commit de909ac5819385428e4c788760701b4bdf0e65bc
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Fri Nov 3 06:50:14 2017 -0700

    Added benchmark postprocessor helpers
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D6224758
    
    fbshipit-source-id: 978bfd6cf72388e6cbbeb92f8941a2b69c8c9da7

commit 70a7c0b71a01ca716fa44707b00a4bd9ddacfdf6
Author: Eric Frohnhoefer <efrohnhoefer@twitter.com>
Date:   Thu Nov 2 09:47:20 2017 -0700

    AbstractDraweeControllerBuilder#setDataSourceSupplier now returns BUILDER
    
    Summary:
    AbstractDraweeControllerBuilder#setDataSourceSupplier now returns BUILDER
    
    Allow supplier to be set when building the controller.
    ```
    Fresco.newDraweeControllerBuilder()
                .setDataSourceSupplier(supplier)
                .build()
    ```
    
    Closes #1958
    Closes https://github.com/facebook/fresco/pull/1959
    
    Reviewed By: erikandre
    
    Differential Revision: D6221235
    
    Pulled By: lambdapioneer
    
    fbshipit-source-id: b4b79a2f73f76f93b3ef414d6f37590c64f675f2

commit 38d13c0995fd93688b228abea717870775868975
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Thu Nov 2 08:23:05 2017 -0700

    Enable Stetho WebKitInspector for showcase app
    
    Summary:
    This change enables the WebKit integration for the Stetho plugin. The integration allows developers to use Chrome to inspect the traffic (e.g. see how requests are triggered) and eases debugging for our community.
    
    See http://facebook.github.io/stetho/#features
    
    Reviewed By: oprisnik
    
    Differential Revision: D6220586
    
    fbshipit-source-id: d358adf511ec4c2bc3e259412882d170b779c501

commit fb0aa4fd16d37d340d83a6d4455a2ec533ed0cfa
Author: Attila Jakabfi <attilaj@fb.com>
Date:   Thu Nov 2 06:32:42 2017 -0700

    Revert Simplify generics in ForwardingControllerListener (D6196460)
    
    Reviewed By: erikandre
    
    Differential Revision: D6220293
    
    fbshipit-source-id: 6991a77cb516aa333ccfd5e38d644e9514276a84

commit 2c1e4d6eecf765810256c7993c038b6788a89220
Author: Attila Jakabfi <attilaj@fb.com>
Date:   Thu Nov 2 05:00:42 2017 -0700

    Assign names to all executors
    
    Reviewed By: erikandre
    
    Differential Revision: D6201153
    
    fbshipit-source-id: 0a3cfabf38135efc3fa0d831422aa547d4b4e114

commit 9ea59d8e1b00cc4fb4372adcd842648261124385
Author: Attila Jakabfi <attilaj@fb.com>
Date:   Wed Nov 1 08:36:11 2017 -0700

    Simplify generics in ForwardingControllerListener
    
    Reviewed By: dmitry-voronkevich
    
    Differential Revision: D6196460
    
    fbshipit-source-id: f8fc08b3821e741de2e95c06bc3137e511e641fa

commit 78d17ba3ca43752756957ff1322075a48e688d92
Author: Attila Jakabfi <attilaj@fb.com>
Date:   Wed Nov 1 08:36:10 2017 -0700

    Fix IndexOOBExceptionin ForwardingControllerListener
    
    Reviewed By: erikandre
    
    Differential Revision: D6196445
    
    fbshipit-source-id: 054d90bb5e1f2b9e6736a7daeeeb49e80c4a3b3f

commit b7642c8e950204d12419ad50db65586a87edc745
Author: Davi Catunda Mour√£o <davicatunda@fb.com>
Date:   Fri Oct 27 02:07:52 2017 -0700

    (FBLite) Adding image id to debug overlay
    
    Reviewed By: erikandre
    
    Differential Revision: D6159695
    
    fbshipit-source-id: 971c4395c5ab73683d4720daa0ce179eabc599f1

commit 504401041cc783c231feb7fabc870a3acea3ee30
Author: Roman Truba <romantruba@fb.com>
Date:   Wed Oct 25 06:41:03 2017 -0700

    Fix crash for GIF with different frame sizes out of image boundaries
    
    Summary: Fix crash for special case when a GIF contains different frame sizes for each frame.
    
    Reviewed By: oprisnik
    
    Differential Revision: D6134640
    
    fbshipit-source-id: 6042e74e861eea73eec9e4c28d8b288f4a8b2154

commit 1742aabd7e46ef70c400314acb7c39d0b86bf5d4
Author: Fedor Kozlov <fedulity@fb.com>
Date:   Wed Oct 25 04:53:26 2017 -0700

    Add uri, hexbytes and size info to decoder error
    
    Reviewed By: oprisnik
    
    Differential Revision: D6134764
    
    fbshipit-source-id: 7f767d1cc75015a453e4d07e27b8592d61cc1426

commit 4adf251082d4eb02dd347484fb5ef71dcbb0d68a
Author: Yury Ogienko <yuryo@fb.com>
Date:   Tue Oct 24 12:00:00 2017 -0700

    fix BetterImageSpan size calculation
    
    Summary: BetterImageSpan getSize is supposed to increase the top or bottom of the font metrics to fit the image but it doesn't increase the bottom. If the image is taller than the font size then it will be cut off from the bottom. This fixes the size calculation to also increase the font bottom metric.
    
    Reviewed By: oprisnik
    
    Differential Revision: D6131715
    
    fbshipit-source-id: eaad38f77700d19842a3c5b161999afd4b9961c2

commit fbd926f5593b5dab49416343a330d286fff6ba2a
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Tue Oct 24 02:45:38 2017 -0700

    ImmutableMap and ImmutableList: initialize with known capacity
    
    Summary:
    The final capacity of these `HashMap` and `HashSet` is known at creation time. By providing the capacity parameter we avoid resizing them (and potentially save some memory).
    
    The default `HashMap#MINIMUM_CAPACITY = 4` and the `HashSet` is backed by a `HashMap`
    
    Reviewed By: erikandre
    
    Differential Revision: D6123899
    
    fbshipit-source-id: 29dcf418a14213e3ed8eb0bfcad7c5ae48fd7b58

commit f38a2bc8c2b196b7e821af13595b08dd15d987dd
Author: Franz Sarmiento <franzs@fb.com>
Date:   Thu Oct 19 11:35:37 2017 -0700

    Added error handling for ExifInterface StackOverflowError
    
    Summary: In some rare devices creation of an ExifInterface object using large images results in a StackOverFlowError. This catches the error and logs it but then just allows getExifInterface() to return null since it looks like we can't do anything else (similar to how IOException is handled).
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D6100080
    
    fbshipit-source-id: c0c85721e79c347ace2afe1ee96b3d81e3e9c27b

commit 5bf711451ce53a790cc1d1032bada821cab18298
Author: Aravind Balaji <aravind.balaji@live.com>
Date:   Tue Oct 3 05:35:46 2017 -0700

    Added 'Frost Blur' app that uses Fresco
    
    Summary:
    Frost Blur app uses Fresco to load display and process images for blurring
    Closes https://github.com/facebook/fresco/pull/1916
    
    Differential Revision: D5963564
    
    Pulled By: dmitry-voronkevich
    
    fbshipit-source-id: 0d90429d0c585e7f1b85e92f1e5b3cce1d991b2a

commit 5813f8c5e5cfa46cc04cc748e374000dc7bd0ac4
Author: Sam Blackshear <shb@fb.com>
Date:   Tue Sep 26 15:05:05 2017 -0700

    mark Drawee interfaces as thread-safe
    
    Differential Revision: D5893161
    
    fbshipit-source-id: 21411ef0766c58e438afab2b1f21e5c0d70cfcf2

commit fc45b287b9dd500ef594d4f6156cf95595c092dd
Author: Jeremy Dubreil <jrm@fb.com>
Date:   Tue Sep 26 13:52:56 2017 -0700

    Add @PropagatesNullable to CloseableReference.of(...)
    
    Reviewed By: sblackshear
    
    Differential Revision: D5895892
    
    fbshipit-source-id: 29a5b2974ea0db63d8a173fa8d6e8efb98edfcb2

commit daac619bb1788a1c3c89d67a9e100c488eb1bbe9
Author: Jeremy Dubreil <jrm@fb.com>
Date:   Tue Sep 26 13:52:54 2017 -0700

    Update the version of the Infer annotations to be used by the OSS builds
    
    Reviewed By: sblackshear
    
    Differential Revision: D5895797
    
    fbshipit-source-id: c47c1fdc9278040c9af4cff6410698990d2e86e3

commit 8854278df724cf6fc976d94c433fa7f30e90cd3a
Author: Jeremy Dubreil <jrm@fb.com>
Date:   Tue Sep 19 14:41:19 2017 -0700

    Revert the use of @PropagatesNullable in Fresco until we can make this annotation available in Maven Central
    
    Reviewed By: sblackshear
    
    Differential Revision: D5863895
    
    fbshipit-source-id: 4494583432623b0c20b8d441bceaa83f364095c5

commit 087344cf1a8638bc2682064aa803872696b6c981
Author: Jeremy Dubreil <jrm@fb.com>
Date:   Tue Sep 19 10:37:51 2017 -0700

    add missing @Nullable in NoOpDiskTrimmableRegistry.java
    
    Reviewed By: IanChilds
    
    Differential Revision: D5855986
    
    fbshipit-source-id: 09a7f2a3be0a80fc7ff11383d8acc5da8ea07b62

commit 4692be0af849699fe64b4ccbe591e0771f4a47bd
Author: Jeremy Dubreil <jrm@fb.com>
Date:   Tue Sep 19 10:37:50 2017 -0700

    add missing @Nullable in Objects.java
    
    Reviewed By: IanChilds
    
    Differential Revision: D5856012
    
    fbshipit-source-id: 8c8cfd7d1f848c5996f81cd83f0f7e065cccf1c0

commit 4b54d54688565e57d7b290b214a7db38f74dec74
Author: Adam Cummings <adamc@twitter.com>
Date:   Tue Sep 19 06:08:25 2017 -0700

    Add rounding support for RTL languages
    
    Summary:
    Fixes #1898.
    
     Screenshots of fixed version:
    
    ![screenshot_20170913-101639](https://user-images.githubusercontent.com/10903648/30398204-6797fc08-9884-11e7-9095-6cf7c8f11760.png)
    ![screenshot_20170913-101257](https://user-images.githubusercontent.com/10903648/30398203-67915cc2-9884-11e7-958a-73372e61b586.png)
    ![screenshot_20170913-101102](https://user-images.githubusercontent.com/10903648/30398205-679a2208-9884-11e7-876a-12cbd8bfd3b6.png)
    ![screenshot_20170913-100906](https://user-images.githubusercontent.com/10903648/30398206-679d4776-9884-11e7-92fa-17d1d283007e.png)
    Closes https://github.com/facebook/fresco/pull/1902
    
    Differential Revision: D5861554
    
    Pulled By: erikandre
    
    fbshipit-source-id: cad3cb134417916a44520e3ca8d3f3b36fd099d7

commit d474f4b4770abcc68183834217d4ab2cb6bbad74
Author: Jeremy Dubreil <jrm@fb.com>
Date:   Fri Sep 15 01:29:04 2017 -0700

    add missing @Nullable to //libraries/fbcore/src/main/java/com/facebook/common/webp:webp
    
    Reviewed By: stashuk
    
    Differential Revision: D5841184
    
    fbshipit-source-id: 7bb8e68e364b80b55d5fca6e2aa8c4447e0309ec

commit 784a69840c5ee6d5567a82f99019887677144f17
Author: Jeremy Dubreil <jrm@fb.com>
Date:   Thu Sep 14 08:26:39 2017 -0700

    Add @PropagatesNullable to CloseableReference.of(...)
    
    Reviewed By: sblackshear, erikandre
    
    Differential Revision: D5825314
    
    fbshipit-source-id: 0d89799812995f17386200d87ea52a888764af77

commit bd249fa4792ab3102339b069b776ba010dcbbfd1
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Thu Sep 14 04:28:54 2017 -0700

    Added region decoding capabilities to ART decoder
    
    Summary: This adds region decoding capabilities to `ArtDecoder`.
    
    Reviewed By: erikandre
    
    Differential Revision: D5805625
    
    fbshipit-source-id: f68d595a4a5be3d3a74ab802975bd578969d6135

commit ba395d7059ecf4a9520a1d885d686ddb410535e9
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Thu Sep 14 04:28:53 2017 -0700

    Added visible region to platform decoder
    
    Summary:
    This updates the `PlatformDecoder` interface to include an optional region to decode. This can be used for example to optimize memory usage by just decoding visible pixels.
    Note: Not all PlatformDecoders might support this feature. Right now, none of them does.
    
    Reviewed By: erikandre
    
    Differential Revision: D5805627
    
    fbshipit-source-id: 5ce20f284dd556715629b45572447d6c3d503059

commit c2cedd6bb8cb52415f65ab85233031eae41597ef
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Tue Sep 12 08:11:49 2017 -0700

    Clean up Showcase resizing sample
    
    Summary: Some cleanup for the resizing example.
    
    Reviewed By: erikandre
    
    Differential Revision: D5805537
    
    fbshipit-source-id: ebdbca4dcaa53e8f3f802013f6d22db4cce2ebc6

commit 5d92b9a2946ae779c4568a8e56015646c3d38d2f
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Mon Sep 11 10:23:06 2017 -0700

    Cleaned up ScalingUtils
    
    Summary: Removed unnecessary modifiers.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D5803994
    
    fbshipit-source-id: 15eb084e9be6d0c4f7c4678c00a1d0d2bdde35f0

commit 2bb48f07b6202a6184a0006cedebaa554032c8e1
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Mon Sep 11 06:08:42 2017 -0700

    Fixed Showcase sample app prepare to draw experiment
    
    Summary: Verified that the Showcase app builds again.
    
    Reviewed By: erikandre
    
    Differential Revision: D5803890
    
    fbshipit-source-id: 6dc4bb5d3e3ab1df29130682207d6fb21c124cf5

commit ca4c1068d8b0fba528a014f7ef3c2b0cbdfd74aa
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Fri Sep 8 09:32:33 2017 -0700

    Add parameter to test prepare when pre-fetching
    
    Summary: This change adds a new experimental parameter that allow enabling prepareToDraw for pre-fetch requests.
    
    Reviewed By: erikandre
    
    Differential Revision: D5794003
    
    fbshipit-source-id: a40d0dd415996dfaa5858b2837f8cf3fc5d836e8

commit 4b11f019db9cb0f8e01630d7ebd78e75d9e5e6dd
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Thu Sep 7 10:10:58 2017 -0700

    Added ImageDecodeOptionsTest for setFrom
    
    Summary: This tests ImageDecodeOptionsBuilder#setFrom(options)
    
    Reviewed By: kirwan
    
    Differential Revision: D5776458
    
    fbshipit-source-id: 9a4e267763e81760a68d71800342ab0259568bae

commit 1a35cdf63a2c5366d1758ce769929ac56a2b6d76
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Wed Sep 6 10:04:22 2017 -0700

    Remove old records from the media variations index
    
    Summary: Adds pruning to the media variations index database so that records are deleted after a period of five days.
    
    Reviewed By: erikandre, foghina
    
    Differential Revision: D5659184
    
    fbshipit-source-id: 3e3641362daa134d071523545c6bf76404fd54e0

commit 42940eefb0a21a84a0bcdc8c2c0d1adf9c2bb7aa
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Wed Sep 6 09:29:03 2017 -0700

    Correctly set custom image decoder for ImageDecodeOptionsBuilder when created from existing options
    
    Summary: Custom decoders are not correctly set if you build upon existing image decode options.
    
    Reviewed By: foghina
    
    Differential Revision: D5775141
    
    fbshipit-source-id: b33eab38d9d6a1c66333a25c5393fc0bcfdbfc9b

commit 5986c18326e9aa0fddac8d5cee3436389b6d84de
Author: simonzhexu <simonzhexu@users.noreply.github.com>
Date:   Wed Sep 6 02:55:30 2017 -0700

    webp dependency name changed
    
    Summary:
    Correct webp doc to include the correct dependency library name.
    Closes https://github.com/facebook/fresco/pull/1892
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D5774676
    
    Pulled By: simonzhexu
    
    fbshipit-source-id: a21438067976cb9071f53c016a0ef867a6e70708

commit 920844d7761ece6885d401665e06afba62aa4b9c
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Tue Sep 5 08:37:40 2017 -0700

    Add caller context to draw exceptions in ZoomableDraweeView
    
    Summary:
    Zoomable images are by their nature likely to be larger than normal. That can result in issues when drawing.
    
    This adds some logging in those cases with the details of the caller context to help debug which image had a problem.
    
    Reviewed By: erikandre
    
    Differential Revision: D5764574
    
    fbshipit-source-id: 066a1afbd96f0922f7c7afbb9cfefa2ed3220fdd

commit 08992765ad98918a00866a0f4d40377afcfaba2c
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Mon Sep 4 09:41:59 2017 -0700

    Showcase resizing sample can now adapt the drawee view size
    
    Summary: It's now possible to adjust the DraweeView size by dragging the bottom right corner, same design as for media variations sample.
    
    Reviewed By: erikandre
    
    Differential Revision: D5764408
    
    fbshipit-source-id: 5a7c51e4ec8de729e40351e3d196603f46149abe

commit a4c6c3068926a11c0587b3ecc1110c24626f85a6
Author: Vincent Cheung <vcheung@fb.com>
Date:   Fri Sep 1 00:29:48 2017 -0700

    Allow over-releasing from pool buckets
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D5724844
    
    fbshipit-source-id: 52e919709c36f8a71adb612efb2c74c30bcad45c

commit 2208baec1066afb7cee6456a94fc14946b359937
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Thu Aug 31 06:41:54 2017 -0700

    Remove remaining redundant getThis override
    
    Summary: In the change to getThis(), VolleyDraweeControllerBuilder was missed so resulted in a build error. Removing this overrided method will makes us green again.
    
    Reviewed By: oprisnik
    
    Differential Revision: D5745500
    
    fbshipit-source-id: dafca79aa887dd4cb8b224c08f2f70f47aed8463

commit da08f7932ea7fc1167decd43d68923dbca700fa9
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Thu Aug 31 03:22:46 2017 -0700

    Bump version to 1.6.0
    
    Summary: Updates the version to 1.6.0 ahead of a new release.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D5745178
    
    fbshipit-source-id: ccbf477d861d0de1e9f6a14f385b48d1ff8d73bf

commit 9395f70c2ab079027df049bdf1d2123a0a188b13
Author: Sam Blackshear <shb@fb.com>
Date:   Tue Aug 29 16:13:16 2017 -0700

    Remove `@ReturnsOwnership` annotation on `getThis`.
    
    Summary:
    This annotation was incorrect; getThis() only returns ownership if this is also owned in the caller.
    
    Fix the issue by removing the annotation and implementing getThis() in the abstract class rather than in all of its subclasses.
    
    Reviewed By: kirwan
    
    Differential Revision: D5718931
    
    fbshipit-source-id: 40e534776f87a44572a7f4e29801e4e5738b9993

commit dee04663a58492f093df17c03bd829060f4832d3
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Fri Aug 25 10:38:37 2017 -0700

    Fixed Showcase sample app
    
    Reviewed By: kirwan
    
    Differential Revision: D5706611
    
    fbshipit-source-id: 574d8d097c600553edb888d42e65c6be0a6b8254

commit ed7d2b9209fcd0a630e1278df04af93e06fe9794
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Wed Aug 23 08:06:21 2017 -0700

    Enable smart resizing experiment for Showcase app
    
    Summary: This enables smart resizing for the Showcase app.
    
    Reviewed By: kirwan
    
    Differential Revision: D5660411
    
    fbshipit-source-id: 84b9c3793316aee9bf8b503b37d1a564c39cdd60

commit 8d83ed272a0b9602214df8b1004430de302d34cc
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Wed Aug 23 07:49:28 2017 -0700

    Added experimental smart resizing, to combine resizing of JPEGS with downsampling for PNGs
    
    Summary: This adds experimental smart resizing: If the format can be downsampled, we'll do it (e.g. for PNGs), if the format can be transcoded (JPEGs), we'll transcode.
    
    Reviewed By: kirwan
    
    Differential Revision: D5658661
    
    fbshipit-source-id: 44fd9e6634edc96a8a472bdceb1e4a9ff5fdd56d

commit 82f25c76a729220d7ddca71a8d13d2de58832ab1
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Wed Aug 23 07:06:50 2017 -0700

    Reduce log level of onDraw() before attachController()
    
    Summary: Reduced logging level of cases where a DraweeHolder is drawn before being explicitly attached.
    
    Reviewed By: oprisnik
    
    Differential Revision: D5687869
    
    fbshipit-source-id: dc15cf5263aac3a620769564cab0e21652c628f1

commit bd9dd8275c3abdc98af2490cb13403a960e1e604
Author: eldk <eldk@users.noreply.github.com>
Date:   Tue Aug 22 09:59:56 2017 -0700

    Switch to OkHttp 3.8.0 for OKHTTP3 users
    
    Summary:
    Hello,
    
    Switch to OkHttp 3.8.0 for OKHTTP3 users.
    
    http://square.github.io/okhttp/
    
    https://github.com/square/okhttp/blob/parent-3.8.0/CHANGELOG.md
    
    "OkHttp no longer recovers from TLS handshake failures by attempting a TLSv1 connection"
    
    Thanks,
    
    Eric
    Closes https://github.com/facebook/fresco/pull/1874
    
    Reviewed By: erikandre
    
    Differential Revision: D5679390
    
    Pulled By: dmitry-voronkevich
    
    fbshipit-source-id: d4793668d3c84ab6f0e6acd8f2dcf490418b09f3

commit a3192a6e4f9023ab0e7268b15e4bcf9bcad0b0f9
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Tue Aug 22 09:56:14 2017 -0700

    Added default boolean suppliers
    
    Summary: This adds boolean suppliers that can be used for default values.
    
    Reviewed By: erikandre
    
    Differential Revision: D5671342
    
    fbshipit-source-id: a4ba9f9a92d482f31e6f0b3c11892a2f0e0e5386

commit 3194ad2957a4db8dc1bc5001dee5ac3675fe4ce9
Author: Anthony Collins <a-d-collins@users.noreply.github.com>
Date:   Thu Aug 17 06:24:55 2017 -0700

    Issue 1850: Restart warning message for showcase SVG support toggle
    
    Summary:
    A restart message/warning does not appear when SVG support (svg decoder switch) is changed. A restart is necessary because custom decoders can only be set during Fresco initialization.
    
    Run showcase app. Check that message comes up when SVG support is turned on/off.
    Closes https://github.com/facebook/fresco/pull/1865
    
    Reviewed By: erikandre
    
    Differential Revision: D5640487
    
    Pulled By: oprisnik
    
    fbshipit-source-id: e7a79a85e39a2bafa18ba20b2150a86fdb856814

commit aa14fae0c97e50a3731b85b3101c6564f0a41f0b
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Thu Aug 17 05:56:17 2017 -0700

    Removed unnecessary null check in DecodeProducer
    
    Summary: The first line in this method already does a `EncodedImage.isValid(encodedImage)` check, which internally checks if the encoded image is null.
    
    Reviewed By: erikandre
    
    Differential Revision: D5639890
    
    fbshipit-source-id: 7360a6baad8cec350229ac4a25b6ec9edf138f0e

commit 806e5d2fc2a66493a422ccd27aeb6a3829612234
Author: Attila Jakabfi <attilaj@fb.com>
Date:   Thu Aug 17 03:59:45 2017 -0700

    Make Fresco Notification Sample work on Android O
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D5639942
    
    fbshipit-source-id: 194b612f298608af173f419f227ea1486f9bf382

commit 8fd95b0ba6742c73f7849a02e24e38de23410ae2
Author: Eric Hwang <ehwang@fb.com>
Date:   Thu Aug 10 17:04:42 2017 -0700

    Prevent bucket creation when releasing values (fatal exceptions)
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D5606687
    
    fbshipit-source-id: 88e487bb22b8db9aad1e1531c3a02d1151624e96

commit 704b0541ba737ff6183590ccb6c492188c43c2a4
Author: Erik Andre <erikandre@fb.com>
Date:   Thu Aug 10 08:57:15 2017 -0700

    Update JavaDoc for 1.5.0 release
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D5602459
    
    fbshipit-source-id: 143c95e1d247980a5863ad9a5419d842b54d6a1e

commit 7085256b42499c6227ade9063a4457f1062dcbd1
Author: Erik Andre <erikandre@fb.com>
Date:   Thu Aug 10 08:53:23 2017 -0700

    Bump version to 1.5.0 in docs
    
    Reviewed By: foghina
    
    Differential Revision: D5601781
    
    fbshipit-source-id: 07b28d389bd9158a2538059f1e797bc4b1a851f5

commit 6fcc24c65ce39d5b3d6a099ab81fecc61ce41f53
Author: Erik Andre <erikandre@fb.com>
Date:   Thu Aug 10 06:14:59 2017 -0700

    Bump version to 1.5.0 in gradle config
    
    Reviewed By: foghina
    
    Differential Revision: D5601747
    
    fbshipit-source-id: 5f8a5259ce8944ac6b57cfc253911d07019defd0

commit d118ed5deecfac19362dd2d27a3bb208c008ffd3
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Wed Aug 9 06:35:34 2017 -0700

    Added image format selector to Showcase resizing sample
    
    Summary: This adds an image format selector for the resizing sample
    
    Reviewed By: erikandre
    
    Differential Revision: D5573536
    
    fbshipit-source-id: 8e45beabb72417e3b67e1ed4a7e0c249e4a9adf0

commit 5a8b4e65cb965ab2e90e99bb017e05658f66caaf
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Wed Aug 9 03:43:09 2017 -0700

    Showcase: Added PNG sample URIs
    
    Summary: This adds PNG sample URIs to the Showcase URI provider.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D5584167
    
    fbshipit-source-id: ed1babeeb9208c5c76162ab6fa7553804869171c

commit 47067e5e739bacc6bf4c79958b873f58ba0d585a
Author: a-d-collins <adcollins91@gmail.com>
Date:   Mon Aug 7 06:01:49 2017 -0700

    Fresco issue 1827: Fix loading of SVG files that do not start with "<svg"
    
    Summary:
    Solves the problem of certain SVG files not loading when the SVG file does not begin with "<svg".
    
    **Manual Test 1: Check loading of example SVG.**
    1. Set `ImageFormatSvgFragment.URI_SVG_HALF_TRANSPARENT` equal to `Uri.parse("http://frescolib.org/static/sample-images/fresco_logo_half_transparent.svg");`
    2. Run showcase app
    3. Ensure that SVG support is turned on
    4. (If SVG support was 'off' at the beginning of step 3) Re-run showcase app (<-- This is necessary because the SVG toggle switch does not currently trigger a re-rendering of the image. A follow-up bug has been reported on this.)
    
    **Manual Test 2: Check loading of SVG that starts with "<?xml".**
    1. Set `ImageFormatSvgFragment.URI_SVG_HALF_TRANSPARENT` equal to `Uri.parse("https://upload.wikimedia.org/wikipedia/commons/0/02/SVG_logo.svg");`
    2. Run showcase app
    3. Ensure that SVG support is turned on
    4. (If SVG support was 'off' at the beginning of step 3) Re-run showcase app
    
    **Tests added to test.java files**
    
    None.
    
    Note: ImageFormatChecker.determineImageFormat() should probably have a test, though... I'd be happy to write that as part of another pull-request (or add it to this one).
    
    1. (**ImageFormatCheckerUtils.java**) New util that determines whether or not an InputStream contains a given header.
    2. (**SvgDecoderExample.java**) When image header starts with "<?xml", search headerBytes for "<svg".
    Closes https://github.com/facebook/fresco/pull/1849
    
    Reviewed By: oprisnik
    
    Differential Revision: D5546924
    
    Pulled By: kirwan
    
    fbshipit-source-id: f5d161875ecaa0505ae0ef42f6a7056b1e8f56c7

commit db1c5e2bd7e15ac46bf353edca0e3f08114778c9
Author: a-d-collins <adcollins91@gmail.com>
Date:   Fri Aug 4 07:10:21 2017 -0700

    (ImageFormatChecker.java) run default format checkers before custom ones
    
    Summary:
    Searching for default formats aught to go first.
    
    -Run test suite.
    -Ensure that all file types in Showcase app still work.
    Closes https://github.com/facebook/fresco/pull/1855
    
    Reviewed By: kirwan
    
    Differential Revision: D5554357
    
    Pulled By: oprisnik
    
    fbshipit-source-id: 542166138100bf64270b47f90d8bc7def6b9d49c

commit 2c2b8b0b264481ca6dd178e72456a52fcd118980
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Fri Aug 4 02:37:57 2017 -0700

    Added resizing sample to documentation
    
    Summary: Add a screenshot and link to the Showcase sample for resizing.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D5555268
    
    fbshipit-source-id: 9eb368d9f100abc1c3c326bb3f168a869198b840

commit 045e22cbbde1ada467a1674855085d61b0ba0b7f
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Thu Aug 3 07:42:01 2017 -0700

    Add min and max size parameters to BitmapPrepareProducer
    
    Summary: After this change, the experimental `ImagePipelineConfig` allows to specify limit for bitmaps that are uploaded to the GPU. This allows to exclude small or large bitmaps from being uploaded.
    
    Reviewed By: oprisnik
    
    Differential Revision: D5545699
    
    fbshipit-source-id: 690b1bc929df7e06b5699bf50855fd9c9e7aea96

commit c6536e82837e361cc71dda4269470f3d0790475f
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Wed Aug 2 11:38:07 2017 -0700

    Remove MediaIdExtractor
    
    Summary:
    Removes the MediaIdExtractor interface and usages.
    
    Also removes the support for ID extraction in the Showcase app's media variations sample.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D5546245
    
    fbshipit-source-id: 3a2f079b272f6b15473e26bdc45d956fb00a1898

commit f174a69ec9bfb4b9526fdd060bd640b740039408
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Wed Aug 2 11:38:03 2017 -0700

    Remove MediaIdExtractor from MediaVariationsFallbackProducer
    
    Summary:
    This is the first step of removing the experimental MediaIdExtractor.
    
    This removes the usages from the producer.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D5546236
    
    fbshipit-source-id: 8d685e5815b0d0ff37e5d622d2f31890406cf646

commit 47159a2cee1b56a955b9fd62de5216d6028cd7f1
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Wed Aug 2 11:07:53 2017 -0700

    Update codeStyleSettings.xml
    
    Summary:
    We have applied some Google Java Format styles in our code style, for example order of imports.
    
    This updates the project's code style file to keep these consistent.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D5546425
    
    fbshipit-source-id: ec112e668c10c6a0dd7bf54cc1159ae194f1babc

commit f3c802de5eae3b7ccab837915f81bf3d73d76198
Author: Victor Laguna <vlaguna@fb.com>
Date:   Wed Aug 2 09:17:44 2017 -0700

    Add support to fitBottomStart scaleType
    
    Summary: Introducing fitBottomStart scaleType which scales the child to fit inside the parent, aspect ratio is preserved and child is aligned to bottom-left.
    
    Reviewed By: kirwan
    
    Differential Revision: D5543561
    
    fbshipit-source-id: 21cc7879e45f69ac309e616cf5b1d55070afb109

commit ca5b6778cba3bc7b19de95a44b7d3bfb6a2c6a44
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Wed Aug 2 08:18:35 2017 -0700

    Added resizing example to Showcase app
    
    Summary:
    This adds a resizing example to the Showcase app. You can select different resize parameters and also disable resizing.
    If the debug overlay is enabled, you'll see the resized image dimensions.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D5546178
    
    fbshipit-source-id: b89501c4dee20216fb7650a65130e719769ceaee

commit f2268961dfd7d8be9ea3b3cf1a978c4d7d0aac9a
Author: Omer Strulovich <ostrulovich@fb.com>
Date:   Tue Aug 1 04:59:52 2017 -0700

    Update imports in all files to new import order due to formatter
    
    Reviewed By: passy
    
    Differential Revision: D5536065
    
    fbshipit-source-id: 3658d19006e84091ce5e244087c315ae41e96f10

commit df4e4ca57e9febcd8ff69a95c7628edcc6437ed9
Author: Alex Duda <aduda@fb.com>
Date:   Mon Jul 31 14:45:57 2017 -0700

    Add information to TooManyBitmapsException for debugging
    
    Reviewed By: oprisnik
    
    Differential Revision: D5509293
    
    fbshipit-source-id: 2aa54d623c6698a1126007c02a574ee7d8ff6feb

commit 92350074e09218955250aa5d80d8e583049e9c43
Author: JuniperPhoton <dengweichao@hotmail.com>
Date:   Mon Jul 31 06:13:43 2017 -0700

    Fix issue: should not round null bitmap in RoundedBitmapDrawable
    
    Summary:
    When setting null bitmap to drawee view which is rounded, it occurs NPE.
    
    After this fix change, in `DraweeRoundedCornersFragment`,  replace the code in line 88 with:
    
    ```
    mDraweeRound.getHierarchy().setImage(new BitmapDrawable(getResources(), (Bitmap) null), 1, false);
    ```
    
    and it should not throw NPE again.
    Closes https://github.com/facebook/fresco/pull/1848
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D5526315
    
    Pulled By: kirwan
    
    fbshipit-source-id: d855775cb4cfe73faa5703b8cda1cbe8d450058b

commit 2c542919b57eab41a5d4dd5a9f69190f8167133b
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Mon Jul 31 01:00:00 2017 -0700

    Fix documentation for minBucketSize in PoolParams
    
    Reviewed By: oprisnik
    
    Differential Revision: D5516610
    
    fbshipit-source-id: f0bdfad37c3149f95c155c6ca8e36f2bd010a7ea

commit 0116c3ec19a8b1b178223effb11b90086319ca86
Author: DkBai <dktalk@qq.com>
Date:   Fri Jul 28 10:02:33 2017 -0700

    Remove duplicated content (01-resizing.md)
    
    Summary:
    remove duplicated content
    
    Thanks for submitting a PR! Please read these instructions carefully:
    
    - [ ] Explain the **motivation** for making this change.
    - [ ] Provide a **test plan** demonstrating that the code is solid.
    - [ ] Match the **code formatting** of the rest of the codebase.
    - [ ] Target the `master` branch
    
    What existing problem does the pull request solve?
    
    A good test plan has the exact commands you ran and their output, provides screenshots or videos if the pull request changes UI or updates the website. See [What is a Test Plan?][1] to learn more.
    
    If you have added code that should be tested, add tests.
    
    Sign the [CLA][2], if you haven't already.
    
    Small pull requests are much easier to review and more likely to get merged. Make sure the PR does only one thing, otherwise please split it.
    
    Make sure all **tests pass** on [Circle CI][4]. PRs that break tests are unlikely to be merged.
    
    For more info, see the [Contributing guide][4].
    
    [1]: https://medium.com/martinkonicek/what-is-a-test-plan-8bfc840ec171#.y9lcuqqi9
    [2]: https://code.facebook.com/cla
    [3]: http://circleci.com/gh/facebook/fresco
    [4]: https://github.com/facebook/fresco/blob/master/CONTRIBUTING.md
    Closes https://github.com/facebook/fresco/pull/1846
    
    Differential Revision: D5517462
    
    Pulled By: lambdapioneer
    
    fbshipit-source-id: 61e10c4c8978d1736e061ade7c5e52574349fb7c

commit cb311c3013a4b5cd0cd35e9c80e2b27f026be6b2
Author: Sam Blackshear <shb@fb.com>
Date:   Wed Jul 26 18:46:35 2017 -0700

    mark Clock and MonotonicClock thread-safe
    
    Reviewed By: dreiss
    
    Differential Revision: D5501807
    
    fbshipit-source-id: dd15c9d292d99fa60cb2555b2a80dd347583e213

commit 9fdeb547f5c4a2faf10c65d4e0dcf2a3ee12b8f4
Author: Frank Chung <frank_chung@htc.com>
Date:   Fri Jul 21 10:21:38 2017 -0700

    Support for local content video uri thumbnail loading
    
    Summary:
    Current local content URI only supports image loading, the thumbnail for video is only supported by file path uri.
    Closes https://github.com/facebook/fresco/pull/1833
    
    Reviewed By: foghina
    
    Differential Revision: D5469879
    
    Pulled By: erikandre
    
    fbshipit-source-id: a1049d94d301c825f6f08817e46c31a6e2abb8a7

commit f733fc64ff4ab0bc7ab3adc2fac8d080874d3aa1
Author: Erik Andre <erikandre@fb.com>
Date:   Wed Jul 19 16:19:11 2017 -0700

    Remove button from docs landing page
    
    Reviewed By: foghina
    
    Differential Revision: D5457064
    
    fbshipit-source-id: 322a046775a3e18688f7b9870bb85c600b10ef9c

commit 6e45c2d33a6bf5f8c393277d0bc4367d5849b86d
Author: Felix Oghina <foghina@fb.com>
Date:   Wed Jul 19 15:52:27 2017 -0700

    fix redirect loop
    
    Summary:
    Redirects are broken (e.g. http://frescolib.org/docs/using-drawees-xml.html), we should fix this.
    
    Update `github-pages` gem to latest version, this triggers the repro locally. Update redirect template to use correct variables -> repro goes away.
    Closes https://github.com/facebook/fresco/pull/1832
    
    Differential Revision: D5457438
    
    Pulled By: erikandre
    
    fbshipit-source-id: 108328a75c5518b7509bc1133e4c374277a5de60

commit 73ec9e8f844dcf3cc5e4b2e62efe87c385cd57b4
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Wed Jul 19 11:22:38 2017 -0700

    Remove animated-base-support reference from docs
    
    Summary: `animated-base-support` doesn't exist any more since it's no longer needed.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D5452085
    
    fbshipit-source-id: 21509bb45f715100b0519f85da6961fe811c8bbf

commit 07271efe18222fa1744bb7604c2e1aeb6ee94930
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Wed Jul 19 02:51:50 2017 -0700

    Merging PR #1825 - Updating all documentation
    
    Summary:
    Updates the http://frescolib.org/docs/ with a new version that fixes existing issues and adds new content. Some content has been re-prioritized to make it easier to consume for new users of the Fresco library.
    
    Many of the documents now have images and videos that demonstrate the changes. Consistent links to the new showcase app make it easier to find code to start with.
    
    This PR contains the work of multiple authors:
     - erikandre
     - foghina
     - kirwan
     - lambdapioneer
    
    Reviewed By: foghina
    
    Differential Revision: D5442768
    
    Pulled By: lambdapioneer
    
    fbshipit-source-id: f0b2885c6cc8790abf8fda539957027d5f805fec

commit a81c1f0f9f3e12f546c1e9178ac9c6b75bd53118
Author: Erik Andre <erikandre@fb.com>
Date:   Tue Jul 18 08:26:32 2017 -0700

    Disable partial image caching in the showcase app
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D5424339
    
    fbshipit-source-id: 0b847fa1a10e5762293e45792111a920a170fa7f

commit b7b9182a47b403a98ea8881dbe6da61fcedcf6da
Author: Erik Andre <erikandre@fb.com>
Date:   Tue Jul 18 08:22:57 2017 -0700

    Better error handling for devices with sqlite issues
    
    Reviewed By: kirwan
    
    Differential Revision: D5442238
    
    fbshipit-source-id: 4d025bf3a7c53b9bcd75151a3a7e0a7e47fab249

commit adf76503dfd5e2b3a467bf34d624ecd9b51a16ac
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Mon Jul 17 11:14:43 2017 -0700

    @allow-large-files [fresco] Updated JavaDoc for v1.4
    
    Reviewed By: grzmiel
    
    Differential Revision: D5433286
    
    fbshipit-source-id: 4fe40cc224130649adc607094a749ce191582728

commit 8f2e4ce4412385d9019ee93589784d3c6330c879
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Mon Jul 17 06:42:30 2017 -0700

    Bump version number to 1.4.0 in readme and docs
    
    Reviewed By: erikandre
    
    Differential Revision: D5423620
    
    fbshipit-source-id: d1ebbb60d39653ffc5cde356637f53f134bf2534

commit 4f19322ff68618240598bd3dd1e69e33ad928941
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Mon Jul 17 02:36:32 2017 -0700

    Fixed kotlin sample app release builds
    
    Summary: Wrong proguard file.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D5425506
    
    fbshipit-source-id: 3208dfa09c0ee13641ae2640ad50027d86c90344

commit 147c5e2f7e5a55ce99c223ace7c0826e553c0aa5
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Fri Jul 14 11:03:43 2017 -0700

    Fixed build when ProGuard is enabled
    
    Summary: The interface needs to be public or ProGuard won't compile release builds.
    
    Reviewed By: kirwan
    
    Differential Revision: D5425151
    
    fbshipit-source-id: 265324a57c663b6e483f7db69f33222ce46bbd0d

commit b4633d264f0de85d85a02015b72c0db009f3be2d
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Fri Jul 14 10:33:48 2017 -0700

    Added @TargetApi to RoundedColorDrawable
    
    Summary: Lint is complaining that the API has been added in Honeycomb. We're already doing the correct checks when we use it but we should also add the corresponding `TargetApi` annotation.
    
    Reviewed By: kirwan, lambdapioneer
    
    Differential Revision: D5424730
    
    fbshipit-source-id: 354b81ce832d4e44b20521240210ec7ed6dab857

commit c41a81aec1ebe7843a758d0292f4feef294f09de
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Fri Jul 14 07:20:51 2017 -0700

    Revert switch_padding in dimens.xml
    
    Summary: A previous change accidentally increased `switch_padding` to 300dp. This reverts that change.
    
    Reviewed By: oprisnik
    
    Differential Revision: D5423927
    
    fbshipit-source-id: dfb8306b5864ab65b795832e7327caeef1965345

commit 6bc4e684261e0637d5291aad2e998d9c45b5e7f1
Author: Felix Oghina <foghina@fb.com>
Date:   Fri Jul 14 06:32:06 2017 -0700

    add tap to retry example
    
    Summary:
    https://streamable.com/mmn82
    Closes https://github.com/facebook/fresco/pull/1824
    
    Differential Revision: D5423751
    
    Pulled By: oprisnik
    
    fbshipit-source-id: c4c80d68b75f4e300e0cc37cf64df6cbf2406aec

commit 1ca892d0b1c7e1345ee9eea395e53eeeeccde026
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Fri Jul 14 06:20:26 2017 -0700

    Bump version to 1.4.0
    
    Reviewed By: erikandre
    
    Differential Revision: D5423613
    
    fbshipit-source-id: 1c0a68e40af402a5f85c514ac5c707f7e2c9ee22

commit 894892d7700d41227bd86a9daff231d2cd8b6c55
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Fri Jul 14 05:55:12 2017 -0700

    Added Artifact for animated-drawable
    
    Summary: This adds a Maven artifact for the new animated-drawable
    
    Reviewed By: erikandre
    
    Differential Revision: D5423556
    
    fbshipit-source-id: 76386571aee50f7e2dc370a3894b21e442df0da5

commit dc7ec2436fc9b639fe1a39398712c360b16da468
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Fri Jul 14 05:16:16 2017 -0700

    Added legacy Drawee visibility handling for Android N and above to fix activity transitions
    
    Summary:
    In Android N, visibility handling of ImageView was changed to use `onVisibilityAggregated`, which doesn't update the visibility of the starting drawee view correctly when the activity transition is reversed.
    As a workaround, you can now just enable legacy visibility handling for the affected `DraweeView`s.
    
    Reviewed By: erikandre, foghina
    
    Differential Revision: D5423477
    
    fbshipit-source-id: 099e745709cdf907864d5b06ac896461b5135c9d

commit addb0a7619e3bad36d614f4afcdd5e1f639dd68f
Author: Nikolay Nesterov <nikolaynesterov@gmail.com>
Date:   Fri Jul 14 04:19:19 2017 -0700

    #1518 declare custom attributes against SimpleDraweeView
    
    Summary:
    Related to #1518
    
    Declare custom attributes against `SimpleDraweeView`to make auto-complete works.
    
    Checked in AndroidStudio 2.3.1
    <img width="405" alt="screen shot 2017-04-19 at 21 53 07" src="https://cloud.githubusercontent.com/assets/4812960/25197268/28536cea-254c-11e7-857d-8846e3b8b981.png">
    Closes https://github.com/facebook/fresco/pull/1729
    
    Reviewed By: oprisnik
    
    Differential Revision: D5423468
    
    Pulled By: kirwan
    
    fbshipit-source-id: 063a4786c52c0255ad60b2d212e98c40fc618193

commit f632e3664c201d0636775fb1177e56efa78895ff
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Thu Jul 13 09:12:22 2017 -0700

    Remove obsolete demo app
    
    Reviewed By: erikandre
    
    Differential Revision: D5415091
    
    fbshipit-source-id: 7c6b736c93d106e3f56fc8f9ee04970081b33eb1

commit a718d175bec9f7e6ff154b788921a29d9eeb6973
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Thu Jul 13 09:12:21 2017 -0700

    Add WebP sample to showcase app
    
    Summary: Moves the WebP samples from `samples/demo` to `samples/showcase`. This is the final step making that app obsolete.
    
    Reviewed By: erikandre
    
    Differential Revision: D5415090
    
    fbshipit-source-id: d52b676cfa8b5a8f85fed3a804eb3c2d0a5d2133

commit ccb89b7b5ac900ea18d50d75ba131fb7083d514c
Author: Erik Andre <erikandre@fb.com>
Date:   Thu Jul 13 08:59:35 2017 -0700

    Update support lib to 25.4.0
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D5406330
    
    fbshipit-source-id: 7c87411846ebc6f276c357c1bdd30a8629458e57

commit 3ad23881706b5f4aaab581a5232fbd986bd1b0e5
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Thu Jul 13 05:25:39 2017 -0700

    Remove unused sample/bitmapfactory sample app
    
    Reviewed By: oprisnik
    
    Differential Revision: D5408043
    
    fbshipit-source-id: 170de821a111303029bc7285e2aa62550de009d0

commit aafa199eeb7b0467d6900d059cfac7063ad94edc
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Thu Jul 13 05:02:33 2017 -0700

    Add PlatformBitmapFactory to showcase app (contains rainbows)
    
    Summary:
    This adds an example on how to manually create Bitmaps using Fresco's `PlatformBitmapFactory`. It also demonstrates how one could handle the `CloseableReference<...>` correctly within an object with a lifecycle.
    
    When starting and backgrounding the showcase app, you should be able to see something like the following in logcat:
    
    ```
    // onStart(): allocating the bitmaps (256 * 256 * 4 = 2.6 MiB)
    com.facebook.fresco.samples.showcase V/unknown:BitmapPool: Used = (123, 81076240); Free = (0, 0)
    com.facebook.fresco.samples.showcase V/unknown:BitmapPool: get (alloc) (object, size) = (67234be, 262144)
    com.facebook.fresco.samples.showcase V/unknown:BitmapPool: Used = (124, 81338384); Free = (0, 0)
    com.facebook.fresco.samples.showcase V/unknown:BitmapPool: get (alloc) (object, size) = (3a6891f, 262144)
    
    // onStop(): releasing the bitmaps
    com.facebook.fresco.samples.showcase V/unknown:BitmapPool: release (free) (object, size) = (67234be, 262144)
    com.facebook.fresco.samples.showcase V/unknown:BitmapPool: Used = (123, 81076240); Free = (0, 0)
    com.facebook.fresco.samples.showcase V/unknown:BitmapPool: release (free) (object, size) = (3a6891f, 262144)
    com.facebook.fresco.samples.showcase V/unknown:BitmapPool: Used = (122, 80814096); Free = (0, 0)
    ```
    
    Reviewed By: oprisnik
    
    Differential Revision: D5407889
    
    fbshipit-source-id: 46e8df951fa2ebc87be7a52d059250c7309b8872

commit 4898a6965af1eaa7ed1ac089c9fb9f0cf089bccb
Author: Felix Oghina <foghina@fb.com>
Date:   Thu Jul 13 02:46:57 2017 -0700

    Remove deprecated method GDHB#setActualImageMatrix
    
    Reviewed By: erikandre
    
    Differential Revision: D5406399
    
    fbshipit-source-id: 5eb7e7685e1d91bd2d2edcfd16562b6917f07302

commit eebe4275ceadd07169e3d4ededecfee2a3fe000c
Author: Felix Oghina <foghina@fb.com>
Date:   Thu Jul 13 02:40:44 2017 -0700

    Remove deprecated EncodedImage#get/setEncodedCacheKey
    
    Reviewed By: erikandre
    
    Differential Revision: D5406811
    
    fbshipit-source-id: 08767e6a46c4d461b843aeade96b42c3d5db04f8

commit 10c1c4c0c12dbd7587df97263968bb5860de2899
Author: Felix Oghina <foghina@fb.com>
Date:   Thu Jul 13 02:39:56 2017 -0700

    Remove deprecated version of ImagePipeline#getDataSourceSupplier
    
    Reviewed By: erikandre
    
    Differential Revision: D5407007
    
    fbshipit-source-id: d51723055d72754320f13e8d75ccea478150db5a

commit e95efd20105bb6afa6af7d5846e7d75741fa87eb
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Thu Jul 13 01:50:49 2017 -0700

    Add history to URI override
    
    Summary: Adds a simple one element history to the URI override setting. Helpful for avoiding copy-pasting when iterating between two URIs.
    
    Reviewed By: erikandre
    
    Differential Revision: D5405962
    
    fbshipit-source-id: 07b338d7c89005246893426d2814b56a5cbf4fbe

commit c242cdb01dd440ce69c37d5424659ea9a0cff414
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Thu Jul 13 01:50:47 2017 -0700

    Remove unused ShowRestartMessageDialog
    
    Reviewed By: erikandre
    
    Differential Revision: D5405949
    
    fbshipit-source-id: 3766b62ea47242f2a6d2eaf3dcb13b9db8d8f0a3

commit 97c70620eec7da9b57a005cd481f3e9b3e4a41b3
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Wed Jul 12 11:30:50 2017 -0700

    Add DataUri sample to showcase app
    
    Reviewed By: oprisnik
    
    Differential Revision: D5406597
    
    fbshipit-source-id: 95ff2768f15dc7dd1ec3c2a7eeb135ec5c7b904d

commit 969053a1a90a995398da0ea94d25ea35235ed3b4
Author: Erik Andre <erikandre@fb.com>
Date:   Wed Jul 12 11:24:51 2017 -0700

    1/n - Update Fresco open source to use libwebp-0.6.0
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D5389146
    
    fbshipit-source-id: f7e05377f04c8d93878733d08ade3afec5296bd7

commit 08624d25df0cf6855269109799ec35bb42dff577
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Wed Jul 12 09:22:38 2017 -0700

    Remove samples/uriapp
    
    Reviewed By: oprisnik
    
    Differential Revision: D5406422
    
    fbshipit-source-id: 73b834cdfbb987e49815b06f491aee3005292260

commit 44502ddda1b05b9874488a5a02606dd70dab1aba
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Wed Jul 12 08:48:47 2017 -0700

    Removed transition sample app
    
    Summary: Since we now have a transition sample in the Showcase app, we don't need this one any more.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D5406198
    
    fbshipit-source-id: 00929213a1a66f95a6791aba05d502f3cf4ce490

commit 96c2d1b9657b63c2d015791faa0243ff14ff069e
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Wed Jul 12 08:18:48 2017 -0700

    Added transition example to Showcase app
    
    Summary: This adds a transition sample to the Showcase app similar to the existing transition app (which will be removed).
    
    Reviewed By: foghina, lambdapioneer
    
    Differential Revision: D5398272
    
    fbshipit-source-id: 50df7b6718f46191fb78bcb046fae9a446af7cc4

commit dbbd46f4d3e3ebddf9e0a9213f03500b8b3674ba
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Wed Jul 12 07:17:17 2017 -0700

    Add snackbar reminder for URI override
    
    Summary: The snack bar reminds the user when there's an URI override set in the settings. This avoids confusion, when samples to not behave as expected.
    
    Reviewed By: oprisnik
    
    Differential Revision: D5397701
    
    fbshipit-source-id: 332d4a41779eafebbdfd54a775946792421c0fd1

commit 020fd47481e3516ed96ab2d53053fd65dd7e5d04
Author: Erik Andre <erikandre@fb.com>
Date:   Wed Jul 12 07:09:36 2017 -0700

    Removed empty media var sample app module
    
    Reviewed By: kirwan
    
    Differential Revision: D5405838
    
    fbshipit-source-id: 54135837789d407f4175f53bd1a6dc95718a4fe3

commit 5624fe57bc08d845ad4ed2238bcbaf6ff26ba6a1
Author: Daniel H <daniel.hugenroth@gmail.com>
Date:   Wed Jul 12 07:07:05 2017 -0700

    Fix CircleCI: Explicit NDK unzip target location
    
    Summary:
    CircleCI was broken by the last changes to update the NDK. As a result Circle-CI failed on all current builds.
    
    The underlying reason is that the pre-configuration commands are executed in the `/home/ubuntu/fresco` folder, but were supposed to run in `/home/ubuntu`. Subsequently, the NDK ended up in a wrong location.
    
    Adding the explicit destination folder to the `unzip` command using the `-d destination_folder` option.
    
    Circle CI passes after this change: https://circleci.com/gh/facebook/fresco/1012 (or see below).
    Closes https://github.com/facebook/fresco/pull/1822
    
    Reviewed By: kirwan
    
    Differential Revision: D5406266
    
    Pulled By: lambdapioneer
    
    fbshipit-source-id: de1154f9212ab4b164c85e738d34b2ad6f3ec057

commit f6902cf13366dc55a797246b5de97be4d6645083
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Wed Jul 12 05:52:06 2017 -0700

    Fixing build configuration
    
    Reviewed By: oprisnik
    
    Differential Revision: D5406100
    
    fbshipit-source-id: 925e5fdb3ba6fb43445c7203149794b27695c2c2

commit 62c58fdb052d7183fbe48501e67155350384f694
Author: Felix Oghina <foghina@fb.com>
Date:   Wed Jul 12 03:50:01 2017 -0700

    Fix IncreasingQualityDataSource to keep low res image if hi res fails
    
    Summary:
    Turns out that if the high res image fails to load (e.g. instant 404), while the low res is still loading, the low res is cancelled. This diff makes it so that IncreasingQualityDataSource stores the failure cause for the high res while waiting for all other requests to complete.
    
    Related:
    
    * https://github.com/facebook/fresco/issues/1676
    * https://github.com/facebook/fresco/pull/1677
    
    Reviewed By: oprisnik
    
    Differential Revision: D5397825
    
    fbshipit-source-id: 95fb9651f016fb38463f3a085366af03a5d33a32

commit a2e14b292970c7b2bf70440016d4d6cd6290d190
Author: Erik Andre <erikandre@fb.com>
Date:   Wed Jul 12 03:24:53 2017 -0700

    Updated docs for rounding modes
    
    Summary: Updated docs for rounding mode
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D5397850
    
    fbshipit-source-id: f97db61784a8edcf023c5ed00cd2ae6a8f0303b6

commit c0a121da01159398beae28d37f4b5f0c9d22a2c8
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Wed Jul 12 02:50:44 2017 -0700

    Fix NDK build
    
    Summary:
    This updates the Circle CI configuration to download an up-to-date NDK for the build.
    
    Also we remove the `APP_PLATFORM = ...` declarations, as they lead to double defines in the new version. That value is now propagated from
    
    Reviewed By: oprisnik
    
    Differential Revision: D5397952
    
    fbshipit-source-id: 9a30a185458477541cb28a05f2d0eb33f07b52b8

commit 4404a6c88b17fabb3d431653124c64657518b16e
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Tue Jul 11 05:42:43 2017 -0700

    Update :static-webp to use clang
    
    Summary: Changes `:static-webp` to use clang in order to work with newer NDKs that deprecate good-old g++
    
    Reviewed By: oprisnik
    
    Differential Revision: D5397269
    
    fbshipit-source-id: 395e706270024e139415f3d4f6932ca88bab41a3

commit 4be8b498fcb72cc61adf31e598dae9e4688539dd
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Tue Jul 11 05:39:24 2017 -0700

    Update :animated-gif to use clang
    
    Summary: Changes `:animated-gif` to use clang in order to work with newer NDKs that deprecate good-old g++
    
    Reviewed By: oprisnik
    
    Differential Revision: D5397274
    
    fbshipit-source-id: a358d7978679464acdbb9e60952bbd22c778efc3

commit c60b644cdcd13b5956c18716e3d756736f10dbf5
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Tue Jul 11 05:39:15 2017 -0700

    Update :imagepipeline to use clang
    
    Summary: Changes `:imagepipeline` to use clang in order to work with newer NDKs that deprecate good-old g++
    
    Reviewed By: oprisnik
    
    Differential Revision: D5397262
    
    fbshipit-source-id: 473e3f54b2dd2bdc04439f000ccaaf3594d2c1c2

commit 367b62d8bc06b3dafa6be105968f8ac97d8d955c
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Tue Jul 11 04:00:15 2017 -0700

    ImageUriProvider: Update DraweeSpanSimpleTextFragment
    
    Reviewed By: oprisnik
    
    Differential Revision: D5390887
    
    fbshipit-source-id: de775dc3e897e0e6094f14799fc688b3cc220971

commit 70227eadb11fe7cf58805477674412d1cbc33266
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Tue Jul 11 03:56:50 2017 -0700

    ImageUriProvider: Update DraweeRotationFragment
    
    Reviewed By: oprisnik
    
    Differential Revision: D5389074
    
    fbshipit-source-id: 47b31ae74c997231829bb5c24afb1d1f2768a7e6

commit 032117f3e02e089c3a220945a21388ebcf7ca5cd
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Tue Jul 11 03:50:24 2017 -0700

    ImageUriProvider: Update ImagePipelinePostProcessorFragment
    
    Reviewed By: oprisnik
    
    Differential Revision: D5390907
    
    fbshipit-source-id: 0291f3ce142f0d15e201cd7d841cbf1a3e76870c

commit 1ee7aed2066842bc53603408870a0219ecfa4f10
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Tue Jul 11 03:44:18 2017 -0700

    ImageUriProvider: Update DraweeScaleTypeFragment
    
    Reviewed By: oprisnik
    
    Differential Revision: D5389121
    
    fbshipit-source-id: b73e2fe70f374794cc4ff4b5de7774c18845748e

commit 38f37ceece1dce37a78a546c7fd923aab73f71e5
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Tue Jul 11 03:40:46 2017 -0700

    ImageUriProvider: Update DraweeSimpleFragment
    
    Reviewed By: oprisnik
    
    Differential Revision: D5389139
    
    fbshipit-source-id: e72fcaa1568df022db50c410ac5b08d36e3c20e9

commit 0b8eaebe45dda4739c1f389f7cd56dd67b391677
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Tue Jul 11 03:27:25 2017 -0700

    ImageUriProvider: Update DraweeRoundedCornersFragment
    
    Reviewed By: oprisnik
    
    Differential Revision: D5389113
    
    fbshipit-source-id: 9d4131836733766bc2b89c7dd577106a25d66a68

commit ee9ab46d6ea079857486e4e0813fb7d0007bdc9d
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Tue Jul 11 03:13:53 2017 -0700

    ImageUriProvider: Update ImagePipelineNotificationFragment
    
    Reviewed By: kirwan
    
    Differential Revision: D5390899
    
    fbshipit-source-id: 92458f47142fb6a66f09fcb7bb6ef7bcadf31a52

commit a63d02d602d4ffb66bc82fe5dbfc3c1b6e98858d
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Tue Jul 11 02:41:08 2017 -0700

    ImageUriProvider: Update ImagePipelinePrefetchFragment
    
    Reviewed By: kirwan
    
    Differential Revision: D5390947
    
    fbshipit-source-id: 56b413a8fb15c130263e60700f36f3bcb4ae6890

commit 6f5bf5fe3795c7d1668c1b4c77ad9bd9883e4867
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Tue Jul 11 02:38:44 2017 -0700

    ImageUriProvider: Update DraweeHierachyFragment
    
    Reviewed By: kirwan
    
    Differential Revision: D5389057
    
    fbshipit-source-id: c9a44a3b7827109f45752089e2b10bfef3620600

commit 56c80f370dfdeebb1738030df1cc4f77b8841669
Author: Felix Oghina <foghina@fb.com>
Date:   Mon Jul 10 11:38:49 2017 -0700

    Fix CircleCI build again
    
    Summary: Closes https://github.com/facebook/fresco/pull/1821
    
    Differential Revision: D5390911
    
    Pulled By: lambdapioneer
    
    fbshipit-source-id: 5fe2407859bac1613cd2ad1bff598005f8aeaf2b

commit 0df51c5591ee433715dc88cb6c00bb2e17002d78
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Mon Jul 10 11:04:36 2017 -0700

    ImageUriProvider: Update SettingsFragment
    
    Reviewed By: oprisnik
    
    Differential Revision: D5389035
    
    fbshipit-source-id: f14cf1cacb7bb7c9666b0f4fe55e6661d26544ea

commit ba75effefa45106a42b946cc48deb72cb7e5ae5c
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Mon Jul 10 11:04:35 2017 -0700

    Add ImageUriProvider
    
    Summary:
    The `ImageUriProvider` makes the sample image URIs transparent to the samples.
    
    The URI can be chosen based on:
    
     - Size
     - Orientation
     - Whether to append a cache-breaking parameter
    
    Further, it allows for two global settings:
    
     - Override each URI with a custom one
     - Add cache breaking parameter by default
    
    Reviewed By: oprisnik
    
    Differential Revision: D5389021
    
    fbshipit-source-id: 17a0a0c8ddcd99d8506f9dbf745cef674015bcdf

commit 8701ea265f0956a7236013c20d033d55033ada76
Author: Felix Oghina <foghina@fb.com>
Date:   Mon Jul 10 07:58:09 2017 -0700

    apply some instant run optimizations
    
    Summary: Apply recommendations from here: https://www.youtube.com/watch?v=StqAZ1OQbqA
    
    Reviewed By: kirwan
    
    Differential Revision: D5388994
    
    fbshipit-source-id: 08749884c7f3332fed2ac138109e530ce38a5a5a

commit dded47285f8eca6bfb3eb1798ce29ea42d6c0f9f
Author: Felix Oghina <foghina@fb.com>
Date:   Mon Jul 10 05:50:40 2017 -0700

    Attempt to fix CircleCI build
    
    Summary:
    Doing this as a PR to get quick CircleCI feedback.
    Closes https://github.com/facebook/fresco/pull/1820
    
    Differential Revision: D5388866
    
    Pulled By: erikandre
    
    fbshipit-source-id: e3c49b34cf4225f2f03827be4bb7fc2dc94e3ca4

commit c11439d84a9bf76002ae0d14a46ff7072f723ec5
Author: Felix Oghina <foghina@fb.com>
Date:   Mon Jul 10 04:45:15 2017 -0700

    update build tools, gradle plugin and compile sdk
    
    Reviewed By: oprisnik
    
    Differential Revision: D5388739
    
    fbshipit-source-id: fbdb809516c90dfb32867292b60aa7c810fd13ea

commit 6e50d6170dfbfab431176ff4ddbe41a691fc0d91
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Mon Jul 3 08:05:52 2017 -0700

    Removed AnimatedDrawableCachingBackend and related classes
    
    Summary: This removes `AnimatedDrawableCachingBackend`, its implementation and other related classes, including debugging utils.
    
    Reviewed By: kirwan
    
    Differential Revision: D5364123
    
    fbshipit-source-id: bede267e6cd2b20bfa79589e3311c7edc072f258

commit 907ce038ab5016bc60a9c0232f7398be90ed9d7c
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Mon Jul 3 08:05:51 2017 -0700

    Removed AnimatedDrawable and related classes from animated-base
    
    Summary: `AnimatedDrawable` has been replaced by `AnimatedDrawable2`.
    
    Reviewed By: erikandre
    
    Differential Revision: D5363877
    
    fbshipit-source-id: f4681d33abf786bec8b2ff5d8d190824a5ca6582

commit 985c9328c03be601fa68b514ab01edbff0661eda
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Mon Jul 3 08:05:49 2017 -0700

    Removed old AnimatedFactoryImpl and related classes
    
    Summary: `AnimatedFactoryImpl` is no longer needed since we have a new implementation for animated images.
    
    Reviewed By: erikandre
    
    Differential Revision: D5363876
    
    fbshipit-source-id: 265cb7d948743e035dc1536e0bd28936f1a397b5

commit 581a93c52e24c81a188f2d432973158c1a19587e
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Mon Jul 3 06:53:35 2017 -0700

    Removed :animated-base-support since it's not needed for V2
    
    Summary: We'll make the new animation framework the default, so I'm starting to clean up old modules. We don't need the support module any more for the new implementation.
    
    Reviewed By: erikandre, lambdapioneer
    
    Differential Revision: D5264585
    
    fbshipit-source-id: 25fe618ed4216b73071628dca7eaec21f8f7d5d4

commit 0f1d46a14df2849ea039f160d4e5c9347b9667d8
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Mon Jul 3 03:33:20 2017 -0700

    Updated sample apps documentation to include the Showcase app
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4495262
    
    fbshipit-source-id: 725534fac580fa925768129d2c7a6b522eee9b07

commit e6ac5c6dae71ac52177c57fbaece80b29752b1f0
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Mon Jul 3 02:34:53 2017 -0700

    Removed CloseableAnimatedBitmap
    
    Reviewed By: erikandre
    
    Differential Revision: D5348688
    
    fbshipit-source-id: b264b70e1477522f5fe86e82632e0a7b30462906

commit 1836a57c71912e867705e1c2b1038d611af509c1
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Mon Jul 3 01:42:55 2017 -0700

    Unhook old animated factory from provider
    
    Summary: This change removes support for the old animated factory provider, which will be deleted soon.
    
    Reviewed By: erikandre
    
    Differential Revision: D5356151
    
    fbshipit-source-id: 498e37601922573de34f03dafc7c6b132ef93aec

commit 8922dd7295a42f42159675be3b7224615716b38f
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Fri Jun 30 10:22:51 2017 -0700

    Enable animations v2 if animated-base Gradle module has been added
    
    Summary: This enables the new animation implementation.
    
    Reviewed By: erikandre
    
    Differential Revision: D5265434
    
    fbshipit-source-id: 2814c65f2521a50ba251e9a8c21933676e93aafc

commit bfa2b71466c4a848be4728f59f34df08731ace50
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Fri Jun 30 10:22:49 2017 -0700

    Added AnimatedFactoryV2Impl
    
    Summary: This adds an `AnimatedFactory` for the new animation implementation.
    
    Reviewed By: erikandre
    
    Differential Revision: D5265009
    
    fbshipit-source-id: c596e6cc4fc438d55a5044fce81d9b59e5418c90

commit 04b15188999b77df8f2ad52067422d2e54b9b7bc
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Thu Jun 22 05:18:45 2017 -0700

    Moved Fresco-related animation classes to animated-base
    
    Summary: animated-drawable itself should not depend on all of drawee / the imagepipeline, so let's move these classes to animated-base.
    
    Reviewed By: kirwan
    
    Differential Revision: D5294379
    
    fbshipit-source-id: 9d9ecb8a83c77b45ab7eddebee198c6e6e2cb341

commit 2dcf6fbaa20fba0de97011d1c5ff7874406dd8a7
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Wed Jun 21 11:27:25 2017 -0700

    Removed AnimatedDrawableCachingBackendWrapper
    
    Summary: This is no longer needed since we can directly use the new caching infrastructure instead.
    
    Reviewed By: kirwan
    
    Differential Revision: D5293613
    
    fbshipit-source-id: f26901ddbafc9ac1e5fab2e3379e4d43deff2530

commit 788466375e0fbc31d0e75de5c40c1814e8f18246
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Wed Jun 21 11:27:24 2017 -0700

    Removed ExperimentalAnimationFactory that wrapped around old implementation
    
    Summary: Use `ExperimentalBitmapAnimationDrawableFactory` instead.
    
    Reviewed By: kirwan
    
    Differential Revision: D5292332
    
    fbshipit-source-id: 75ccdb0dd8fc1ca3e764a5ab83b3e2fbfeef9006

commit 012c7ea712815cf4059c4a1f07ed4cd749a53c55
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Wed Jun 21 11:27:23 2017 -0700

    Moved animations v2 Gradle dependency
    
    Summary: The DrawableFactory has been moved out of the drawee pipeline, so we can update Gradle dependencies for animations v2.
    
    Reviewed By: kirwan
    
    Differential Revision: D5291958
    
    fbshipit-source-id: 6395446f7ea6c0f2df2764100971bcf69a819ca9

commit 4f13853157bbee52615c13bf8d38c922f8bcdafe
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Wed Jun 21 03:57:44 2017 -0700

    Fixed some formatting nits
    
    Reviewed By: erikandre
    
    Differential Revision: D5283048
    
    fbshipit-source-id: 9e9fed48e900873b28dbc5a2ccd6b4730ab4086f

commit 029fe6be57e4117a4d18634d4d439c3de7661030
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Sat Jun 17 03:46:35 2017 -0700

    Fixed NPE in ImagePipelineFactories if animations disabled
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D5271711
    
    fbshipit-source-id: ff6435d18927ae851aaab7d29b03fecd19f5e976

commit 1fffe191af6b3bd45135aabe665edfdebbcc988a
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Fri Jun 16 15:42:03 2017 -0700

    Remove old :samples:animation sample app
    
    Summary: Please see the animation samples in the `showcase` sample app or `animation2`.
    
    Reviewed By: erikandre
    
    Differential Revision: D5264566
    
    fbshipit-source-id: 1c32520239917e93942845ab76f43302e79f773c

commit c8ddf4dcfb46f0e02a75df29d1bcca0cc85bb41a
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Fri Jun 16 15:42:01 2017 -0700

    Removed AnimatedFactory usage from PipelineDraweeControllerBuilderSupplier
    
    Summary: PipelineDraweeControllerBuilderSupplier shouldn't depend on AnimatedFactory.
    
    Reviewed By: erikandre
    
    Differential Revision: D5264472
    
    fbshipit-source-id: 867998b217593375633925b4d88671982add2225

commit 555322f7ea0f05fcac01288311d446a6cd4976d2
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Fri Jun 16 14:47:43 2017 -0700

    Removed AnimatedDrawableFactory from main Fresco modules
    
    Summary: `AnimatedDrawableFactory` should only be used in `animated-base`. For everything else, we have `DrawableFactory` or `AnimatedFactory`.
    
    Reviewed By: erikandre
    
    Differential Revision: D5256563
    
    fbshipit-source-id: 4ec1b3bb2ded8c1047166df5ec304a95e1674b73

commit 50c50ea405123e07ec7e9817e13ca2ac2efde224
Author: Hilal Alsibai <halsibai@fb.com>
Date:   Fri Jun 16 10:00:18 2017 -0700

    Add sample app written entirely in Kotlin
    
    Summary: Adds a sample app written in Kotlin for future Kotlin use-case experimentation / evaluation
    
    Reviewed By: pakoito
    
    Differential Revision: D5258596
    
    fbshipit-source-id: 9e2d3b629e2708444b2086cb0e704937c7b2d4ab

commit 766b85849652e146e8d6db879b5828c9a0345771
Author: Hilal Alsibai <halsibai@fb.com>
Date:   Thu Jun 15 09:36:26 2017 -0700

    Add runtime permission support to comparison sample app
    
    Reviewed By: oprisnik
    
    Differential Revision: D5251280
    
    fbshipit-source-id: 53ce1dc84645861f82838e37fb3f1431c3c877ca

commit f6fe6c3b3b08801484d56c7b63c6c0a8663d4206
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Thu Jun 15 08:50:32 2017 -0700

    Moved DrawableFactory to imagepipeline-base
    
    Summary:
    NOTE: This is a breaking change for custom drawable factories (e.g. if you add Keyframes / SVG support).
    In order to fix the build, change the `DrawableFactory` import from `import com.facebook.drawee.backends.pipeline.DrawableFactory;` to `import com.facebook.imagepipeline.drawable.DrawableFactory;`.
    
    `DrawableFactory` is closely related to the imagepipeline since it takes a `CloseableImage` (which lives in `imagepipeline-base`) and creates the Drawable that renders the image.
    By moving it to `imagepipeline-base`, we have everything required to add support for new image formats in the same module and it's also possible to use `DrawableFactories` standalone without the need to depend on Drawee.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D5255363
    
    fbshipit-source-id: cf6ea0c217c1244acdf09abdbd73487aa78bf9ed

commit 208adfe4dab50c8f64c30592c4e493beff624bf6
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Wed Jun 14 08:45:58 2017 -0700

    Move AnimatedImageFactory to animated-base
    
    Summary:
    `AnimatedImageFactory` is no longer used within Fresco, only in `AnimatedFactoryImpl`, so we can move it to `animated-base` which will only include it if needed.
    This also means that it can be easily removed later on.
    
    Reviewed By: erikandre
    
    Differential Revision: D5245879
    
    fbshipit-source-id: dade4e1524ab63f710fa1d2aada814c08e4b49c1

commit e8f384a743adf5b3e48eb9c6d588bc0f230c2966
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Wed Jun 14 08:45:57 2017 -0700

    Remove AnimatedDrawableFactory from PipelineDraweeControllerFactory
    
    Summary: `PipelineDraweeControllerFactory` should not depend on `AnimatedDrawableFactory`
    
    Reviewed By: erikandre
    
    Differential Revision: D5245714
    
    fbshipit-source-id: e0c2af35ae74520853f44469c3dee250a39ecf74

commit 14d1e6f6b88320910c49b3438471a16f9a292ea8
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Wed Jun 14 08:45:54 2017 -0700

    Change AnimatedFactory implementation to return ImageDecoders directly instead of AnimatedImageFactory
    
    Summary: Don't return AnimatedImageFactory for `AnimatedFactory`
    
    Reviewed By: erikandre
    
    Differential Revision: D5209209
    
    fbshipit-source-id: 8de1a4e0a0d50a9bcc7ab3eb9b19570d40188ced

commit 6ffc70e2e8f48d151a7f3a279f2eb283df7cb583
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Wed Jun 14 08:45:52 2017 -0700

    Removed AnimatedImageFactory from ImagePipelineConfig
    
    Summary: This removes `AnimatedImageFactory` from `ImagePipelineConfig` since it's no longer needed and we have the more generic `ImageDecoder` and `DrawableFactory` interfaces instead.
    
    Reviewed By: erikandre
    
    Differential Revision: D5245559
    
    fbshipit-source-id: 36fc2c98d67ff56cef9b459a7ff5ad0a1ae50717

commit 9ffc6009b4013853cf7ea3f9fd064bc57f12d978
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Wed Jun 14 08:45:51 2017 -0700

    Removed AnimatedImageFactory from DefaultImageDecoder
    
    Summary: This removes `AnimatedImageFactory` from DefaultImageDecoder since we have the more generic `ImageDecoder` interface instead.
    
    Reviewed By: erikandre
    
    Differential Revision: D5209018
    
    fbshipit-source-id: aba09c17725e29dc8164021c7c983a6771b28845

commit 119aa6775a74bbe592da3f54f3114a39599ea1b2
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Wed Jun 14 08:45:49 2017 -0700

    Remove AnimatedDrawableFactory from PipelineDraweeController
    
    Summary: `PipelineDraweeController` should not depend on `AnimatedDrawableFactory` since we have the more generic `DrawableFactory` interface.
    
    Reviewed By: erikandre
    
    Differential Revision: D5208927
    
    fbshipit-source-id: 0c4a6a0fe0458f0e1c31a50eec712e533bb9dabf

commit cf8681a221b1a8317a9b253ce02eaeed44dbae11
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Wed Jun 14 05:38:45 2017 -0700

    Fix OSS build by adding missing powermock dependency
    
    Summary: The previous change was missing a powermock dependency for the `:fbcore:testDebugUnitTest` target
    
    Reviewed By: oprisnik
    
    Differential Revision: D5245533
    
    fbshipit-source-id: 5b8bd083d9c7078559a64e38ec26cf77ef967047

commit f013c8bbad39b2ec1fcb9289384f331a6a3a8a13
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Wed Jun 14 03:56:13 2017 -0700

    Add DataSources#waitForFinalResult 2/w
    
    Summary:
    : A helper method to allow for synchronous fetches of decoded and encoded images.
    
    Sample usage:
    
    ```
    DataSource<CloseableReference<PooledByteBuffer>> dataSource = mImagePipeline.fetchEncodedImage(imageRequest, callerContext);
    try {
        final CloseableReference<PooledByteBuffer> result = DataSources.waitForFinalResult(dataSource);
        //
        // do something with result
        //
    } finally {
        dataSource.close();
    }
    ```
    
    Reviewed By: oprisnik
    
    Differential Revision: D5228893
    
    fbshipit-source-id: 1c3bfae6f4384d9fc36b7a7c607889d9615e0d5d

commit feeac42448da2a3c244ae9a3f90960ece9daef98
Author: Abhishek Choudhary <abhishekch@fb.com>
Date:   Mon Jun 12 23:36:33 2017 -0700

    Added priorities to ActivityListener to have a deterministic order of execution
    
    Differential Revision: D5228298
    
    fbshipit-source-id: 05306fb03883078c22db894c2041f572a1754624

commit 19f3b07c1eb07981f981ef67d9831d0f7d41a1fe
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Mon Jun 12 09:15:49 2017 -0700

    ZoomableDraweeView: Simplify touch logic
    
    Summary: This enables the experimental simple zooming code per default.
    
    Reviewed By: kirwan
    
    Differential Revision: D5227474
    
    fbshipit-source-id: ce88d4244b0ea1b34eacac4c22fd9715508deafe

commit 8a758b01b85c7786e4a5daa3044768704990b3a2
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Sun Jun 11 13:40:44 2017 -0700

    Amend other consumers to work better with partial results
    
    Summary: Small changes to two of the existing producers to ensure they act correctly with partial requests and responses.
    
    Reviewed By: erikandre
    
    Differential Revision: D5217114
    
    fbshipit-source-id: 3aab8f0c8dddb1efeb4ca650309da49632780c18

commit 7d3d7e0472b1f9b2d012c973a1bd86caedfecd2c
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Sun Jun 11 13:40:42 2017 -0700

    Include PartialDiskCacheProducer in the pipeline if required
    
    Summary: This introduces the PartialDiskCacheProducer to the image pipeline if the appropriate experimental flag is enabled.
    
    Reviewed By: lambdapioneer, erikandre
    
    Differential Revision: D5217077
    
    fbshipit-source-id: 70334451d4bdb23bbfc2a7040902d7ca5be5136c

commit c1176a2f28b34e8f3a351a3ca5591cd94b207f11
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Sun Jun 11 13:40:41 2017 -0700

    Create PartialDiskCacheProducer
    
    Summary:
    Create a new producer and consumer (adapted from the standard disk cache producers) to deal with partial image data.
    
    Its main roles are to:
    
    1) Store partial results in the cache with a slightly-amended cache key
    2) Read partial results from cache if available and return as an early non-final result
    3) Request the remainder of the image when the partial result was cached
    4) Stitch the two parts back together
    
    Reviewed By: oprisnik
    
    Differential Revision: D5217064
    
    fbshipit-source-id: be1142cc46de5c866c1446c3f1e9c1b55f29f525

commit f11ed9049d844c0e31242e6cb690dc55214e9ece
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Sun Jun 11 13:40:39 2017 -0700

    Set BytesRange when receiving a Content-Range
    
    Summary:
    When an HTTP response is received with a "Content-Range" header, this creates a `BytesRange` object.
    
    This is only implemented in the OkHttp 3 fetcher.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D5208992
    
    fbshipit-source-id: 56088f0b3651d8af3c1d00cb0daa15b14f2e1307

commit 7c586fcab9b8f97499e76b4fa1f497a69dd5d947
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Thu Jun 8 17:08:18 2017 -0700

    Add a consumer status flag for partial results
    
    Summary: Adds a new consumer status flag or `IS_PARTIAL_RESULTS` and makes the caching consumers respect it. That largely means ignoring it as a new producer will be responsible for the caching.
    
    Reviewed By: massimocarli
    
    Differential Revision: D5121857
    
    fbshipit-source-id: 2a75cf589d20aad2d81621dcdab20ec29cef4877

commit 375d814d58ba98450415178c31ca4eaa64a99921
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Thu Jun 8 17:08:17 2017 -0700

    Add Showcase sample for partial loading
    
    Summary:
    Adds a sample to the Showcase app in which we can load part of an image and then follow that with a request for the remainder of the image.
    
    The first "load partial" button loads just the first 30000 bytes of the image and the second launches a request to load the remainder of the image.
    
    Currently, the first image is cached against the URI so the rest of the image isn't loaded. This enables the testing of the implementation as it's fleshed out in following diffs.
    
    Reviewed By: erikandre
    
    Differential Revision: D5120995
    
    fbshipit-source-id: 38630c8fa273ba341c32b3e0c66bf37514d4f815

commit 209c57dbfad55f52c533f5029f3c4bbb2fb503f4
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Thu Jun 8 17:08:15 2017 -0700

    Add support for BytesRange in network fetcher
    
    Summary:
    Network fetcher for OkHttp 3 now includes the bytes range if one is defined in the image request.
    
    This has not been implemented for the basic HttoUrlConnectionFetcher or the deprecated OkHttp 2 fetcher.
    
    Reviewed By: erikandre
    
    Differential Revision: D5120584
    
    fbshipit-source-id: e68b40c53a294a0023a24380cdb4ab766689d3b3

commit 48881533b9a4b6c6ae55e5859eabecb583345b36
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Thu Jun 8 17:08:14 2017 -0700

    Add BytesRange class and include in ImageRequest
    
    Summary: Create a new BytesRange class and add it to ImageRequest.
    
    Reviewed By: erikandre
    
    Differential Revision: D5120556
    
    fbshipit-source-id: 5c1a347aa1f5fbc15eea5a9c7312d5b0bc58f2a1

commit 6be169aae6415c4f7e83128f0d83282846b029f5
Author: Sam Blackshear <shb@fb.com>
Date:   Thu Jun 8 14:30:18 2017 -0700

    add ReturnsOwnership annotation to suppress some Infer warnings
    
    Reviewed By: jaegs
    
    Differential Revision: D5210090
    
    fbshipit-source-id: a65314381c09437bf213cc51baabd9ba2db6721d

commit bbbcda1d7096775e16d33dadab0477c1882238d8
Author: Hee Jung <heeheeheejung@fb.com>
Date:   Thu Jun 8 12:10:49 2017 -0700

    DefaultDiskStorage$FileType
    
    Reviewed By: erikandre
    
    Differential Revision: D5195118
    
    fbshipit-source-id: 50b06613c28e28ea5d905a30d7e20d393ebc06e8

commit db1c03320b83c905225668646fde7b8219c4d72b
Author: orenklein <redking12@gmail.com>
Date:   Wed Jun 7 05:44:21 2017 -0700

    Update EncodedImage documentation
    
    Summary:
    Regarding issue #1791
    I'm not sure if getSampleSize does also support other formats than JPEG
    Closes https://github.com/facebook/fresco/pull/1792
    
    Reviewed By: kirwan
    
    Differential Revision: D5199235
    
    Pulled By: erikandre
    
    fbshipit-source-id: 6b5c62bf9930f8eea41a9398769342601f286d7e

commit 63eff9b3b211bb36f2df9f0d59465c0f6f053838
Author: Sam Blackshear <shb@fb.com>
Date:   Mon Jun 5 13:40:55 2017 -0700

    refactor lazy initialization to make Infer happy
    
    Reviewed By: oprisnik
    
    Differential Revision: D5178869
    
    fbshipit-source-id: e5c635575db02a65b79561fb784d974e3876898d

commit 602bd2f9e2e849f69806a81c66b8a45afd98c041
Author: Artem Chubaryan <achubaryan@mobitv.com>
Date:   Fri May 26 11:07:45 2017 -0700

    Docs caching update
    
    Summary:
    I just noticed that I forgot to replace `ImageType` with `CacheChoice` in next paragraph:
    
    > The pipeline will default to using the same cache for both and ImageType will be ignored.
    
    I already had a [PR for first commit](https://github.com/facebook/fresco/pull/1781) which got approved, but this pr has both commits.
    Closes https://github.com/facebook/fresco/pull/1782
    
    Differential Revision: D5138764
    
    Pulled By: lambdapioneer
    
    fbshipit-source-id: 7f67bcaf67cdfb452e67dac275bffdb684558ab6

commit 077dd4f4317b9e9b7624aa3221da5722294fb91c
Author: Artem Chubaryan <achubaryan@mobitv.com>
Date:   Thu May 25 16:02:30 2017 -0700

    Updated Caching docs with up-to-date usage of CacheChoice (instead of ImageType)
    
    Summary:
    Current [caching documentation](http://frescolib.org/docs/caching.html)'s section on small cache has outdated code example. Had to search myself for what the ImageType was renamed into.
    
    I updated the code example and corresponding text to refer to CacheChoice properly.
    Closes https://github.com/facebook/fresco/pull/1781
    
    Differential Revision: D5133968
    
    Pulled By: lambdapioneer
    
    fbshipit-source-id: d3ce71808fbd93fa18e66a3c6fa6d84321568858

commit b8fb4be12b7080e9e85cd3d1196e140d58eebc84
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Thu May 25 06:17:56 2017 -0700

    Added experiment to allow caching of partial images
    
    Summary: This creates an experimental flag allowing the caching of incomplete image data. Future commits will implement the necessary functionality.
    
    Reviewed By: erikandre
    
    Differential Revision: D5120507
    
    fbshipit-source-id: 923f4db6e1d0f5b3e540bf7ff7fb8a580ded2115

commit 73f3a9c9b016995fe4cacc4f548be626083faee5
Author: Roman Shapovalov <romansh@fb.com>
Date:   Wed May 24 04:07:23 2017 -0700

    Fix rotation for images with non-zero EXIF orientation in Fresco.
    
    Reviewed By: kirwan
    
    Differential Revision: D5111409
    
    fbshipit-source-id: dd4e8f3aa7f40b2a61bf9824cdc00517a92d1936

commit 337e140f635aeb7fc2792acd043ec13979ad711a
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Tue May 23 19:17:42 2017 -0700

    Bitmap.prepareToDraw: Enable prepareToDraw for ShowCase app
    
    Summary: Enables the `prepareToDraw` optimization for the showcase app by default. This has no affect on Android version before N.
    
    Reviewed By: erikandre
    
    Differential Revision: D5106643
    
    fbshipit-source-id: 54a893780add5d210e280b0330adc1fa4e462414

commit 4bc362217390e311a25f1f0d1b390c0bbdd9f9b7
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Tue May 23 19:17:41 2017 -0700

    Bitmap.prepareToDraw: Add BitmapPrepareProducer to ProducerSequenceFactory
    
    Summary: This adds the `BitmapPrepareProducer` to the `ProducerSequenceFactory`. It will be added at the very end of the pipeline (after the optional post-processor) since we are interested to upload the final Bitmap that is passed back to Drawee. Also note that we do not add the producer for versions below Android N and avoid the overhead this way.
    
    Reviewed By: erikandre
    
    Differential Revision: D5106621
    
    fbshipit-source-id: 6c76551f1c8dd6e97837b3846197a1ffda501dd8

commit e6715bc38c4d3885c795ff273a20af1eb9b0eb8b
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Tue May 23 19:17:39 2017 -0700

    Bitmap.prepareToDraw: Add experimental config flag
    
    Summary: This change adds a new flag to `ImagePipelineExperiments` that enables an optimization that speculatively uploading the bitmap to the GPU ahead of time. For now it defaults to `false`, but future releases most likely will have this enabled by default.
    
    Reviewed By: erikandre
    
    Differential Revision: D5106565
    
    fbshipit-source-id: bf0e232c8e0057209c54324f1cfd7177d3227b1f

commit b9f6fdbc9b02971c7ef99bd4ceec7a48f8c196c7
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Tue May 23 19:17:38 2017 -0700

    Bitmap.prepareToDraw: Add BitmapPrepareProducer
    
    Summary:
    This change adds a `BitmapPrepareProducer` that optimistically uploads a `CloseableStaticBitmap` to the GPU. Requests that are pre-fetching are ignored and just passed through.
    
    By calling `Bitmap#prepareToDraw` the `RenderThread` can upload the `Bitmap` asynchronously when it's idle. This has often moves the upload out of `DrawFrame` and therefore improves the critical path.
    
    This came up from issue https://github.com/facebook/fresco/issues/1756 that was risen from the Android UI Toolkit Graphics team.
    
    I've verified the change using `systrace` on my Google Pixel phone. Screenshots in the comments
    
    Reviewed By: erikandre
    
    Differential Revision: D5106592
    
    fbshipit-source-id: b2c9873c7b120f8bf4ab56c1eac9819c787b0757

commit 359dc5126881ba0225871246f395f8133e8429d3
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Tue May 23 13:26:34 2017 -0700

    Add upper-bound checks for NativeBlurFilter
    
    Summary: To avoid Integer over-flows in the native code, we check all arguments against upper bounds.
    
    Reviewed By: foghina
    
    Differential Revision: D5109666
    
    fbshipit-source-id: 2ad8c52d7e1650fbe2f2ce63a03e39c42b30df80

commit 9a75a448ea511aab907ac7d938cd5043c4ae45cf
Author: Eric Lu <mtlu@yahoo-inc.com>
Date:   Tue May 23 01:13:03 2017 -0700

    #1608: Remove deprecated flag: -fno-weak in mk files.
    
    Summary:
    Issue#1608: Build fails with clang++: error: unknown argument: '-fno-weak'
    https://github.com/facebook/fresco/issues/1608
    
    Since NDK r13, GCC is no longer supported.
    https://github.com/android-ndk/ndk/wiki/Changelog-r13#announcements
    
    Thanks for submitting a PR! Please read these instructions carefully:
    
    - [x] Explain the **motivation** for making this change.
    - [x] Provide a **test plan** demonstrating that the code is solid.
    - [x] Match the **code formatting** of the rest of the codebase.
    - [x] Target the `master` branch
    
    Fix Issue#1608: Build fails with clang++: error: unknown argument: '-fno-weak'
    
    Sign the [CLA][2], if you haven't already.
    
    Small pull requests are much easier to review and more likely to get merged. Make sure the PR does only one thing, otherwise please split it.
    
    Make sure all **tests pass** on [Circle CI][4]. PRs that break tests are unlikely to be merged.
    
    For more info, see the [Contributing guide][4].
    
    [1]: https://medium.com/martinkonicek/what-is-a-test-plan-8bfc840ec171#.y9lcuqqi9
    [2]: https://code.facebook.com/cla
    [3]: http://circleci.com/gh/facebook/fresco
    [4]: https://github.com/facebook/fresco/blob/master/CONTRIBUTING.md
    Closes https://github.com/facebook/fresco/pull/1776
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D5095445
    
    Pulled By: kirwan
    
    fbshipit-source-id: 83be6feec15a27bd8be5982d801ab0e9e63ff69c

commit ad5793109bc6ab6aa6fa8df50e7e491e41a732b5
Author: Eric Lu <mtlu@yahoo-inc.com>
Date:   Mon May 22 09:37:11 2017 -0700

    #1664: Prevent ConcurrentModificationException in Volley
    
    Summary:
    Issue:
    https://github.com/facebook/fresco/issues/1664
    
    It's because that _Volley_ notifies `listeners` inside a `for-loop` uses `mBatchedResponses.values()` :
    ```
    for (BatchedImageRequest bir : mBatchedResponses.values()) {
      ...
      mListener.onResponse(...)
    }
    ```
    After some methods calling inside the `onResponse`, finally, the `mBatchedResponses.remove` will be called.
    
    The stacktrace will look like:
    ```
    inoke mBatchedResponses.remove(mCacheKey)
    at com.android.volley.toolbox.ImageLoader$ImageContainer.cancelRequest(ImageLoader.java:365)
    at com.facebook.drawee.backends.volley.VolleyDataSource.close(VolleyDataSource.java:66)
    at com.facebook.datasource.BaseDataSubscriber.onNewResult(BaseDataSubscriber.java:51)
    at com.facebook.datasource.AbstractDataSource$1.run(AbstractDataSource.java:181)
    at com.facebook.common.executors.UiThreadImmediateExecutorService.execute(UiThreadImmediateExecutorService.java:40)
    at com.facebook.datasource.AbstractDataSource.notifyDataSubscriber
    at com.facebook.datasource.AbstractDataSource.notifyDataSubscribers(AbstractDataSource.java:163)
    at com.facebook.datasource.AbstractDataSource.setResult(AbstractDataSource.java:215)
    at com.facebook.drawee.backends.volley.VolleyDataSource$1.onResponse
    at com.android.volley.toolbox.ImageLoader$4.run(ImageLoader.java:474)
    ```
    Thanks for submitting a PR! Please read these instructions carefully:
    
    - [x] Explain the **motivation** for making this change.
    - [x] Provide a **test plan** demonstrating that the code is solid.
    - [x] Match the **code formatting** of the rest of the codebase.
    - [x] Target the `master` branch
    
    Fix issue: https://github.com/facebook/fresco/issues/1664
    ```
    java.util.ConcurrentModificationException
      at java.util.HashMap$HashIterator.nextEntry(HashMap.java:851)
      at java.util.HashMap$ValueIterator.next(HashMap.java:879)
      at com.android.volley.toolbox.ImageLoader$4.run(ImageLoader.java:464)
      at android.os.Handler.handleCallback(Handler.java:751)
    ```
    
    ![5 -19-2017 20-38-34](https://cloud.githubusercontent.com/assets/520786/26248050/424afdea-3cd3-11e7-815b-517a1e468069.gif)
    
    Sign the [CLA][2], if you haven't already.
    
    Small pull requests are much easier to review and more likely to get merged. Make sure the PR does only one thing, otherwise please split it.
    
    Make sure all **tests pass** on [Circle CI][4]. PRs that break tests are unlikely to be merged.
    
    For more info, see the [Contributing guide][4].
    
    [1]: https://medium.com/martinkonicek/what-is-a-test-plan-8bfc840ec171#.y9lcuqqi9
    [2]: https://code.facebook.com/cla
    [3]: http://circleci.com/gh/facebook/fresco
    [4]: https://github.com/facebook/fresco/blob/master/CONTRIBUTING.md
    Closes https://github.com/facebook/fresco/pull/1775
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D5095502
    
    Pulled By: kirwan
    
    fbshipit-source-id: 1531afa7852313436c1cdc52ebc3507d67d35c86

commit c75654ca2f743f8c9c8690bcb6c322f304cfcc84
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Mon May 22 02:58:13 2017 -0700

    Fixed typo in BitmapPool documentation
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D5101713
    
    fbshipit-source-id: 2f3c7dbde0c1dbed67148aa40efc9f8ef8c114df

commit f395068d3408aadbfa945f8ccbdb7a0a16287f39
Author: Eric Lu <mtlu@yahoo-inc.com>
Date:   Fri May 19 09:48:15 2017 -0700

    Remove instruction of VolleyController; correct name: newDraweeControllerBuilder
    
    Summary:
    Thanks for submitting a PR! Please read these instructions carefully:
    
    - [x] Explain the **motivation** for making this change.
    - [x] Provide a **test plan** demonstrating that the code is solid.
    - [x] Match the **code formatting** of the rest of the codebase.
    - [x] Target the `master` branch
    
    Revise documents.
    
    Sign the [CLA][2], if you haven't already.
    
    Small pull requests are much easier to review and more likely to get merged. Make sure the PR does only one thing, otherwise please split it.
    
    Make sure all **tests pass** on [Circle CI][4]. PRs that break tests are unlikely to be merged.
    
    For more info, see the [Contributing guide][4].
    
    [1]: https://medium.com/martinkonicek/what-is-a-test-plan-8bfc840ec171#.y9lcuqqi9
    [2]: https://code.facebook.com/cla
    [3]: http://circleci.com/gh/facebook/fresco
    [4]: https://github.com/facebook/fresco/blob/master/CONTRIBUTING.md
    Closes https://github.com/facebook/fresco/pull/1777
    
    Differential Revision: D5095422
    
    Pulled By: kirwan
    
    fbshipit-source-id: 9f5a180987335d2dc1577ecfd0271432b037e98b

commit 513fdf32ebb521fc7905b468f72f5f7f36b2af2f
Author: Erik Andre <erikandre@fb.com>
Date:   Thu May 18 06:10:53 2017 -0700

    Added new status flag for Media variation placeholder images
    
    Summary:
    :
    
    * Added a new result status flag to indicate that the result is a placeholder for the final result
    * Use the new flag when emitting placeholder media variant results
    
    Reviewed By: kirwan
    
    Differential Revision: D5078387
    
    fbshipit-source-id: 7af8ef41d9875fea7e89ecf781180dcfefc57853

commit c36e13ebb22078c19751e7d6389c94413aeb738a
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Wed May 17 07:54:24 2017 -0700

    Stop reading encoded cache key from EncodedImage
    
    Summary:
    Caching using keys held by `EncodedImage` was a work-around to avoid caching alternative from media variations using the originally-requested URL.
    
    Now that we can stop the image being cached at all in that case, we can go back to using the original cache key.
    
    I've also deprecated the setting and retrieving of the cache key in `EncodedImage` but haven't removed it as it may be used by consumers of Fresco.
    
    Reviewed By: erikandre
    
    Differential Revision: D5077826
    
    fbshipit-source-id: 25aafa6d9127016b04b1fb48fe815c1d2000c12c

commit a294ee1dacab3029e470672503a9015b65c2c58c
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Wed May 17 07:54:23 2017 -0700

    MediaVariationsFallbackProducer sets the DO_NOT_CACHE_ENCODED flag
    
    Summary: To ensure images which are produced by media variations aren't cached under the original cache key, the new status flag is now set.
    
    Reviewed By: erikandre
    
    Differential Revision: D5077817
    
    fbshipit-source-id: 5fd80b461b7a160d59beb9c50c76ea2f9b5cb8f1

commit 3250205bf5bd314faae02372f3f110067ddd63be
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Wed May 17 07:54:22 2017 -0700

    Create and respect DO_NOT_CACHE_ENCODED status flag
    
    Summary:
    Now that we can define other status flags, the most obvious one is to tell encoded caches to ignore the result.
    
    This isn't called yet (that follows next) but unit tests verify that the flag is respected.
    
    Reviewed By: erikandre
    
    Differential Revision: D5077718
    
    fbshipit-source-id: 64b3c341f6962711e047cf2e57580850804efae2

commit 81334f10bbbd78cded8185ea1776cf1ae6930276
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Wed May 17 03:33:30 2017 -0700

    Catch exception when opening an ExifInterface for a non-jpeg
    
    Summary:
    Fixes #1558 and #1760.
    
    When a local file is loaded an attempt is made to load the thumbnail from its exif data but that is only available for JPEGs.
    
    Trying the same with a PNG lead to an `IOException` which wasn't being caught within the producer. Catching it allows us to return null which is the appropriate thing to do if no thumbnail is available.
    
    Reviewed By: erikandre
    
    Differential Revision: D5077525
    
    fbshipit-source-id: fdfd8e0bc369e4672729c6e3bfde5b035f836149

commit 4f3796b23f06202962f536387c1e86c68a941791
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Tue May 16 11:34:51 2017 -0700

    Remove old Consumer.onNewResult()
    
    Summary: All producers and consumers are now making use of the new status flags, so removing the old versions of these methods.
    
    Reviewed By: erikandre
    
    Differential Revision: D5061061
    
    fbshipit-source-id: ef06cf91acf59b7d07d96d3be4467bae76510c96

commit 30b26b2893b59f5a869ff2bbfd4a17ae5c822cf9
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Tue May 16 11:34:49 2017 -0700

    Use/implement new onNewResult in remaining producers/consumers
    
    Summary: Implements and uses the new `onNewResult()` method in the last two remaining producers/consumers.
    
    Reviewed By: erikandre
    
    Differential Revision: D5061041
    
    fbshipit-source-id: 3afe8f1f9da7f5a7a8750bc13b29523d255819b8

commit 0fed95b7502536cac6debfc29112113e61803d7b
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Tue May 16 11:34:48 2017 -0700

    Use/implement new onNewResult in PostprocessorProducer
    
    Summary: Implements and uses the new `onNewResult()` method in PostprocessorProducer.
    
    Reviewed By: erikandre
    
    Differential Revision: D5060974
    
    fbshipit-source-id: 1b693ae7a8eac1883b33feef8146fb51a04c4b1f

commit 9b1ec9f3046091e4651616bba13b7c5e41309098
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Tue May 16 11:34:46 2017 -0700

    Use/implement new onNewResult in JobScheduler and related producers/consumers
    
    Summary: Implements and uses the new `onNewResult()` method in `JobScheduler` and the two producers which make use of it.
    
    Reviewed By: erikandre
    
    Differential Revision: D5060942
    
    fbshipit-source-id: d75c93c4d04db0a6b7c0144ca35ffa1db1bba81b

commit 2043c881fd3d42f842575807a689bec47972ae9b
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Tue May 16 11:34:45 2017 -0700

    Use/implement new onNewResult in simple producers/consumers
    
    Summary: Implements and uses the new `onNewResult()` method in a group of simple producers/consumers. In all of these cases, the results are generally just passed through without need for extra work.
    
    Reviewed By: erikandre
    
    Differential Revision: D5060868
    
    fbshipit-source-id: aecba74fb0d79791c238c028ad72c19bea2d6a27

commit 0e68b4e45a168e543708ea8ad62740335191c574
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Tue May 16 11:34:42 2017 -0700

    Use new onNewResult in network and local fetch producers
    
    Summary:
    Uses the new `onNewResult()` method in fetch producers, for local and network requests.
    
    These are all producers which appear at the end of the pipeline so have no consumers of their own to update.
    
    Reviewed By: erikandre
    
    Differential Revision: D5060848
    
    fbshipit-source-id: 01a42ed134f69b7c61fc87f2352ff9f2b4071d23

commit c46a525e929fbd66cf2e75bf636fc309b0b52217
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Tue May 16 11:34:41 2017 -0700

    Use/implement new onNewResult in memory cache producers/consumers
    
    Summary: Implements and uses the new `onNewResult()` method in the memory cache producers/consumers.
    
    Reviewed By: erikandre
    
    Differential Revision: D5060844
    
    fbshipit-source-id: de00e8131fe0b778fcb261f30f7116e9e4d04950

commit f07d30e673a439fa8a55e9fcddd5750fdc6ea1e9
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Tue May 16 11:34:40 2017 -0700

    Use/implement new onNewResult in disk cache producers/consumers
    
    Summary: Changes the disk cache producers to both call and use the new version of `onNewResult()`.
    
    Reviewed By: erikandre
    
    Differential Revision: D5060841
    
    fbshipit-source-id: 7412dd3de1322782c6a0efe056e7424540b359f9

commit 1ed1423a626c35d1e27690a520b0381fc27bbfd7
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Tue May 16 11:34:38 2017 -0700

    Create new version of onNewResult with Status flags
    
    Summary:
    In order to allow more information to be passed, a new version of `onNewResult()` is added which receives an int called `status`.
    
    For now, this lives alongside the existing `onNewResult(T, boolean)` until all consumers have been edited to implement the new one. This also means `BaseConsumer` temporarily contains implementations of both methods. When complete the old one will be removed and the new one will become abstract.
    
    Reviewed By: erikandre
    
    Differential Revision: D5060836
    
    fbshipit-source-id: 1c16b4738ecb55f9b766e72f6e855c9a11b810ca

commit 74d530f58565dc3fac0903f49dcfec8fd395517c
Author: Erik Andre <erikandre@fb.com>
Date:   Mon May 15 05:47:13 2017 -0700

    Abort pJPEG parsing if there is data after EOI
    
    Summary: Don't decode the image progressively if data is found after EOI
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D5060593
    
    fbshipit-source-id: 1361b6369bc438bcf9adcbaa13794619a25376ab

commit 5f86b5a0ab21c9112fb22b85e7226822696fc4ac
Author: Aravind Balaji <aravind.balaji@live.com>
Date:   Mon May 15 05:19:17 2017 -0700

    Added Book Share app which uses Fresco
    
    Summary:
    Added Book Share app which uses Fresco
    Closes https://github.com/facebook/fresco/pull/1765
    
    Differential Revision: D5060736
    
    Pulled By: kirwan
    
    fbshipit-source-id: fd251fdf086b8e31c0ae0cd210927f19ba20433c

commit 27c2bc9add65edda3312d15ff41e76bc637355e0
Author: Felix Oghina <foghina@fb.com>
Date:   Fri May 12 10:49:33 2017 -0700

    Fix OSS tests
    
    Summary: There was one powermock dependency missing from `animated-drawable`, plus I had to add `PrepareForTest(CloseableReference.class)` so that we can mock final classes. The other `build.gradle` change (adding `returnDefaultValues = true`) was to get `SparseArray` working for `DefaultBitmapFramePreparerTest`.
    
    Reviewed By: oprisnik
    
    Differential Revision: D5052792
    
    fbshipit-source-id: 147f53185f554d8655e7813ebf9d2ae1da480b21

commit 58e8cf8d1c17916d091d4af332173b728f2c9d75
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Fri May 12 09:16:30 2017 -0700

    Display exception when logging a producer failure
    
    Summary:
    When a failure occurs in a producer the logging listener was only displaying the exception message.
    
    Now we see the whole stack trace.
    
    Reviewed By: erikandre
    
    Differential Revision: D5052066
    
    fbshipit-source-id: b55ae576f1f5c8f8646c6a2f1a723e47b2bd0636

commit 4de26310e5f97cfd137c6994b0ac0d5c17f0bec4
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Fri May 12 09:05:44 2017 -0700

    Don't trigger a request failure if resizing fails on an incomplete response
    
    Summary:
    It was possible for the first response to hit the first incomplete response to hit the ResizeAndRotateProducer, fail to load the image data and fail the entire request, even though when the next piece of data arrived it ran successfully.
    
    A later successful completion of the request was ignored.
    
    With this diff, that initial failure is ignored so that the next one may succeed.
    
    Reviewed By: erikandre
    
    Differential Revision: D5052202
    
    fbshipit-source-id: 33f779fce172baa90ce0d6122f664b3df5f161e1

commit 3d1e9ea532336975a5b39c2f8b5945a8d533640f
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Fri May 12 08:37:35 2017 -0700

    Removed DiskCachePolicy interface
    
    Summary: Now it's no longer used, this removes the interface and only remaining implementation.
    
    Reviewed By: erikandre
    
    Differential Revision: D5045230
    
    fbshipit-source-id: 94ba570481f88435e7d4b09f6a34ba2c02b5aac1

commit 3d6fb0fc0bbf05b09aa2aa54ebef14af0f36416c
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Fri May 12 08:37:34 2017 -0700

    Remove DiskCachePolicy from MediaVariationsFallbackProducer
    
    Summary: Replace use of DiskCachePolicy with direct code that does what the only remaining implementation did.
    
    Reviewed By: erikandre
    
    Differential Revision: D5045227
    
    fbshipit-source-id: 57d69a1817efa0cf5e9e35f5c3213eb2641bd0d9

commit e4821d87f408604eb84c6a33979beb1195decd7e
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Fri May 12 08:37:33 2017 -0700

    Remove DiskCachePolicy from DiskCacheReadProducer
    
    Summary: Replace use of DiskCachePolicy with direct code that does what the only remaining implementation did.
    
    Reviewed By: erikandre
    
    Differential Revision: D5045217
    
    fbshipit-source-id: b6931812d46d2c5384ad7aba4c2eda6986757179

commit abe6d795dfdda6f157da577e9ed2a1936ef241f1
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Fri May 12 08:37:32 2017 -0700

    Remove DiskCachePolicy from DiskCacheWriteProducer
    
    Summary: Replace use of DiskCachePolicy with direct code that does what the only remaining implementation did.
    
    Reviewed By: erikandre
    
    Differential Revision: D5045194
    
    fbshipit-source-id: 9baebb9c31e5cfde506d5b43f63b147aa03c77ef

commit 116d1bd4fa633843d4ec02d92d86c72e96cdd88d
Author: Erik Andre <erikandre@fb.com>
Date:   Fri May 12 08:04:58 2017 -0700

    Turn off intermediate results when a valid media variations is found
    
    Reviewed By: kirwan
    
    Differential Revision: D4963275
    
    fbshipit-source-id: a0b7d8f8c78a538a5d4316716388d0cd71123a7c

commit 041fdea7c28a285cc67d2fff9d1915f7d6521578
Author: Felix Oghina <foghina@fb.com>
Date:   Thu May 11 16:35:05 2017 -0700

    Fix zip download URL
    
    Reviewed By: oprisnik
    
    Differential Revision: D5048391
    
    fbshipit-source-id: c59d096f758a20a91b7a0a20a8f55d573b9c8083

commit a215e75c19c1e62a53ab86d6d513a451b915a1c2
Author: Felix Oghina <foghina@fb.com>
Date:   Thu May 11 16:17:16 2017 -0700

    Update javadoc for 1.3.0
    
    Reviewed By: oprisnik
    
    Differential Revision: D5028138
    
    fbshipit-source-id: 3509dae65f7cffb0c659ea905e8d198d4f2afed3

commit 7a1f6146196eb9227a412871e21b2360a387a58e
Author: Felix Oghina <foghina@fb.com>
Date:   Thu May 11 15:43:29 2017 -0700

    Remove PhantomReference-based CloseableReference implementation
    
    Reviewed By: oprisnik
    
    Differential Revision: D4993474
    
    fbshipit-source-id: 6913c2c652a29f61d76f533484acb323bd99dc3b

commit d84a6095c99b0e07323406e3cfc055d4e171c802
Author: Joel Marcey <joelm@fb.com>
Date:   Thu May 11 09:54:20 2017 -0700

    Docs navigation fix
    
    Summary: Closes https://github.com/facebook/fresco/pull/1762
    
    Differential Revision: D5045156
    
    Pulled By: foghina
    
    fbshipit-source-id: bd35346300fbf9d7cfaae27d61f0b98d710f220e

commit 476feb6d740adb2c8ead8bf7cd3bf1562ddf75f8
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Thu May 11 09:47:37 2017 -0700

    Use OkHttp 3 in the showcase app
    
    Summary: Given it's likely to be the most common option used with Fresco, make the Showcase app use OkHttp as its backend.
    
    Reviewed By: oprisnik
    
    Differential Revision: D5045064
    
    fbshipit-source-id: 5e1bab31ca179277a8635171daefc002de434d15

commit a03539194c8cbfe5390ffffd186c6a0d73c5e809
Author: Martin Konicek <mkonicek@fb.com>
Date:   Thu May 11 07:30:28 2017 -0700

    Sonar Fresco plugin: Progress
    
    Reviewed By: kittens
    
    Differential Revision: D4994781
    
    fbshipit-source-id: 9e3400941b2d27a9b167bfd7db071805996a48fe

commit bcbe1c57f2d95be6f3827bf5f5a5a38cea5fec12
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Fri May 5 15:55:58 2017 -0700

    Don't crash for GIF frames with 0 width/height
    
    Summary:
    If a GIF frame had a width and/or height of 0, Fresco crashes due to a division by 0.
    Sample GIF that includes such frames: http://p1.music.126.net/35Y3orENEaclRSwHUFWr1Q==/18983068253562273.gif
    
    Fixes #1706
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D5010658
    
    fbshipit-source-id: d591b14f1e445b1080d7df558575e36d6a291eee

commit 6ee00684cec93418c8b71e9285d30026c496d3cd
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Fri May 5 14:11:28 2017 -0700

    Showcase: Added scale type spinner to DraweeSpan sample
    
    Summary: This shows how you can set a scale type for `DraweeSpans`.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D5010791
    
    fbshipit-source-id: 34a172ab2b92448e436179fdbeeec4912160a4ed

commit 5274bd4a5022a122ce9f43a3e49a0b20b01b47ed
Author: Martin Konicek <mkonicek@fb.com>
Date:   Wed May 3 07:49:28 2017 -0700

    Revert D4948097: [fresco][PR] Optimize BitmapDrawable, add comments
    
    Differential Revision: D4948097
    
    fbshipit-source-id: 14c07d028931b020e15021cb170aa23d51364093

commit 474df9442e41b7c4dc8f92c40c01ed56a22ba601
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Wed May 3 06:43:56 2017 -0700

    Fixed FrescoFrameCache concurrency issues
    
    Summary:
    `FrescoFrameCache` could potentially crash in case the closeable static bitmap is closed by another thread right before the reference is extracted.
    The fix is to return null in case that happens.
    
    Reviewed By: kirwan
    
    Differential Revision: D4993305
    
    fbshipit-source-id: 22e1e83f0b30c4969e2ece9696ad21283dda1e22

commit f7487d1153461e654695ef6d20c1295cfceaca69
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Wed May 3 02:42:19 2017 -0700

    Fixed animated gif frame transpacency for multiple graphics control blocks
    
    Summary:
    According to the GIF standard there should only be one GCM block per frame, but in practice there seem to be some GIFs that have multiple.
    This fixes incorrect transparency calculations for GIFs with multiple graphics control blocks for a frame.
    The current version always took the first GCM block whereas all other implementations I've tested (e.g. Chrome) seem to use the last GCM block instead.
    
    Sample GIF: https://media.giphy.com/media/RHoRwhdlh6TBK/giphy.gif
    
    Fixes #1742
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4986365
    
    fbshipit-source-id: b1ddb90256dfdcd64b0ae4781439fca2460b1432

commit acd108d5b6c509df79fd692464f714d766d428ad
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Tue May 2 08:42:19 2017 -0700

    Updated infer version to 0.11.0
    
    Summary: Update infer to the latest version
    
    Reviewed By: massimocarli
    
    Differential Revision: D4985364
    
    fbshipit-source-id: 22cf797ca12129263d12d3161b975f8166799c83

commit c21146e2b3a23de14281e93e2b17f5dc8fb43dfa
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Tue May 2 08:42:19 2017 -0700

    Added missing Gradle infer dependency
    
    Summary: Added missing infer dependency to fix the build (https://circleci.com/gh/facebook/fresco/917). Required by the infer check added in 0106fb30a39a0b71b7ddd2382a0c66d882328a85
    
    Reviewed By: kirwan
    
    Differential Revision: D4985360
    
    fbshipit-source-id: bfb07fc24df99c351f7cad98bc9045b6151f1be5

commit 399dea3a21898513dd94b56ffa4ddee70f3d1aea
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Tue May 2 03:55:09 2017 -0700

    Added custom drawable factory override to PipelineDraweeControllerBuilder
    
    Summary:
    It is now possible to specify different `DrawableFactory` implementations per drawee controller.
    Previously, it was only possible to set global drawable factories that are used for all images.
    
    Usage:
    ```
    simpleDraweeView.setController(
         Fresco.newDraweeControllerBuilder()
              .setCustomDrawableFactory(customDrawableFactory)
              .setImageRequest(...)
              .build());
    ```
    
    Reviewed By: kirwan
    
    Differential Revision: D4939098
    
    fbshipit-source-id: 3c1bc39401506ca44f3c66786f0827b8a9125acf

commit 479c234b3b9caaf7807f17a64f475c94ac9ecbe8
Author: Ivan Kobzarev <ivankobzarev@fb.com>
Date:   Thu Apr 27 06:34:56 2017 -0700

    ImagePipelineConfig added possibility specify bitmapMemoryCache trimStrategy
    
    Summary: Support config for pluggable cache trim strategy
    
    Reviewed By: kirwan
    
    Differential Revision: D4939030
    
    fbshipit-source-id: f892d02be05b1d592eabafabea35b1ab5247409e

commit 0106fb30a39a0b71b7ddd2382a0c66d882328a85
Author: Peter O'Hearn <peteroh@fb.com>
Date:   Thu Apr 27 03:06:07 2017 -0700

    Make BitmapCounterProvider.get() ThreadSafe
    
    Reviewed By: erikandre
    
    Differential Revision: D4920594
    
    fbshipit-source-id: 39e9aaf56e0b5330007dcb2bf9d6dbd96583d716

commit 391b9ec8e1dfe5243d87ee05d46c37919564c320
Author: Martin Konicek <mkonicek@fb.com>
Date:   Tue Apr 25 15:08:37 2017 -0700

    Optimize BitmapDrawable, add comments
    
    Summary:
    Thanks for submitting a PR! Please read these instructions carefully:
    
    - [x] Explain the **motivation** for making this change.
    - [x] Provide a **test plan** demonstrating that the code is solid.
    - [x] Match the **code formatting** of the rest of the codebase.
    - [x] Target the `master` branch
    
    Here are the takeaways from a recent experiment at fb related to drawing circular bitmaps:
    
    It's probably possible to optimize the rounding drawables used by Fresco:
    1. Let's not apply a matrix if we don't need to
    2. Consider avoiding a path when using addRoundRect alone would work
    
    This PR does those 2 optimizations. For 2., we skip paths altogether and call `Canvas.drawCircle`, but only on Android versions where it's faster. From the research:
    
    "On Android 11-16, drawRoundRect is actually slow because those api versions used alpha mask textures to draw shapes.. Consequently, the support library falls back to doing 7 draw commands on those api versions (drawing arcs and rects)."
    
    (Also add some comments - it took me a while to understand the purpose of each class, hopefully this will save some time for people touching the code in the future.)
    
    Ran the Showcase app, the Rounded Corners example looks the same as before, also when changing scale types:
    
    <img width="477" alt="screenshot 2017-04-19 18 11 10" src="https://cloud.githubusercontent.com/assets/346214/25192799/8cc9a1aa-252c-11e7-9072-65edf3641f61.png">
    <img width="478" alt="screenshot 2017-04-19 18 11 17" src="https://cloud.githubusercontent.com/assets/346214/25192800/8ccaf578-252c-11e7-93b4-86192a3ce564.png">
    
    <img width="478" alt="screenshot 2017-04-19 18 10 35" src="https://cloud.githubusercontent.com/assets/346214/25192802/8ccd8b62-252c-11e7-92d7-fb50129fedd6.png">
    <img width="478" alt="screenshot 2017-04-19 18 10 44" src="https://cloud.githubusercontent.com/assets/346214/25192801/8ccca044-252c-11e7-8eba-0160268652cb.png">
    Closes https://github.com/facebook/fresco/pull/1728
    
    Differential Revision: D4948097
    
    Pulled By: oprisnik
    
    fbshipit-source-id: 2453dc3b1adcd39a79d0d0c5435367ff5fbdf37a

commit 11a196cbe18479e952ed30d02b4b0f110a3e1562
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Tue Apr 25 08:02:59 2017 -0700

    Delete small cache threshold
    
    Summary: Removing the small cache threshold experiment and related code.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4875683
    
    fbshipit-source-id: c1a6b0f8b31afa190d274b38c237597100e1e90e

commit c3b1641ff5151b1bdfecfcc5de0384d1834e70ed
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Mon Apr 24 11:33:23 2017 -0700

    Create abstract implementation of CacheEventListener
    
    Summary: Add `BaseCacheEventListener` which implements all methods to ease the creation of listeners which are only interested in particular events.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4938357
    
    fbshipit-source-id: 98c997e3b977e6e6abb70793664285523556a692

commit 79ccc218221d1ab9c3a43108ec00da3e8d5fa903
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Thu Apr 20 11:37:30 2017 -0700

    Updated ExperimentalBitmapAnimationDrawableFactory to support frame preparing
    
    Summary: This change updates `ExperimentalBitmapAnimationDrawableFactory` to support frame preparing.
    
    Reviewed By: erikandre
    
    Differential Revision: D4922134
    
    fbshipit-source-id: 450c66bf63279bab5b2013b4c379161e6df45aa9

commit 1aca1997def113ec985860d176bf1788ed6cb902
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Thu Apr 20 11:37:29 2017 -0700

    Better FrescoFrameCache bitmap reference conversion
    
    Summary:
    The current approach for converting a `CloseableReference<CloseableImage>` to a `CloseableReference<Bitmap>` has a flaw:
    We constantly do conversions in both directions to read / write from the cache. This means we create new ResourceReleasers for one direction and  wrap the same `CloseableReference<Bitmap>` in new `CloseableStaticBitmap` objects.
    This means, that we always increase the call stack and keep references to all previous `CloseableStaticBitmap`. This will eventually result in stack overflow exceptions and it wastes memory.
    
    The alternative solution here is to use a clone of the underlying Bitmap reference instead in order to be able to immediately close old `CloseableStaticBitmap`s and to get rid of custom `ResourceReleaser`s.
    
    Reviewed By: kirwan
    
    Differential Revision: D4921775
    
    fbshipit-source-id: 93adc493dc24989c8f47a31727ba7fc8a882d1b0

commit a07af1335b86d7d2af6847383889b5b54fb6ef98
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Thu Apr 20 10:27:55 2017 -0700

    BitmapAnimationBackend: Do not cache fallback frames
    
    Summary: We should not cache fallback frames since they might not represent the correct frame.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4921119
    
    fbshipit-source-id: 706d3318943d23c44746100c69d53c0a23b6cec0

commit 2e0fc5c4b459d6ed0c789d8f64adc0f549257cef
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Thu Apr 20 10:27:54 2017 -0700

    FrescoFrameCache now supports caching of prepared frames
    
    Summary:
    `FrescoFrameCache` is now able to cache prepared frames.
    Since we don't want to immediately re-use prepared frames, we hold on to these prepared frame references until they are drawn once.
    
    Reviewed By: erikandre
    
    Differential Revision: D4885895
    
    fbshipit-source-id: 6efbea23cfe9329a43f7950f3431429259230917

commit ad1440a395cac19fce871ee6f0986bd7ea77780e
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Thu Apr 20 09:13:39 2017 -0700

    Updated animation2 sample app to use frame preparing
    
    Summary: This updates the animation2 sample app to use frame preparing
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4921239
    
    fbshipit-source-id: e8c190b627af3651cece0b0cac9ad87e140d08c7

commit 049a23187426e655ada5926cec08a4976a7979e0
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Thu Apr 20 06:41:10 2017 -0700

    Added DefaultBitmapFramePreparer that uses an executor to prepare frames ahead of time
    
    Summary: `DefaultBitmapFramePreparer ` uses a given executor to prepare frames ahead of time. The rendering logic is similar to `BitmapAnimationBackend`.
    
    Reviewed By: massimocarli
    
    Differential Revision: D4877885
    
    fbshipit-source-id: 4d424d3ab50b0814df2e4b7a47558c4f9cd8296e

commit 825c6126d521a24c24e70acf5168ba3ddb69c25a
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Thu Apr 20 06:41:08 2017 -0700

    Added FRAME_TYPE_UNKNOWN for convenience
    
    Summary:
    The new bitmap rendering logic requires an end state in case nothing can be rendered, which is currently solved by a magic number (-1). We can simply add a `FRAME_TYPE_UNKNOWN` instead for this case.
    This constant can also be used by the frame preparer.
    
    Reviewed By: kirwan
    
    Differential Revision: D4921222
    
    fbshipit-source-id: e81c99e9a3267eb2e03724f20aa7e56e6c98cc64

commit 75e11849b0bef7af8c76337f2c01e0043edd9e21
Author: Massimo Carli <maxcarli@fb.com>
Date:   Thu Apr 20 06:35:52 2017 -0700

    Bump version number to 1.3.0 in readme and docs
    
    Reviewed By: oprisnik
    
    Differential Revision: D4921209
    
    fbshipit-source-id: f04619136012ff64eabc0c2538d2dcb046161c76

commit 96b31ead8d9fdd8d29680698c5f6d2b59a90502b
Author: Massimo Carli <maxcarli@fb.com>
Date:   Thu Apr 20 03:52:13 2017 -0700

    Bump version to 1.3.0
    
    Reviewed By: kirwan
    
    Differential Revision: D4921202
    
    fbshipit-source-id: 4d8702c1faf03eb6e49eb8072aca091a345069ed

commit 6851ebb633801696fc392f86058d569a9ed58295
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Wed Apr 19 11:16:51 2017 -0700

    Return valid bitmap references for FrescoFrameCache
    
    Summary:
    We cannot use `CloseableStaticBitmap.convertToBitmapReference()` to create the `CloseableReference<Bitmap>` from a `CloseableReference<CloseableImage>`.
    It works fine if prefetching is disabled (if we do not hold on to the references), but if prefetching is enabled and we hold on to the bitmaps until they are first drawn (see stacked diff), this does NOT work correctly.
    The reason for this is the implementations of `CountingMemoryCache` and `CountingLruMap` make use of `CloseableImage.getSizeInBytes()` to update their respective sizes in bytes.
    `CloseableStaticBitmap.convertToBitmapReference()` will detach the underlying bitmap from the `CloseableStaticBitmap`, which is used to calculate the size in bytes. Hence, the size will be reported as 0 when the elements are changed and the cache cannot correctly decrease its size. This means that the cache thinks its size is constantly increasing until it will eventually stop caching new items - which will break all other images as well.
    
    The solution to this problem is to not detach the bitmap reference from the bitmap. Instead, I am just returning a new `CloseableReference` with the underlying bitmap with a custom `ResourceReleaser` that will close the `CloseableImage` when appropriate, which will result in correct computations.
    
    Reviewed By: kirwan
    
    Differential Revision: D4914167
    
    fbshipit-source-id: b34ce0b3bff0a6b3e93e0c7d15379cb2f2872f1a

commit dcc0be3af0fa0a969a754fde2a240b86b0fa9d1c
Author: Erik Andre <erikandre@fb.com>
Date:   Wed Apr 19 09:56:17 2017 -0700

    Decode jpeg if EOI marker reached with less than minimum scans
    
    Summary:
    Decode JPEGS that are emitted as intermediate results even if the minimum number
    of scans has not been found but instead  the EOI marker is reached.
    
    Reviewed By: kirwan
    
    Differential Revision: D4883749
    
    fbshipit-source-id: c9df5d565176c811439a2e9d7a57c0423851fbe7

commit 2ec1a59d6993bb484808390c2e7c7cdea9ce23ac
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Wed Apr 19 08:11:49 2017 -0700

    Added contains() to the frame- and counting memory cache
    
    Summary: This change exposes `contains(...)` methods for the counting memory cache and frame caches for animated images.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4913417
    
    fbshipit-source-id: fcf58060b14d592fe7d181641b69a3c0c76617d6

commit bc1a419f10a66cbc52cd7c1359d718fdd3ce3255
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Wed Apr 19 05:44:39 2017 -0700

    Added FrameType annotation to BitmapFrameCache.onFrameRendered
    
    Summary: This adds the missing `FrameType` annotation to `onFrameRendered`.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4907516
    
    fbshipit-source-id: d0e90ac5dfebf597ab670d1a2fbf67ca2c65469c

commit d5aeba8815763058f370853eec4daac857fac5e6
Author: voiddog <voiddog@foxmail.com>
Date:   Wed Apr 19 03:18:20 2017 -0700

    change setBitmapConfig return type from void to ImageDecodeOptionsBui‚Ä¶
    
    Summary:
    Thanks for submitting a PR! Please read these instructions carefully:
    
    - [x] Explain the **motivation** for making this change.
    - [x] Provide a **test plan** demonstrating that the code is solid.
    - [x] Match the **code formatting** of the rest of the codebase.
    - [x] Target the `master` branch
    
    Other set method return the builder but setBitmapConfig not return.
    
    I think this does not need to be tested
    Closes https://github.com/facebook/fresco/pull/1722
    
    Reviewed By: kirwan
    
    Differential Revision: D4906126
    
    Pulled By: lambdapioneer
    
    fbshipit-source-id: 334c0098e8f57727280c6d57a847258006693607

commit 1ba54697cec3c211d1f5ecbd931554cf8df0b48e
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Tue Apr 18 18:25:12 2017 -0700

    Added FixedNumberBitmapFramePreparationStrategy
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4877870
    
    fbshipit-source-id: 00226c363197a6fa0f0e206d2fea006c8e78c6b9

commit 7337d7a255870afd65a9911ece68b2d255782e1f
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Tue Apr 18 18:25:11 2017 -0700

    Added BitmapFramePreparationStrategy and BitmapFramePreparer
    
    Summary: The `BitmapFramePreparationStrategy` decides what to do whenever a frame is rendered and tells the given `BitmapFramePreparer` to prepare other frames.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4875551
    
    fbshipit-source-id: 0cd393232225796df2b9cec0b0b8c820d91a40be

commit dcb2600f67f2177849def30a742e4f074d469d6e
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Tue Apr 18 12:02:18 2017 -0700

    Added onFramePrepared to BitmapFrameCache
    
    Summary:
    This change adds a `cachePreparedFrame` to `BitmapFrameCache`, which is called for frames that are available ahead of time and have not yet been rendered.
    This is necessary since we don't want to immediately recycle these frames until they have at least been drawn once.
    
    Actual implementations for this will be added separately. Right now, none of them is able to cache these frames.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4875544
    
    fbshipit-source-id: ce3f676d716f494a2c8b92dde0327f9c6538987d

commit 8af5fd16abb84db74e0d12a1198cb8f189d5e893
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Tue Apr 18 11:02:15 2017 -0700

    Restructured BitmapAnimationBackend rendering logic
    
    Summary: This change makes the draw flow easier to read and simplifies the logic, which will be similar for preparing frames ahead of time.
    
    Reviewed By: kirwan
    
    Differential Revision: D4868702
    
    fbshipit-source-id: db219a99d80b1b4f5787d8e35468762519e6ea19

commit 5fbe8699e1b88871f421945e2941eabd234fe5f7
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Tue Apr 18 09:04:21 2017 -0700

    Added additional tests for CountingMemoryCache
    
    Summary: This change adds additional tests for CountingMemoryCache to ensure the cache size is computed correctly when items are reused.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4883268
    
    fbshipit-source-id: dc863dc571e3e0eec4f338b7bb5edf8243c9bc08

commit 96636983b195cb985db36a7dc2eb7ef13f59a44b
Author: Erik Andre <erikandre@fb.com>
Date:   Tue Apr 18 05:14:23 2017 -0700

    Handle changes of intermediate result flag for image requests
    
    Summary:
    If the expecting intermediate result flag was changed for an in-flight request this was not
    taken into consideration by NetworkFetchProdicer since it was using the original value from
    the ImageRequest instead of the value from ProducerContext.
    
    Reviewed By: kirwan
    
    Differential Revision: D4875260
    
    fbshipit-source-id: d06695f221286a80d95d7de3eb20a73938f17103

commit 20cf3680c94be98fe5ef5eb71626de2c9cc134d3
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Tue Apr 18 01:40:33 2017 -0700

    Add sample for qualified resource fetching to the show case app
    
    Summary: This adds a sample to the show case app that demonstrates how to use qualifying resource URIs. Those URIs are resolved using the content resolver and therefore also allow access to other packages drawables.
    
    Reviewed By: oprisnik
    
    Differential Revision: D4859618
    
    fbshipit-source-id: 92ccfbdded6e378c102a364e1262a261ce75f5d1

commit 6db0caf17085820c89779c0e963481dd500c912f
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Thu Apr 13 08:06:28 2017 -0700

    Deprecate small cache threshold experiment
    
    Reviewed By: massimocarli
    
    Differential Revision: D4875668
    
    fbshipit-source-id: 72a1b361c8b176c59a5a12278c66581f473fa508

commit 14dc08e6f863c56cd07397f43a10e647ac027010
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Thu Apr 13 05:30:02 2017 -0700

    Add sequence creation for qualified resource URIs
    
    Summary: After this change, the fetching of qualified resource URIs is fully integrated into the image pipeline. Create a URI for resources outside your package by using `Uri = UriUtil.getUriForQualifiedResource(PACKAGE_NAME, RESOURCE_ID);`.
    
    Reviewed By: foghina
    
    Differential Revision: D4859615
    
    fbshipit-source-id: 2ff753e57d8c3cd632602dc429300fd8bf9606b1

commit 4326935ca115422a9aa77505e66cc68bbc76a76c
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Thu Apr 13 05:30:01 2017 -0700

    Add QualifiedResourceFetchProducer
    
    Summary:
    This change adds a fetch producer for qualified resource URIs. Qualified resource URIs are such URIs which allow specifying a resource in any available package by passing the package name as the authority.
    
    This is a long-standing feature request in https://github.com/facebook/fresco/issues/379 `#379`
    
    Reviewed By: foghina, kirwan
    
    Differential Revision: D4859613
    
    fbshipit-source-id: 157c36dc5ed1b3883878a0903556adecd9cf4564

commit 1472a3e1b1655e9b52c74e0b06d5ba60d15a42f9
Author: Martin Konicek <mkonicek@fb.com>
Date:   Thu Apr 13 04:10:25 2017 -0700

    Use more varied images in the RecyclerView sample
    
    Summary:
    - [x] Explain the **motivation** for making this change.
    - [x] Provide a **test plan** demonstrating that the code is solid.
    - [x] Match the **code formatting** of the rest of the codebase.
    - [x] Target the `master` branch
    
    Currently the example has only a few images which makes it hard to visually debug what's in cache:
    
    <img width="415" alt="screenshot 2017-04-12 14 09 40" src="https://cloud.githubusercontent.com/assets/346214/24959181/d33d72e0-1f89-11e7-921f-cec551c8bf47.png">
    
    This PR makes the example a bit more realistic by using many different images (120 in total):
    
    <img width="415" alt="screenshot 2017-04-12 13 53 44" src="https://cloud.githubusercontent.com/assets/346214/24959208/ec355e3e-1f89-11e7-81a4-58e4722679ce.png">
    
    Ran the Showcase app from Android Studio, see the screenshot above.
    Closes https://github.com/facebook/fresco/pull/1720
    
    Reviewed By: kirwan
    
    Differential Revision: D4875561
    
    Pulled By: lambdapioneer
    
    fbshipit-source-id: 7e6a5c44f6f0d2c7ff20d69d88c40853bea8138a

commit 9ba7765c38e00d39e4aaafde11d684b9c1ba48c2
Author: Martin Konicek <mkonicek@fb.com>
Date:   Wed Apr 12 23:07:35 2017 -0700

    Add support for Stetho's dumpapp tool to the Fresco showcase app
    
    Summary:
    - [x] Explain the **motivation** for making this change.
    - [x] Provide a **test plan** demonstrating that the code is solid.
    - [x] Match the **code formatting** of the rest of the codebase.
    - [x] Target the `master` branch
    
    This allows us to use Stetho's dumpapp tool to inspect the Showcase app. The code is [copied from the Comparison app](https://github.com/facebook/fresco/blob/master/samples/comparison/src/main/java/com/facebook/samples/comparison/ComparisonApp.java#L29).
    
    ![screenshot 2017-04-11 11 07 04](https://cloud.githubusercontent.com/assets/346214/24904154/791531b4-1ea7-11e7-97f8-cd5db1cd52fd.png)
    
    - Ran the Fresco Showcase app from Android Studio.
    - Ran `./scripts/dumpapp image memcache` from Stetho's open source distribution.
    - See the screenshot above.
    - `./scripts/dumpapp image diskcache` works too:
    
    <img width="1062" alt="screenshot 2017-04-11 11 12 55" src="https://cloud.githubusercontent.com/assets/346214/24904264/d477c210-1
    Closes https://github.com/facebook/fresco/pull/1719
    
    Reviewed By: kirwan
    
    Differential Revision: D4875507
    
    Pulled By: lambdapioneer
    
    fbshipit-source-id: 4eda095eb0d3607c4c71ab2398f916207838c26a

commit c43ef02de286aea7f354a6d6c98f3e62f1f2d9aa
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Wed Apr 12 12:39:38 2017 -0700

    Added FrescoFrameCache to animations v2 sample app
    
    Summary: This change adds the `FrescoFrameCache` to the sample app, both with- and without bitmap reusing (the latter will cache all frames).
    
    Reviewed By: kirwan
    
    Differential Revision: D4860308
    
    fbshipit-source-id: 2caf307843a71e8955bee212a79f158eb1976a4a

commit 9b643aa3ea753e88dfa48b8c9925440c4cee0018
Author: Jason Sendros-Keshka <jsendros@fb.com>
Date:   Wed Apr 12 11:54:30 2017 -0700

    Have ForwardingDrawable forward the getConstantState call
    
    Reviewed By: oprisnik
    
    Differential Revision: D4875862
    
    fbshipit-source-id: e110f46a28d4a1072f5cff0f3db66be9146c5d54

commit 24a76d359cc078d47f255df3db5ad1f3d428dd3e
Author: Massimo Carli <maxcarli@fb.com>
Date:   Wed Apr 12 06:36:52 2017 -0700

    ReturnsOwnership annotation added to `SettableCacheEvent` class
    
    Reviewed By: kirwan
    
    Differential Revision: D4827094
    
    fbshipit-source-id: 7570b7504aca72f535a4e31cd84f32a9a474e10f

commit 821d263b271f19ccb62642509209654736482a2f
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Wed Apr 12 06:06:16 2017 -0700

    Fix imports and format in core classes
    
    Summary: Fixed some code style and import oddness in core classes that showed up in previous diffs.
    
    Reviewed By: oprisnik
    
    Differential Revision: D4859712
    
    fbshipit-source-id: c238de910b9c705bb620d54eac06125f8eb10247

commit fd2490e1289977c448353043c72d4b7071339e1e
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Tue Apr 11 09:01:41 2017 -0700

    AnimatedDrawable2 sample: Added view invalidation button
    
    Summary: In order to simulate random view invalidations, I've added a button that just invalidates the image view.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4859848
    
    fbshipit-source-id: 6b49caccf390609f109896ed93f36f5abf252b88

commit c1f0ceb3dd24a657284314bb4f592959b2a199d6
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Mon Apr 10 10:19:04 2017 -0700

    Fixed potential NPE in FrescoFrameCache and added tests
    
    Summary: This fixes a potential `NullPointerException` when the `CloseableStaticBitmap` is not valid and `convertToBitmapReference` would throw.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4859736
    
    fbshipit-source-id: d0a7a014647f997c14f2e33dfd1835b5b48da1da

commit 4e6e97a133323e2fbc4b564c92db9eb80789cd47
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Fri Apr 7 07:07:20 2017 -0700

    Renamed BitmapFrameCache parameter from bitmap to bitmapReference
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4850801
    
    fbshipit-source-id: 120d5154928c50cc16bd24ef7f277e917fc80afa

commit 3aa032602f8e694087c4fc3365ee3c42c2733c77
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Fri Apr 7 06:15:07 2017 -0700

    Added DrawListener and debugging implementation for AnimatedDrawable2
    
    Summary: This change adds a `DrawListener` that can be used for debugging `AnimatedDrawable2`, especially frame scheduling and drawing performance.
    
    Reviewed By: foghina
    
    Differential Revision: D4843201
    
    fbshipit-source-id: 0e59251eb544643d94da296a8d4a52dba00a6361

commit 34b2fe9b615b1aa185fba3d469e73c5b59170aa5
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Fri Apr 7 06:15:06 2017 -0700

    Decrease draw calls and dropped frames for AnimatedDrawable2
    
    Summary:
    This fixes an issue with frame scheduling if the next frame is scheduled slightly too early.
    Frames were scheduled exactly at the start of their visibility window, which results in dropped frames in case the frame is drawn slightly too early.
    If the drawable is redrawn too early, we will start rendering the previous frame. Rendering could be too slow and cross over the visibility window for the current frame - which would result in skipping the frame entirely.
    
    There are two values that can be specified to delay the next draw command and to offset the animation time.
    - The scheduling delay delays the next draw command for the next frame.
    - The offset adjusts the animation time by a given offset.
    
    Different combinations for both values for a sample animation with 10 frames, 48 ms frame times, 50 loops:
    
    delay 0 ms, offset 0 ms:
    `draw: frame:  9, drawn: true, delay:   4 ms, rendering:   2 ms, prev:  50 ms ago, duplicates: 175, skipped:  38, draw calls:  637, anim time:  23956 ms, next start:  24000 ms, next scheduled:  24000 ms`
    
    delay 0 ms, offset 8 ms:
    `draw: frame:  9, drawn: true, delay:  21 ms, rendering:   0 ms, prev:  17 ms ago, duplicates: 131, skipped:   0, draw calls:  631, anim time:  23973 ms, next start:  24000 ms, next scheduled:  24000 ms`
    
    delay 4 ms, offset 4 ms:
    `draw: frame:  9, drawn: true, delay:   7 ms, rendering:   1 ms, prev:  50 ms ago, duplicates:  17, skipped:   0, draw calls:  517, anim time:  23959 ms, next start:  24000 ms, next scheduled:  24004 ms`
    
    delay 8 ms, offset 0 ms:
    `draw: frame:  9, drawn: true, delay:   3 ms, rendering:   1 ms, prev:  34 ms ago, duplicates:   1, skipped:   0, draw calls:  501, anim time:  23955 ms, next start:  24000 ms, next scheduled:  24008 ms`
    
    Since 8/0 yielded the best results for the devices I've tested this with, I'm setting the default values to 8/0.
    
    Reviewed By: kirwan
    
    Differential Revision: D4826419
    
    fbshipit-source-id: ad35c40ccb0f6a17cfe29fbb47253394458de59f

commit e8ef32f59652e390b2c295012a3071450e35022c
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Fri Apr 7 04:41:45 2017 -0700

    Producers call new onUltimateProducerReached() callback
    
    Summary: Make all producers call the new listener callback if they are the producer ultimately responsible for creating the response for the request.
    
    Reviewed By: oprisnik
    
    Differential Revision: D4802617
    
    fbshipit-source-id: cafa4b72c49b3ea73ad3273c82ecf60aa0252f71

commit f16d7251b9cccfef3b319ab3890ca453d6c13750
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Fri Apr 7 04:41:44 2017 -0700

    Add ProducerListener.onUltimateProducerReached()
    
    Summary: Adds a new callback to ProducerListener which is called by a producer if, and only if, it's responsible for the ultimate satisfaction of the request. That's to say, if the image is found in the encoded memory cache, `EncodedMemoryCacheProducer` will call this listener method. Likewise for other cache producers, `NetworkFetchProducer` and extensions of `LocalFetchProducer`.
    
    Reviewed By: oprisnik
    
    Differential Revision: D4779814
    
    fbshipit-source-id: f24e7165d84c888fc6739320979125b20ce9f274

commit caa3f45cfcdbbf20175a34c15ca6d0097e3ae558
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Wed Apr 5 07:18:54 2017 -0700

    Revert: Build jpegturbo as a shared library
    
    Summary: This reverts pull-request #1686 (https://github.com/facebook/fresco/pull/1686). After it has been landed it was discovered that it would increase the APK size for apps that just use the *core* library. We are committed to keep the core small and therefore we decided to revert it to the previous state.
    
    Reviewed By: erikandre
    
    Differential Revision: D4827270
    
    fbshipit-source-id: b59ce42058078b766d3b75bb8f2f27d1e7b06dc8

commit 8dede1e2a1c4de341aca75406e034f77f261416a
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Tue Apr 4 06:34:21 2017 -0700

    Clean up and test AnimationBackendDelegate
    
    Summary:
    `AnimationBackendDelegate` didn't correctly persist alpha values and color filters if the backend is switched.
    This change fixes these issues and adds tests.
    
    Reviewed By: massimocarli
    
    Differential Revision: D4819234
    
    fbshipit-source-id: cc0e97e8c30cbf3ed937b8b976df687ebb640e41

commit cd9e054611defc9a6cd4ddadae95a1ae53aba5e4
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Mon Apr 3 15:28:02 2017 -0700

    Add warnings about prefetch to docs
    
    Summary:
    Closes #1710.
    
    Add warning to frescolib.org and Javadocs that unless using a `NetworkFetcher` which supports priorities (and neither of your open-source fetchers do) then prefetches can block images which are required for immediate display on screen.
    
    Reviewed By: oprisnik
    
    Differential Revision: D4819457
    
    fbshipit-source-id: ef3aea5eec56e124e096095dc4a07667b8ada36a

commit e52bea6d2bcb2a1c84b700feb5815d06f628fc3a
Author: Martin Konicek <mkonicek@fb.com>
Date:   Mon Apr 3 09:28:55 2017 -0700

    Add a bit more info on getting started contributing to Fresco
    
    Summary:
    I just got the sample app running. Needed a bit poking around to figure out what folder to open in Android Studio, and it didn't compile - needed to specify the NDK path.
    
    **Test plan (required)**
    
    Checked that it renders nicely on GitHub:
    
    ![screenshot 2017-03-28 17 27 04](https://cloud.githubusercontent.com/assets/346214/24416345/60b302b6-13dc-11e7-81bb-97ddc0d9d5e5.png)
    Closes https://github.com/facebook/fresco/pull/1714
    
    Differential Revision: D4787659
    
    Pulled By: kirwan
    
    fbshipit-source-id: 9a47ef89c5e2a4197ca68e35a1b4820cd250d22f

commit 004c087321bb0905acf48855741528bb512d6abd
Author: Erik Andre <erikandre@fb.com>
Date:   Fri Mar 31 09:06:55 2017 -0700

    Implemented caching in LiteStreamingNetworkFetcher
    
    Reviewed By: kirwan
    
    Differential Revision: D4802183
    
    fbshipit-source-id: 6a6ec6a77c92d676d279d52e6044004b510486e3

commit 63a80130a6150d06281cc2e1a73e632504092b88
Author: Martin Konicek <mkonicek@fb.com>
Date:   Tue Mar 28 08:25:44 2017 -0700

    Update pull request template
    
    Summary:
    In React Native we found the old template sometimes gets ignored by people.
    
    We now use this new one which is a bit more explicit - clear in-your-face checklist right at the beginning.
    
    **Test Plan**
    
    Checked that it renders correctly, links work:
    
    ![screenshot 2017-03-28 16 07 27](https://cloud.githubusercontent.com/assets/346214/24412633/e2f176ba-13d0-11e7-8852-cb362c5cdee3.png)
    Closes https://github.com/facebook/fresco/pull/1715
    
    Differential Revision: D4787195
    
    Pulled By: foghina
    
    fbshipit-source-id: fca64ce4964e4b4ea1e085f17fc0794de683a4cf

commit a528480ebe87b6e8124796959e9ccd015338cc79
Author: Felix Oghina <foghina@fb.com>
Date:   Tue Mar 28 03:44:48 2017 -0700

    refactor CloseableReference and fix synchronization
    
    Reviewed By: kirwan
    
    Differential Revision: D4771905
    
    fbshipit-source-id: e749bf3ebebeab2977b0d711e66ff51e31f0dcd8

commit 427727cca0509592b56c467a388f7cfb535fc423
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Mon Mar 27 07:47:53 2017 -0700

    Fix media variations with non-jpeg images
    
    Summary:
    Fixes #1707.
    
    Stop non-jpegs being passed to the progressive decoder when non-final images are returned thanks to media variations.
    
    Also added use of non-jpeg images to the media variations sample within the showcase app.
    
    Reviewed By: oprisnik
    
    Differential Revision: D4747947
    
    fbshipit-source-id: f0f35ea43c5c5460de14afff390fad7bd83c56d8

commit cd46d06ba1de9d444750e0715345c27a9fa4d898
Author: Felix Oghina <foghina@fb.com>
Date:   Fri Mar 24 12:53:47 2017 -0700

    remove unclosed reference reporting
    
    Reviewed By: oprisnik
    
    Differential Revision: D4771842
    
    fbshipit-source-id: e51c8375dfe6c7a7275d4f35cd5ece31af47b283

commit e59b3ddfb4d5b7c9ba8676b5bc07e8b27199c5ca
Author: Joseph Lam <me@lamjoseph.com>
Date:   Thu Mar 23 07:26:00 2017 -0700

    Update powered_by.yml
    
    Summary:
    Added Pics for Reddit to the list
    
    Thanks for submitting a pull request! Please provide enough information so that others can review your pull request:
    
    Explain the **motivation** for making this change. What existing problem does the pull request solve?
    
    Prefer **small pull requests**. These are much easier to review and more likely to get merged. Make sure the PR does only one thing, otherwise please split it.
    
    **Test plan (required)**
    
    Demonstrate the code is solid. Example: The exact commands you ran and their output, screenshots / videos if applicable.
    
    Make sure tests pass on Circle CI.
    
    **Code formatting**
    
    Look around. Match the style of the rest of the codebase. See also the simple [style guide](https://github.com/facebook/fresco/blob/master/CONTRIBUTING.md#coding-style). If you use IntelliJ IDEA or Android Studio, it should automatically pick up the [code style settings](https://github.com/facebook/fresco/blob/master/.idea/codeStyleSettings.xml).
    
    For more info, see the ["Pull Requ
    Closes https://github.com/facebook/fresco/pull/1690
    
    Reviewed By: kirwan
    
    Differential Revision: D4762042
    
    Pulled By: oprisnik
    
    fbshipit-source-id: 1c6d224a6c94d1c9a470b68043323f4e585d7768

commit 9fc6b87bf7640ca8a015fbb6960b3081d912b9c6
Author: Erik Andre <erikandre@fb.com>
Date:   Wed Mar 22 05:04:10 2017 -0700

    Updated Fresco JavaDoc for v1.2.0 release
    
    Reviewed By: kirwan
    
    Differential Revision: D4753474
    
    fbshipit-source-id: 8c233238ea13e626a73625fcf23e274da0ad1561

commit 1dbf8096ec7c76356347641e90f089e1f9d168d3
Author: Erik Andre <erikandre@fb.com>
Date:   Wed Mar 22 04:09:19 2017 -0700

    Bumped Fresco version to 1.2.0 in readme
    
    Reviewed By: kirwan
    
    Differential Revision: D4737357
    
    fbshipit-source-id: 4a3b9328502ee2b2ed53595bb562501837a0d2c5

commit f6824613954c327b88850d9a901933e9f07b799f
Author: Erik Andre <erikandre@fb.com>
Date:   Tue Mar 21 09:06:12 2017 -0700

    Updated Fresco proguard config
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4746140
    
    fbshipit-source-id: c72adf66489d56d5b66b2b2d4edc89417d346f32

commit 4464bf06d9a0b6345b13986c39c5f729610d65e3
Author: Erik Andre <erikandre@fb.com>
Date:   Tue Mar 21 07:06:24 2017 -0700

    Turned off breakOnError for gradle modules in Fresco
    
    Reviewed By: massimocarli
    
    Differential Revision: D4737600
    
    fbshipit-source-id: 274d8ecf28d90c8cec636da16f883d4deb189c2c

commit f0545aa3593500bfd11cc5f65a617304d7f8ff2a
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Tue Mar 21 04:44:15 2017 -0700

    Add non-jpeg images to test with media variations
    
    Summary: Add a couple of non-jpeg images to the sample images used by the media variations sample. This will allow us to resolve GitHub issue #1707.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4745550
    
    fbshipit-source-id: b23ca90f49c704740059fbd609d51d80448f7155

commit 676be098f0c925963c12aa2f7489a4b5f3ab25df
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Tue Mar 21 04:37:26 2017 -0700

    Fix libpng build for static-webp
    
    Summary: The previous commit for updating libpng missed to update all references and the `pnglibconf.h`. This broke the gradle build and CircelCI.
    
    Reviewed By: kirwan
    
    Differential Revision: D4745501
    
    fbshipit-source-id: e85d29bc5397c1af8f0dccac0174aee9bc01d1b9

commit 0bc2d9a96dc53518a8c3b45e32e84c73825bbf03
Author: Massimo Carli <maxcarli@fb.com>
Date:   Mon Mar 20 08:03:39 2017 -0700

    SourceUriType information added to ImageRequest
    
    Summary: The type of Uri is known when the ImageRequest is created
    
    Reviewed By: oprisnik
    
    Differential Revision: D4421178
    
    fbshipit-source-id: c0a88cb5fe408ac73563805f319b9e2274b77e72

commit e02f278b6e5ed89fbe1c1e4a6a694dd27bc38788
Author: Erik Andre <erikandre@fb.com>
Date:   Wed Mar 15 03:11:10 2017 -0700

    Bumped fresco version to 1.2.0
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4706478
    
    fbshipit-source-id: b4884f99d02019d27d407f67cf1136024f3d3e80

commit ab394adfbda6ae44e185498ef77ed9cd11153c97
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Fri Mar 10 10:58:57 2017 -0800

    Add media ID extractor example to showcase app
    
    Summary: Adds another mode to the showcase app's media variations sample, allowing a MediaIdExtractor to pull the media ID from the URIs.
    
    Reviewed By: massimocarli
    
    Differential Revision: D4681367
    
    fbshipit-source-id: e3b5b130782abe247c3bb162c44cb948a217b272

commit 360d54ae51ed02b3fee43c18b5514844c58c8d36
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Fri Mar 10 10:58:56 2017 -0800

    Demonstrate different uses of media variations in sample app
    
    Summary: Media variations can be used in different ways. This change to the sample in the showcase app demonstrates these.
    
    Reviewed By: massimocarli
    
    Differential Revision: D4675278
    
    fbshipit-source-id: fcf34ca0323f2c9ab10a94dc47559b92f9cf0c74

commit 59aec91fca8705c5cb89b6bc859c1c91f377fc04
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Fri Mar 10 10:58:54 2017 -0800

    Use MediaIdExtractor in MediaVariationsFallbackProducer
    
    Summary: Passes the optional MediaIdExtractor to the producer which will call it when necessary.
    
    Reviewed By: massimocarli
    
    Differential Revision: D4674112
    
    fbshipit-source-id: fb0fad5e67a58188a22aa4d980eb3dfa714648f9

commit af2c7f3a66c1bffd3351d5f1b60822b5e9852abd
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Fri Mar 10 10:58:52 2017 -0800

    Create MediaIdExtractor interface
    
    Summary: Creates a new interface which will allow a client to extract media IDs from URIs which are formatted in a consistent manner.
    
    Reviewed By: massimocarli
    
    Differential Revision: D4673904
    
    fbshipit-source-id: 62cde203cf0a8be184ce7f264bc06173f6a1f09e

commit 097b4cf29ab29afc08e76e8105c148e6eddadb3e
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Fri Mar 10 03:11:53 2017 -0800

    Remove unused member from WebpSupportStatus
    
    Reviewed By: kirwan
    
    Differential Revision: D4681549
    
    fbshipit-source-id: c3e9ac15e1f69a98f6a6a12c7b20b5259cbc3cd1

commit 533759d14aeca6c50167cc0b4abb7b9c9a070d90
Author: Sam Blackshear <shb@fb.com>
Date:   Thu Mar 9 12:06:21 2017 -0800

    getRoundingParams returns ownership
    
    Differential Revision: D4675020
    
    fbshipit-source-id: a58cf8d7f7f0795c30daa11106957365c2339fa5

commit a21960cf904b82545bd6ae38498358d31ad733af
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Thu Mar 9 05:29:10 2017 -0800

    Bump libpng to latest version v1.6.26 for gradle build
    
    Summary:
    This change updates the underlying libpng to its latest version v1.6.26 (see http://www.libpng.org/pub/png/libpng.html)
    
    As a result, the library moves pass some fixes for vulnerabilities. Most mentionable: CVE-2016-10087, CVE-2015-8126 and CVE-2015-0973. Those should have not had any affect on the security of Fresco, as we only use libpng for creating PNG files and not for reading untrusted sources.
    
    Reviewed By: kirwan
    
    Differential Revision: D4681405
    
    fbshipit-source-id: 4ddf797f270b1f096da544a6a7bd2eb485bcb8ca

commit 9b99e1fe8150dfde0e94e6594d9b2317425626e7
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Thu Mar 9 04:17:38 2017 -0800

    Unify handling of native library imports in build.gradle
    
    Summary: After this diff all version number constants for native dependencies are defined in `gradle.properties` among all other dependency version numbers. Also now all `lib*` folders follow the same fully-qualifying naming pattern.
    
    Reviewed By: kirwan
    
    Differential Revision: D4681401
    
    fbshipit-source-id: e24ef048f9f656867a1a6eb32c85457497df0a88

commit b63ed31a91f98b82fac53445d33906780cf03ffa
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Thu Mar 9 03:01:56 2017 -0800

    Move MediaVariationsIndex and implementations to cache package
    
    Summary:
    Move these classes from `com.facebook.imagepipeline.producers` to `com.facebook.imagepipeline.cache` which makes more sense.
    
    This is worthwhile as I'm adding another related interface and it's made it clearer that that these were in the wrong place.
    
    Reviewed By: massimocarli
    
    Differential Revision: D4673896
    
    fbshipit-source-id: 233e789f0c37ab08fcb8e53499177c4c804da85c

commit be3802fd5dcfeaf133e541a759f1dcdeeb8a1db6
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Thu Mar 9 03:01:54 2017 -0800

    Add source property to MediaVariations and include in listener events
    
    Summary:
    Adds a new property to the MediaVariations class to distinguish between occasions when MediaVariationsFallbackProducer finds an alternative that was explictly listed or one which was found in the index thanks to a shared media ID.
    
    This is also added to listener events from that producer.
    
    A following change will introduce another potential source.
    
    Reviewed By: massimocarli
    
    Differential Revision: D4666715
    
    fbshipit-source-id: 0e5b61972fa57f4ae7703b417f67298a6c67cc6f

commit b4569594966b493a064e1953b4154f9b3cfe20c2
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Thu Mar 9 03:01:52 2017 -0800

    Extract VariantComparator from MediaVariationsFallbackProducer and add tests
    
    Summary: The comparator used to sort variants within MediaVariations was tested as a by-product of tests for the producer itself, but this extracts it into a named inner class and adds explicit tests of the sorting.
    
    Reviewed By: massimocarli
    
    Differential Revision: D4667644
    
    fbshipit-source-id: 5e07795e14a4db3950bd2d35820451c00b089f7b

commit b66625e8c6c3c929dfbfe21e55acc8b9dd3ceee3
Author: Sam Blackshear <shb@fb.com>
Date:   Wed Mar 8 16:34:46 2017 -0800

    add `@Functional` annotation to TriState methods
    
    Summary: Prevent Infer thread-safety analysis from reporting false positives in client code that uses `TriState`.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4666463
    
    fbshipit-source-id: 1fbb5089f26c5012905692eb431fed18759db81e

commit f1e1f24de3d65aa06d51f7dde92651a3cb29ed76
Author: windcao <windcao@hotmail.com>
Date:   Wed Mar 8 04:44:26 2017 -0800

    fix stream res leak
    
    Summary:
    **Test plan**
    Please clone the demo from https://github.com/caojianfeng/FrescoDemo.git
    And run it.
    Now it will crash when started or scroll the image list.
    And My test device is Android 4.1.2 .I receive this:
    
    ```
    03-07 01:16:27.343 18562-18571/caojianfeng.frescodemo E/StrictMode: A resource was acquired at attached stack trace but never released. See java.io.Closeable for information on avoiding resource leaks.
                                                                        java.lang.Throwable: Explicit termination method 'end' not called
                                                                            at dalvik.system.CloseGuard.open(CloseGuard.java:184)
                                                                            at java.util.zip.Inflater.<init>(Inflater.java:82)
                                                                            at java.util.zip.GZIPInputStream.<init>(GZIPInputStream.java:96)
                                                                            at java.util.zip.GZIPInputStream.<init>(GZIPInputStream.java:81)
                                                                            at libcore.net.http.HttpEngine.initContentStream(HttpEngine.java:528)
                                                                            at libcore.net.http.HttpEngine.readResponse(HttpEngine.java:836)
                                                                            at libcore.net.http.HttpURLConnectionImpl.getResponse(HttpURLConnectionImpl.java:274)
                                                                            at libcore.net.http.HttpURLConnectionImpl.getResponseCode(HttpURLConnectionImpl.java:486)
                                                                            at com.facebook.imagepipeline.producers.HttpUrlConnectionNetworkFetcher.downloadFrom(HttpUrlConnectionNetworkFetcher.java:97)
                                                                            at com.facebook.imagepipeline.producers.HttpUrlConnectionNetworkFetcher.fetchSync(HttpUrlConnectionNetworkFetcher.java:80)
                                                                            at com.facebook.imagepipeline.producers.HttpUrlConnectionNetworkFetcher$1.run(HttpUrlConnectionNetworkFetcher.java:61)
                                                                            at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:442)
                                                                            at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:305)
                                                                            at java.util.concurrent.FutureTask.run(FutureTask.java:137)
                                                                            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1076)
                                                                            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:569)
                                                                            at java.lang.Thread.run(Thread.java:856)
    
    ```
    When the fixed Lib work . It will show a image list and can be scroll to the bottom of the list.
    
    Make sure tests pass on Circle CI.
    
    Closes https://github.com/facebook/fresco/pull/1678
    
    Reviewed By: kirwan
    
    Differential Revision: D4658501
    
    Pulled By: lambdapioneer
    
    fbshipit-source-id: e7201f2872e76dc927c15dd4158539e0066ed3ad

commit 6f92497f95bdfaef08ea69ba08453bb3094eb27c
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Wed Mar 8 04:30:52 2017 -0800

    Change media variations index to return instance of MediaVariations
    
    Summary:
    In order to hold extra data about results from queries to the index, this diff changes the return type to be an instance of `MediaVariations` instead of `List<Variant>`.
    
    This enables following diffs which will include pulling a media ID which isn't explicitly included in the image request, as well as another which will add to the map included in producer listener callbacks from this producer.
    
    `MediaVariations.getVariants()` is also removed and replaced by two methods: `getVariantsCount()` and `getVariant(int)` to remove any chance of the list being modified.
    
    Reviewed By: massimocarli
    
    Differential Revision: D4666084
    
    fbshipit-source-id: 1cf21bcedd0c9c7162f59973dc8c211ac21103db

commit eabe337f5f158401f68d41fa1ceb5a77dad96d15
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Tue Mar 7 11:20:22 2017 -0800

    FIX: do not crash with missing fb_jpegturbo
    
    Summary: : This prevents clients to crash if they exclude the fb_jpegturbo.so for any reason
    
    Reviewed By: kirwan
    
    Differential Revision: D4667313
    
    fbshipit-source-id: 3e5e13319e389e22c9ea50bbb269a574c16eb6c0

commit 92da47e95664414f0d442dbd2fbe88daaa563384
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Tue Mar 7 10:05:50 2017 -0800

    Added custom scale type examples to showcase app
    
    Summary:
    This adds 2 custom scale types (fitX and fitY) to the Showcase sample app.
    
    The scale type code is from https://github.com/facebook/fresco/pull/909. Thanks to yangkai3.
    
    Reviewed By: massimocarli
    
    Differential Revision: D4666113
    
    fbshipit-source-id: 4438e294861a31e581fb5d872fbbd1181c5ed99a

commit 50a0593fa7640d5166cf922194a9a118941eb60e
Author: Pierre-Luc Paour <github@paour.com>
Date:   Tue Mar 7 03:22:03 2017 -0800

    Fix two links
    
    Summary:
    Extra spaces are likely causing the links to be rendered incorrectly on the main docs site (GH is more lenient).
    
    ![datasources_and_datasubscribers_-_fresco](https://cloud.githubusercontent.com/assets/90963/23646968/ba3fb6f0-0313-11e7-8125-d2c328ffd9b8.png)
    Closes https://github.com/facebook/fresco/pull/1692
    
    Reviewed By: kirwan
    
    Differential Revision: D4666017
    
    Pulled By: lambdapioneer
    
    fbshipit-source-id: 06056b222c326bc6b360bdea8defd0d0d9f8f104

commit 9fc35c562d83dd4a66f364ae178a27988ac7dec5
Author: Felix Oghina <foghina@fb.com>
Date:   Tue Mar 7 02:40:47 2017 -0800

    bump gradle and android plugin versions
    
    Reviewed By: oprisnik
    
    Differential Revision: D4649941
    
    fbshipit-source-id: 50a51d8afbc17c9c19c9d7808db4120a31ac34a4

commit 43c9f91ab0f96ea5004df8758bb979e9bf6ab6ac
Author: Desmond Yao <yaojy1121@gmail.com>
Date:   Mon Mar 6 10:05:47 2017 -0800

    Build jpegturbo as a shared library.
    
    Summary:
    Link jpegturbo as a shared library for reduce apk size.
    
    See [#1865](https://github.com/facebook/fresco/issues/1685)
    
    After this work, if somebody use webp support, his so library would be (file size is measured in armeabi-v7a abi):
    
    - **libfb_jpegturbo.so** 165kb
    - **libimagepipeline.so** 26kb
    - **libstatic-webp.so** 290kb
    
    Totally: 481kb
    
    Before (which would link jpegturbo as a static library):
    
    - **libimagepipeline.so** 230kb
    - **libstatic-webp.so** 362kb
    
    Totally: 592kb (So we reduce 117kb just in armeabi-v7 !)
    
    But if someone only use imagepipeline (not use webp support), he would also have 39kb size reduce!
    Closes https://github.com/facebook/fresco/pull/1686
    
    Reviewed By: kirwan
    
    Differential Revision: D4658508
    
    Pulled By: lambdapioneer
    
    fbshipit-source-id: d62028d799ddf6be13ac40e903a149d616192972

commit 6a3d87a44e7fbea56c76c61724178c2099d1f4af
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Sun Mar 5 04:36:24 2017 -0800

    Don't rely on cache's memory index for media variations
    
    Summary:
    The original implementation of the MediaVariationsFallbackProducer only ran an in-memory index check for each variant.
    
    In cases where the index is incomplete (as is common with DiskStorageCache) this results in false misses.
    
    With this change, a full disk read is attempted for each variant until one is found. The list is sorted so that the most appropriate variant is tried first.
    
    The media variations sample had masked this shortcoming due to its row of variants being loaded before the main image.
    
    Reviewed By: massimocarli
    
    Differential Revision: D4656961
    
    fbshipit-source-id: 91314d3eabfe3b62ad786159d2cac6c3195b7262

commit 43875a6ce2c0de4d2fe9554ed3e41274d5c25932
Author: Massimo Carli <maxcarli@fb.com>
Date:   Thu Mar 2 03:01:35 2017 -0800

    Image size in bytes added to extraMap in DiskCacheReadProducer
    
    Summary: Added size of the image from the disk cache to extraMap logging
    
    Reviewed By: kirwan
    
    Differential Revision: D4635680
    
    fbshipit-source-id: 65ba1eaaadf36de5b9ce812ff711395fa8412d52

commit 48a4185678ca0950d5a4dfe6edf159f1161be016
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Thu Mar 2 01:58:07 2017 -0800

    Fix setting of DiskStorageCache.mIndexReady
    
    Summary: Fixes a bug that meant that `mIndexReady` was not being set correctly in all cases after populating the index at startup.
    
    Reviewed By: massimocarli
    
    Differential Revision: D4620788
    
    fbshipit-source-id: 236f43d660ed9b20532cd5b264d097039c210973

commit cddf7294f523f568d1987390c44d3626bd678e68
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Thu Mar 2 01:58:06 2017 -0800

    Move eligible classes from imagepipeline-test to imagepipeline-test-base
    
    Summary:
    Only one class in imagepipeline-test has a dependency on imagepipeline-base.
    
    This moves the other classes so that the dependency chain for tests can run as follows:
    
    ```
    fbcore
      /\
    imagepipeline-base-test
      /\
    imagepipeline-base
      /\
    imagepipeline-test
      /\
    imagepipeline
    ```
    
    This will enable adding unit tests to `DiskStorageCacheTest` which use `TextExecutorService`.
    
    Reviewed By: massimocarli
    
    Differential Revision: D4620656
    
    fbshipit-source-id: 8a2feca97dab1fc0d323c1d83d674691dabba87b

commit b33eefb87639a1cf22e0f6d5068305afe1bbf497
Author: Sam Blackshear <shb@fb.com>
Date:   Wed Mar 1 10:12:00 2017 -0800

    add ReturnsOwnershipAnnotation to obtainController
    
    Reviewed By: kirwan, oprisnik
    
    Differential Revision: D4635112
    
    fbshipit-source-id: fce36141199683f573372398f0513cbd70b6f798

commit 6a0e7c35224aa2c74fea2d7d2c58237070413f0f
Author: Daniel Wagner-Hall <dwh@fb.com>
Date:   Wed Mar 1 07:22:48 2017 -0800

    Avoid using unnecessary subclass of ForwardingDrawable.
    
    Reviewed By: kirwan
    
    Differential Revision: D4630027
    
    fbshipit-source-id: f272d657a2a9cbd3a3e520e121e6e86fe42f4853

commit 22a11d8fb254ed4520729f16307d2da7bfbf9558
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Mon Feb 27 09:58:50 2017 -0800

    Move PooledByteBuffer to fbcore to remove circular dependencies
    
    Summary:
    PooledByteBuffer being in imagepipeline-base resulted in circular dependencies between imagepipeline-base and imagepipeline-base-test.
    
    Due to this we had disabled `EncodedImageTest` in the Gradle file.
    
    This moves the whole `com.facebook.imagepipeline.memory` package in imagepipeline-base to the `com.facebook.common.memory` package in fbcore.
    
    Those tests are also enabled once more.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4611859
    
    fbshipit-source-id: 3449f93e5f90b9976d050e390abaa7c3dbc06ee2

commit 43146717722be4472a9f0169af0896c31b1dfeab
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Mon Feb 27 07:13:37 2017 -0800

    Add tests for the media variations index database
    
    Summary: Added some tests to ensure the values returned match what's written.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4605850
    
    fbshipit-source-id: 5ac605e44703f9f9eef934ed4094be0dc1f5f6e6

commit 8ac1992102c19831c4768dce90e715bb1ca71ebb
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Mon Feb 27 07:13:34 2017 -0800

    Include the cache choice in variants provided by the media variations index
    
    Summary:
    Now that the media variations index is told which cache each item was written to, this adds that information to the variants provided by queries to the index.
    
    This also required adding it to the Variant object.
    
    Reviewed By: oprisnik
    
    Differential Revision: D4604967
    
    fbshipit-source-id: 0f52ed71e6c0f0ee7ea89b25a9b8cdcfa5ac2102

commit cbd0b9ed2bdbbcebf652e4dce61f64748f78d215
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Mon Feb 27 07:13:32 2017 -0800

    Write the cache choice to the media variations index db
    
    Summary:
    Adds the cache choice column to the index database and sets the value when an item is saved.
    
    This required increasing the database version and fixing a bug in the upgrade method that meant the database wasn't actually recreated.
    
    Reviewed By: massimocarli
    
    Differential Revision: D4598112
    
    fbshipit-source-id: ee9f93c85f0e39abed610455fa0c3c4d3f7a839c

commit b200537afc0adc6c630a53fbca8d990191ceace5
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Mon Feb 27 07:13:30 2017 -0800

    Pass cache choice to the media variations index
    
    Summary: Pass the cache choice used when caching a file to the index database so that future uses with media variations can query the correct cache.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4611376
    
    fbshipit-source-id: e0ecfcb54b35f6d3c265f5b140261fa3f37ee419

commit 96669aa22c3f67838286c73bcee735aeb98690bc
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Mon Feb 27 07:13:29 2017 -0800

    Add DiskCachePolicy.getCacheChoiceForResult()
    
    Summary:
    Adds a new method to the DiskCachePolicy interface so that it's possible to know which cache an image will go in without actually caching it.
    
    This detail will be added to the media variations index for more effective loading.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4565875
    
    fbshipit-source-id: ddfbf953b7865d40afbe424d11277fa34102f803

commit a1b993277bc92bdc18e496d76f66e1916491ddb2
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Mon Feb 27 06:08:20 2017 -0800

    Remove cleanup of DiskStorageCache's index old shared pref file
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4611430
    
    fbshipit-source-id: 97ad8e00e329924fc9e3c857b40eb6886b7eb6a9

commit 9bf8cf5912ef82ed82479f8e58166c4baaefcb3e
Author: wwm <mingming.wang@ele.me>
Date:   Fri Feb 24 11:55:45 2017 -0800

    fix duplicate media variant entries
    
    Summary:
    **motivation** :
    when I download some images with media variations feature enabled, then I got some entries written to the media variations index database, but if I cleared all the previous cached  images (or load the same image while writing index info to the db) , and reload those images again, I would got duplicate entries with the same mediaId, width, height and resourceId pointing to the same disk cache key
    
    **reproduce steps** :
    0. check out current master branch
    1.  just run example/media-variations
    2. click to load all the images
    3. then click the "Clear cache and reset" menu
    4. reload all those images again
    5. repeat step 3 and 4 if you want
    6. pull the media-variations index database from the test device, open it using a sqlite3 client and query all entries from media_variations_index table
    7. ***observable result*** : you would find more than one entries with identical mediaId, width, height, resourceId, cache_key and resource_id (except the auto generated primary key)
    
    **Test plan*
    Closes https://github.com/facebook/fresco/pull/1672
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4605725
    
    Pulled By: kirwan
    
    fbshipit-source-id: ac77b47b99ce0bd56de6b03fa09b0197f21cf515

commit 00e46256b9fadc7d98b3d9e3292f589dbd92d0f8
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Fri Feb 24 08:01:52 2017 -0800

    Bump the support lib version
    
    Summary: Google have updated the support library, so let's pull in the new version.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4611505
    
    fbshipit-source-id: e98f0ffd04551b1e3f0eeb8fbbeae22c27d357d0

commit 06811e7cdc1ef2884deda314a8eb8cdb9d25ad51
Author: Felix Oghina <foghina@fb.com>
Date:   Thu Feb 23 05:53:32 2017 -0800

    sync destructor list add
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4597806
    
    fbshipit-source-id: cfb985bf0399b2789aafe2be17119d40fcd64b10

commit dabece10e6c3f8fc326adee2ed9bba3a723ca164
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Thu Feb 23 04:24:00 2017 -0800

    Added image format color override example
    
    Summary: This adds a simple example that sets the custom color decoder for the given image.
    
    Reviewed By: kirwan
    
    Differential Revision: D4551569
    
    fbshipit-source-id: 8dcd0929b0f5c4199e680965cb372af8d872d362

commit 1929c2fe9100c6fc38acf71d144ed92da109c9ad
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Thu Feb 23 04:23:58 2017 -0800

    Added custom image decoder override to ImageDecodeOptions
    
    Summary:
    This makes it possible to use a custom decoder for selected images only.
    
    Usage:
    
    ```
        ImageDecodeOptions imageDecodeOptionsWithCustomDecoder = new ImageDecodeOptionsBuilder()
            .setCustomImageDecoder(CUSTOM_COLOR_DECODER)
            .build();
    
        AbstractDraweeController controller = Fresco.newDraweeControllerBuilder()
            .setImageRequest(
                ImageRequestBuilder.newBuilderWithResourceId(R.raw.custom_color1)
                    .setImageDecodeOptions(imageDecodeOptionsWithCustomDecoder)
                    .build())
            .build();
        simpleDraweeView.setController(controller);|
    ```
    
    Reviewed By: kirwan
    
    Differential Revision: D4551537
    
    fbshipit-source-id: 9b6484c395d7348d3b2963611ed43ecb700b6f73

commit 05d8d97e908ebfdd74888fe5cec28ef58fe53c7e
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Thu Feb 23 04:09:22 2017 -0800

    Fixed DraweeRecyclerViewFragment
    
    Reviewed By: erikandre
    
    Differential Revision: D4604965
    
    fbshipit-source-id: 987929968b947564a3e11d0cd5686a40dc5b1bab

commit 521c4a5f1dfcbe7fc6ba745d8de0d6c95399a041
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Thu Feb 23 03:03:58 2017 -0800

    Showcase: Added RecyclerView example (grid)
    
    Summary: This adds a simple `RecyclerView` example to the Showcase app.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4598285
    
    fbshipit-source-id: 10c168cb5687454cb06198db30578e0e6d08d66f

commit 051461f28594588a704ada99a57e95c65e31826a
Author: Felix Oghina <foghina@fb.com>
Date:   Wed Feb 22 14:46:27 2017 -0800

    Implement isValid for CloseableReferenceWithoutFinalizer
    
    Summary: Since the `close()` method doesn't call through super, `mIsClosed` is never set to true, so `isValid()` will always return true for `CloseableReferenceWithoutFinalizer`. Override `isValid()` so this works correctly.
    
    Reviewed By: kirwan
    
    Differential Revision: D4599196
    
    fbshipit-source-id: cc32f042a14e1df4008110d854607cbcac08ebb9

commit ad09c3c1dd930a6a77fc109984072fcfbd107ba7
Author: Byron Hood <byronh@fb.com>
Date:   Wed Feb 22 12:13:59 2017 -0800

    Avoid making multiple copies of the same list
    
    Summary:
    The existing implementation of ImmutableList.of(...) is inefficient. It makes a temporary copy of the list, then copies the contents over again into the final list. This unnecessarily uses both allocations (expensive on Android) and CPU time.
    This diff makes a single copy of the data, as would be expected by an immutable list implementation aiming to manage its own data.
    
    Reviewed By: IanChilds
    
    Differential Revision: D4598314
    
    fbshipit-source-id: ad194c3ba5ef35379ad8b13283474edd62fd0cd9

commit 929c18c9711fb9691c60412e5b03e3337fa305bf
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Wed Feb 22 09:06:23 2017 -0800

    Added packaage-info for image decoder package
    
    Summary: Required for JavaDoc.
    
    Reviewed By: kirwan
    
    Differential Revision: D4597820
    
    fbshipit-source-id: 86f46417e8f2db0cb3191cf2e2053d44f3122182

commit eacc313350ec8009f9f4b95bbaf45029070cf3b8
Author: Felix Oghina <foghina@fb.com>
Date:   Wed Feb 22 08:35:02 2017 -0800

    Showcase app: simplify hierarchy demo
    
    Reviewed By: oprisnik
    
    Differential Revision: D4598017
    
    fbshipit-source-id: d1bb63a7c9cbf8b1a52eee0ab43b90d140d6b156

commit c75c50a4be643d21da94b27f51004e4d95bf4e2d
Author: eldk <webmaster@opalesurfcasting.net>
Date:   Wed Feb 22 05:40:56 2017 -0800

    Switch to OkHttp 3.6.0
    
    Summary:
    Hello,
    
    Switch to OkHttp 3.6
    
    Related to this : https://github.com/facebook/fresco/issues/1648
    
    In check and tests for the moment.
    
    Thanks,
    
    Eric
    Closes https://github.com/facebook/fresco/pull/1668
    
    Reviewed By: oprisnik
    
    Differential Revision: D4590782
    
    Pulled By: kirwan
    
    fbshipit-source-id: c92557e9db61ea95ac5dca232238313781368829

commit 7dba320ae49619c42459d99b090f69a98a226b46
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Wed Feb 22 05:22:50 2017 -0800

    Remove the old media variations sample app
    
    Summary: Now the media variations sample is in the showcase, delete the separate app.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4597489
    
    fbshipit-source-id: 0f250693f1894c7c8c379298e91032ab5a8ff33a

commit ca403b5567b928d5595bcd2097ce848e7436ef5e
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Wed Feb 22 05:22:48 2017 -0800

    Enable media variations index in the showcase app
    
    Summary: To fully enable the media variations sample, adds the experimental option to enable the showcase's image pipeline config.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4591737
    
    fbshipit-source-id: e36e15afc9d4e48903a010506f4b2ad914ea30c0

commit 44e58c9862135ad484305b13e1be8a644c3f7585
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Wed Feb 22 05:22:45 2017 -0800

    Add media variations sample to showcase menu
    
    Summary: This adds the media variations sample to the menu so that it can be selected from the navigation drawer.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4591729
    
    fbshipit-source-id: 1e17530b3274bf5ac98ee123df34b52071d6ad6a

commit ddf2633f352588df48f1aadeb3aa7d00a85cd37e
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Wed Feb 22 05:22:43 2017 -0800

    Move media variations sample to showcase app
    
    Summary:
    Moves the existing media variations sample app into the Fresco showcase.
    
    This allows the sample to benefit from features of the showcase app (such as editing settings) and removes the need for a separate app to be installed in order to try out the feature.
    
    I'll add this sample to the menu in a following diff.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4591661
    
    fbshipit-source-id: 3b2ef5d84236440fb9d0563ce2b1f67ece0fe7ce

commit 7c0dd1ec8b3ea846a7303545002fc067656e262c
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Wed Feb 22 05:22:41 2017 -0800

    Enable options menus from showcase fragments
    
    Summary: onCreateOptionsMenu wasn't calling the super method. Changing that allows the individual fragments to add items to the menu.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4591597
    
    fbshipit-source-id: 54af1c327e956897c5e50ed60bfb931767162710

commit c4731bc98203d88c0c4109f0d57619656a9d0cbc
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Wed Feb 22 05:22:39 2017 -0800

    Default Showcase app to the welcome screen if fragment ID invalid
    
    Summary:
    Making changes to the Showcase app's resources can result in the generated IDs changing. This resulted in the app crashing for me due to an old ID being saved in shared preferences.
    
    This diff ensures that the welcome screen will be shown in this case.
    
    Reviewed By: oprisnik
    
    Differential Revision: D4591557
    
    fbshipit-source-id: 9e041d8b728ba3b33c83d83f0280dc3b327c0f7c

commit 5433378998c5518dce0b88aee86cf03bcec7c509
Author: Felix Oghina <foghina@fb.com>
Date:   Fri Feb 17 10:28:32 2017 -0800

    Update javadoc for 1.1.0
    
    Reviewed By: oprisnik
    
    Differential Revision: D4558884
    
    fbshipit-source-id: cbccc9532c47a8bda105a2b67eeb6351c4d85c5a

commit 83cf757f6d2a786dc44c6df79c7d9cbfee86d1aa
Author: Massimo Carli <maxcarli@fb.com>
Date:   Fri Feb 17 03:39:18 2017 -0800

    Check null for RequestListeners
    
    Summary: Some Set implementations can contain null value that we don't want to register.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4571952
    
    fbshipit-source-id: a6909471eace90715e218f2c48ddc491cb1bae33

commit 2f3bb1834379d328468e1a184bc7d316b74fa3d4
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Fri Feb 17 02:12:17 2017 -0800

    Synchronize on same object when reading or writing media variations database
    
    Summary:
    Ensure that write and reads to the index database synchronize on the same object. Previously, reads were in a synchronized method but there was no protection around writes.
    
    Also, this removes the unnecessary `close()` call which existed after reading from the database (no close call was present in the writing case).
    
    Fixes #1667
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4565894
    
    fbshipit-source-id: 90b54c86f6f1f0b2180704bb076118b9adff47f0

commit d144909a060cb7b219a1fa3dc8cc29c8f011757a
Author: Sam Blackshear <shb@fb.com>
Date:   Thu Feb 16 10:02:02 2017 -0800

    Backed out changeset 1c6fc93e66ff
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4572582
    
    fbshipit-source-id: 6ce7c8c56ce8a7cca08ee5e5ed831fe6e7c566bf

commit b47334aa61764c2987f7d9e5876efc6f30a1ba84
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Thu Feb 16 07:22:05 2017 -0800

    Fixed NaiveCacheAllFramesCachingBackend cache clearing
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4528064
    
    fbshipit-source-id: dab3e5eec112e4b024b825b798712caf988362c1

commit 25d9a07b1923192e0c54d728caa48bcdfa79a5be
Author: Sam Blackshear <shb@fb.com>
Date:   Wed Feb 15 15:21:45 2017 -0800

    add a few @ReturnsOwnership annotations
    
    Reviewed By: jaegs
    
    Differential Revision: D4560877
    
    fbshipit-source-id: 1c6fc93e66ffffb5b3d0d92d9778e99e5567f52e

commit 749dccf91a006bfcc1e3aa9c7cfae381088eaa7a
Author: Massimo Carli <maxcarli@fb.com>
Date:   Tue Feb 14 09:44:59 2017 -0800

    ProducerName is public for MediaVariationFallbackProducer
    
    Summary: For uniformity we put the name of the Producer as public
    
    Reviewed By: kirwan
    
    Differential Revision: D4558162
    
    fbshipit-source-id: 2ab68930d138bf8e402457d221dbdd9f8ca4dfdd

commit 7027142607430a9ab842150b576ab6486751063b
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Tue Feb 14 09:31:02 2017 -0800

    Moved ImageDecoder to imagepipeline-base
    
    Summary: `ImageDecodeOptions` live in `imagepipeline-base`, so it makes sense that the `ImageDecoder` also lives there.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4551534
    
    fbshipit-source-id: 4b1dd589e2e93b3dea16336a0fac8c7d42fa81f8

commit bc1a20e621e79cbbff8a7a2aadd7b7cefb085662
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Tue Feb 14 09:24:55 2017 -0800

    Update SimpleDraweeView resource usages to use setActualImageResource
    
    Summary: This changes some local resource usages of Fresco to use `setActualImageResource`
    
    Reviewed By: kirwan
    
    Differential Revision: D4502723
    
    fbshipit-source-id: a8f25ed0905dd306e0b9c23d9f368c79e049d777

commit 2c8eb6e3b2cbce88676740fbe2cffe6f3d87ebbd
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Tue Feb 14 09:24:51 2017 -0800

    Added actual image resource to SimpleDraweeView
    
    Summary: This adds convenience methods to set image resources as actual images for Drawee.
    
    Reviewed By: kirwan
    
    Differential Revision: D4082697
    
    fbshipit-source-id: 1f38c9d17d036b94f875ff257494a6dca736e749

commit 5513ceb1bb1e87d90f7e00139b416613f5cfe443
Author: Felix Oghina <foghina@fb.com>
Date:   Tue Feb 14 05:07:39 2017 -0800

    Bump version number to 1.1.0 in readme and docs
    
    Reviewed By: kirwan
    
    Differential Revision: D4558185
    
    fbshipit-source-id: 57e31b54faa28154ecad31515d0047132095a86b

commit 754518b67b09bc21ea8fb1fbc094b21f24a19ad5
Author: Massimo Carli <maxcarli@fb.com>
Date:   Tue Feb 14 04:40:17 2017 -0800

    Removed final for MediaVariations class
    
    Reviewed By: kirwan
    
    Differential Revision: D4552211
    
    fbshipit-source-id: 8d9fd9137f39f5ab5c363e586e9bcf219bd172cd

commit ab0e3f257eaa0d4c09443662b05c715c55e52934
Author: Felix Oghina <foghina@fb.com>
Date:   Tue Feb 14 03:53:47 2017 -0800

    Bump version to 1.1.0
    
    Reviewed By: oprisnik
    
    Differential Revision: D4558161
    
    fbshipit-source-id: fcb0e656bf18281af8e2e08054a51634bedf7f53

commit 245fab4fd020d02a0b863088694e98abb6fd77ba
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Mon Feb 13 09:57:29 2017 -0800

    Keyframes example: close input stream
    
    Summary: The input stream for the encoded image should be closed after the keyframes image has been deserialized.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4551918
    
    fbshipit-source-id: 7ab1bee171e7945339a8ca69ca7ced915f36fff7

commit 274fb664cca7e5c75d6858800b3c5f27cd9382f5
Author: Felix Oghina <foghina@fb.com>
Date:   Mon Feb 13 09:03:19 2017 -0800

    Experiment with finalizer-less CloseableReference implementation
    
    Summary: Add a flag to `CloseableReference` that sets whether finalizers should be used. Based on this flag, the appropriate implementation is used when calling any of the factory methods (`of` / `clone` / `cloneOrNull`).
    
    Reviewed By: kirwan
    
    Differential Revision: D4528548
    
    fbshipit-source-id: d9971928d4cb83d7be99a4e2316018504e888a3c

commit 35090465864103f65246546f170216ffddbee8ff
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Fri Feb 10 04:53:38 2017 -0800

    Showcase: Added ACTION_GET_CONTENT to media picker example
    
    Summary: This adds another media picker example that uses `ACTION_GET_CONTENT`.
    
    Reviewed By: massimocarli
    
    Differential Revision: D4537540
    
    fbshipit-source-id: 4b674e56f7648971dd12bc77a782108060e666d0

commit b8fa4b542e12a55473f5d16a673edc903a65aa56
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Fri Feb 10 04:53:37 2017 -0800

    Showcase: Added media picker example
    
    Summary: This adds a media picker example for 2 different media pickers.
    
    Reviewed By: massimocarli
    
    Differential Revision: D4536556
    
    fbshipit-source-id: 67d7068af1b93b051ef788e794fb5794ed6e8272

commit 86e0e7dbd682361a1c265cfe6e81b82cc709fe22
Author: Felix Oghina <foghina@fb.com>
Date:   Fri Feb 10 04:34:50 2017 -0800

    add github issue and pull request templates
    
    Reviewed By: kirwan
    
    Differential Revision: D4515259
    
    fbshipit-source-id: f616614af18fa9154aeabc9cc358e7247c0eb80b

commit d41bf01bc3e3a24a2a24aff4f543d570f2c0e76f
Author: Daniel Kopitchinski <kdaniel@fb.com>
Date:   Thu Feb 9 23:23:33 2017 -0800

    Removed unused memory hooks from DraweeHolder
    
    Summary: Removed `MemoryUiTrimmable` that is no longer in use. If you happened to use this API directly, it is safe to remove your call-sites to it.
    
    Reviewed By: lambdapioneer, stashuk
    
    Differential Revision: D4521116
    
    fbshipit-source-id: 094d8ad8bacf0b50a5cc7adf38200cce29d5161b

commit 9283eb4cd09053469abf966a62091a17693c6825
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Thu Feb 9 08:54:55 2017 -0800

    Showcase: Updated simple example image and added description
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4536771
    
    fbshipit-source-id: dd8b8e882413c6c0b5f07718031eef45821b1713

commit ef9f105b13f20942d0a68bf2c6334c34e906a04b
Author: Omer Strulovich <ostrulovich@fb.com>
Date:   Thu Feb 9 07:17:26 2017 -0800

    Replace assertTrue(false) with fail() everywhere
    
    Reviewed By: denley
    
    Differential Revision: D4531716
    
    fbshipit-source-id: cd83445f6d4f125c2eef55c4342d47fba8246e91

commit ded854433da2d9d038cca6151ede00862ecfd000
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Thu Feb 2 07:44:32 2017 -0800

    Remove unused variable in WebpBitmapFactoryImpl
    
    Summary: The local variable is not used.
    
    Reviewed By: kirwan
    
    Differential Revision: D4500938
    
    fbshipit-source-id: fd993d5100d86fded9c5f29d4dca3215a6e942b0

commit ad4e2ef2550efea7c9304d889c24dd574d1767b8
Author: Felix Oghina <foghina@fb.com>
Date:   Wed Feb 1 11:33:19 2017 -0800

    add ability to set relevant trace
    
    Reviewed By: kirwan
    
    Differential Revision: D4488757
    
    fbshipit-source-id: 67857414abb69e0402a47a8c6b0f65a5700540e1

commit 358bdc3cd6d85a016237f156d06beffcb00d35b2
Author: Lucas Nelaupe <lucas.nelaupe@vcube.co.jp>
Date:   Wed Feb 1 08:09:52 2017 -0800

    Improve error handling for okhttp
    
    Summary:
    PR for issue #1513
    
    I added the fetchWithRequest() method inside Okhttp2 fetcher to make the implementation more consistent.
    Closes https://github.com/facebook/fresco/pull/1647
    
    Reviewed By: oprisnik
    
    Differential Revision: D4494447
    
    Pulled By: lambdapioneer
    
    fbshipit-source-id: b7669fc81bdb014df8d81f910f5d74320af33821

commit 416c2be838ceb121c28deb24de3826e3cbd50b4b
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Tue Jan 31 07:07:01 2017 -0800

    Update javadocs for 1.0.1
    
    Summary:
    We had allowed our javadocs to get a little out of date.
    
    This updates them to 1.0.1 release.
    
    Reviewed By: oprisnik
    
    Differential Revision: D4487774
    
    fbshipit-source-id: d1ba942f24d27db9d579bbddd79de16692fee085

commit 1659928b4d74e4a92acba95f95e6e1441a8933fa
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Tue Jan 31 05:37:51 2017 -0800

    Fixed XML indentation code style settings
    
    Summary:
    This sets our XML code style settings to follow
    ```
    <View
        android:layout_width="wrap_content"
        android:layout_height="wrap_content"
        />
    ```
    
    Reviewed By: martinpelant
    
    Differential Revision: D4474533
    
    fbshipit-source-id: 779e5573d674158fca25885a928918a1c9f62f75

commit 48c7435f4c920bcec649505eb86b39fa9f323307
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Mon Jan 30 10:59:50 2017 -0800

    Showcase: preserve selected navigation item across restarts
    
    Summary: We would like to keep the last selected navigation item since this makes development easier.
    
    Reviewed By: kirwan
    
    Differential Revision: D4482278
    
    fbshipit-source-id: 110d840abaaa54a286f80d81794222d1c4b1ec3e

commit 554779490f511db12e122953d9470991805dcfd1
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Mon Jan 30 07:16:22 2017 -0800

    Fixed ImageRequestTest for Windows
    
    Summary: The two `File`s that are compared are different instances with the same path. This breaks the tests on Windows.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4461868
    
    fbshipit-source-id: 59e0250210a295d98905a307efc4024b02314835

commit 18900d41ae8fd57def46071a0c0b595448fc9de3
Author: Ian Childs <ianc@fb.com>
Date:   Mon Jan 30 02:55:02 2017 -0800

    Easy creation of ImmutableList
    
    Summary: Per title. You don't want to have to create a separate list yourself that you then just wrap.
    
    Reviewed By: passy, emilsjolander
    
    Differential Revision: D4474884
    
    fbshipit-source-id: ff305d09b7616a0feae298dcf8cb1876becb6c61

commit ac680571b4de16740bd4a4d33e857c6825257bfb
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Sat Jan 28 03:34:47 2017 -0800

    Fix DraweeHolder controller set before hierarchy
    
    Summary: Fixes issue #1642 where if a DraweeHolder's DraweeController is set before the DrawableHierarchy a precondition check failed.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4474855
    
    fbshipit-source-id: 8bc8a7a1e062775c3c6745924374d7be06aa3a58

commit c023888ca7807121fc1c721c427c3aa5fce1681b
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Fri Jan 27 17:56:21 2017 -0800

    Update CircleCI config to set up correct Android SDK
    
    Summary: We've updated the target SDK, tools and support lib, so we have to update the CircleCI config as well.
    
    Reviewed By: kirwan
    
    Differential Revision: D4474331
    
    fbshipit-source-id: f166e106fcd2974afa809919d551022c89eaf6dd

commit 88047c2ee9cbad0b9f4695af8f5fa5b65c762e7f
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Thu Jan 26 16:28:40 2017 -0800

    Showcase: Added progressive JPEG example
    
    Summary: This adds a progressive JPEG example to the Showcase app that displays all rendered scans.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4456653
    
    fbshipit-source-id: 2f2601bce9dbb070c1f851241f60b3537bd27b6b

commit 40f8486433d3a0f6911adc80a704d829764fb58e
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Thu Jan 26 07:09:42 2017 -0800

    Bump compile and target SDK version to 25 (Nougat)
    
    Summary: Updated target and compile SDK to Nougat, also updated build tools.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4468577
    
    fbshipit-source-id: eb401b4e69febdcf261dff58d491dd2aedc3724c

commit c0c8b1d8b1690497cd13450efc61b198c50ed4f1
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Wed Jan 25 13:41:01 2017 -0800

    Updated powermock version to 1.6.6
    
    Summary: This fixes failing `AnimatedImageFactoryGifImplTest` on Windows.
    
    Reviewed By: kirwan
    
    Differential Revision: D4461894
    
    fbshipit-source-id: e17410ab1a91958c99b23d0ea94f0911c99e6864

commit 6ada86ab249e746ad836a215644f7af0fc9eb563
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Wed Jan 25 05:47:29 2017 -0800

    Removed unnecessary IntDef imports
    
    Summary: Cleaned up imports
    
    Reviewed By: kirwan
    
    Differential Revision: D4461792
    
    fbshipit-source-id: 79b10d9ceff174981b87f3c322b15b8ec8225fd5

commit 18b8551a9b9528034db86a74220a0938edfde8dc
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Wed Jan 25 04:26:27 2017 -0800

    Added missing retention policy for BetterImageSpanAlignment IntDef
    
    Summary: Missing annotation added to strip the annotation.
    
    Reviewed By: kirwan
    
    Differential Revision: D4461730
    
    fbshipit-source-id: c757a50b24c8b785f5091a3b5d35a9d7d6430325

commit 993c326b167938078021dc129fd31ca78a2542ff
Author: Massimo Carli <maxcarli@fb.com>
Date:   Mon Jan 23 09:47:12 2017 -0800

    ImageFormat update fixed after WebP transcoding
    
    Summary: ImageFormat change after WebP transcoding
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4423426
    
    fbshipit-source-id: f9ca7c321272adc8330599f41b5e807f5fa5574a

commit 01f91fefe7f7b6b285d2305d5b46cacb9c39f153
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Mon Jan 23 02:55:44 2017 -0800

    Animations v2: Added naive cache all frames caching strategy
    
    Summary:
    This adds a very naive caching strategy that just keeps a `SparseArray` for all bitmaps.
    This is only intended for testing and doesn't integrate with Fresco's caching mechanisms.
    
    Reviewed By: massimocarli
    
    Differential Revision: D4429239
    
    fbshipit-source-id: 64b1b1f5b157bd32b87e1f12c89d66c7086e30b1

commit 72421c33b78db64dc66e1bd75de0f084372f2036
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Fri Jan 20 04:44:11 2017 -0800

    Catch NPE from potential RC in DiskStorageCache
    
    Summary:
    Due to a race-condition (https://code.google.com/p/android/issues/detail?id=8886) the method `Context#getFilesDir` could return `null`. This was supposedly fixed in 4.4: https://android.googlesource.com/platform/frameworks/base/+/cc866da37db53df67e9b324815d6377bbd47d71b%5E%21/#F0
    
    As the code path is rather optional, let's just fail quietly if things go wrong there.
    
    Reviewed By: oprisnik
    
    Differential Revision: D4441647
    
    fbshipit-source-id: 1fc441a9f3f1c2080abe2a8448812cf645d6c9e3

commit 468144b734ceb138deb01a9c42d792e655a26d22
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Thu Jan 19 16:57:53 2017 -0800

    Added cache selector for bitmap animation debug fragment
    
    Summary: This adds a caching strategy selector for animated images.
    
    Reviewed By: massimocarli
    
    Differential Revision: D4429082
    
    fbshipit-source-id: 24bd4deee42cff14ae60dd7cb8d4cbacc3fc5176

commit fc8bf8ce15e82719f4cd05997db35ca8cc3e4869
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Thu Jan 19 16:57:49 2017 -0800

    Added debugging framework for bitmap animation backends
    
    Summary: This adds a debugging framework to see what's cached and when frames are created / reused etc.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4428997
    
    fbshipit-source-id: e1c1046ec166577e2f226f12adc87abe8600ade0

commit 4def51cceb521f0a96206ddeacee0adcb50b0345
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Thu Jan 19 07:52:24 2017 -0800

    Bump version number to 1.0.1 in readme and docs
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4435551
    
    fbshipit-source-id: 497fb7d87c7532ee6b02b844db53c4e367e658ed

commit 3d527b6e3fa31eb283ef9f510e488c3dab9617b9
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Thu Jan 19 05:45:08 2017 -0800

    Bump version to 1.0.1
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4435541
    
    fbshipit-source-id: 79ae17ae20c34a0df9025674d235921cda75159d

commit 6fe61d0bc349eac6971e6808714716a161b51e07
Author: andygarron <anderson.garron@gmail.com>
Date:   Thu Jan 19 04:20:17 2017 -0800

    Use BufferType.SPANNABLE in setText of SimpleDraweeSpanStringBuilder
    
    Summary:
    Explicitly uses `BufferType.SPANNABLE` to let `SimpleDraweeSpanTextView` know that it might need to resize itself. See associated issue: https://github.com/facebook/fresco/issues/1633
    
    Feel free to suggest alternative solutions; I think this is safe to do and a cursory search didn't turn up anything better, but I suspect maintainers of `DraweeSpan` might know more about spans than I do!
    Closes https://github.com/facebook/fresco/pull/1634
    
    Differential Revision: D4435370
    
    Pulled By: oprisnik
    
    fbshipit-source-id: 09dcbc9a3360771a726cf283d9ff20da8b1d94f1

commit 39417a2b95ccaca1d75b11d9c51a4c73a12b65c4
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Wed Jan 18 17:20:17 2017 -0800

    Animations v2: Added frame cache listener
    
    Summary: Listening to frame caching events can be useful for debugging.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4428944
    
    fbshipit-source-id: ca7e61b059708385490c516f08bc2d67d4546ba8

commit 645d84dd87a26dae3299f5a69842448bab9d574a
Author: Erik Andre <erikandre@fb.com>
Date:   Wed Jan 18 06:52:52 2017 -0800

    Allow setting a custom PipelineDraweeControllerFactory in DraweeConfig
    
    Summary: Added a method to DraweeConfig.Builder for injecting a custom PipelineDraweeControllerFactory.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4422946
    
    fbshipit-source-id: 993fd2c8d6c2410c9726bc1724c4ae65f17220e3

commit e97ccbc56c92f2476b7d48b7d967f6860b7a8e8d
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Wed Jan 18 03:16:08 2017 -0800

    Fix LocalFileFetchToEncodedMemoryPrefetchSequence
    
    Summary: After adding prefetching for local files, the generated sequences would include the `NetworkFetchProducer` instead of the `LocalFileFetchProducer`. This diff makes the sequence use the correct one.
    
    Reviewed By: oprisnik
    
    Differential Revision: D4423001
    
    fbshipit-source-id: 93cf79b5bb640811f3049242e05bbbe45d4f0905

commit 5cdd470f1e86487e187f1c60db1205c9fe0412cc
Author: Massimo Carli <maxcarli@fb.com>
Date:   Wed Jan 18 03:09:46 2017 -0800

    LibWebp upgraded to 0.5.2 on gradle
    
    Summary: Libwebp upgraded to 0.5.2
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4422744
    
    fbshipit-source-id: 8e4272ec392e74cdc2247bfd8dc68914c8388cb5

commit 01b5567cb4e766230b0c314f7793a1f4ebfc0061
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Tue Jan 17 10:28:04 2017 -0800

    Animations v2: Added simple bitmap example
    
    Summary: Added a simple bitmap backend example that renders a color and the frame number.
    
    Reviewed By: kirwan
    
    Differential Revision: D4422950
    
    fbshipit-source-id: b5a933294473d291785e0d56ea7215c4fac133cc

commit 0be763fafabe869ce42f0018c5e473acdac56fa5
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Tue Jan 17 07:06:42 2017 -0800

    Fix showcase proguard setup
    
    Summary: This fixes missing proguard definitions for the SVG library used in one of the samples.
    
    Reviewed By: lambdapioneer, massimocarli
    
    Differential Revision: D4422869
    
    fbshipit-source-id: 8a9f3cb05129dd3589eb74a8597230cb0864be73

commit 2706eae91ac170202803245519f1aa4a943aaf68
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Tue Jan 17 06:36:05 2017 -0800

    Ignore lint warning for showcase sample
    
    Summary: Release builds with `./gradlew  :samples:showcase:build` are failing due to the lint error.
    
    Reviewed By: foghina
    
    Differential Revision: D4422805
    
    fbshipit-source-id: be7e3a4c1d21ae285706f52e59a9d627c0597db2

commit d7ac8e85cd89428057734eb3b77041a0a497f049
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Tue Jan 17 03:01:28 2017 -0800

    Animations v2: Added backend selector
    
    Summary: This adds a backend selector to the animations2 sample app.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4421316
    
    fbshipit-source-id: 3b9b4f49c8893bd670010af95a16d51d94243a03

commit e5e5a53bbc60231a8b4dd4ffcb90859b0efceb4c
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Sat Jan 14 02:00:43 2017 -0800

    Animations v2: Added local drawable backend
    
    Summary: This adds a simple backend that cycles through local drawables.
    
    Reviewed By: massimocarli
    
    Differential Revision: D4414772
    
    fbshipit-source-id: d1aebfbcd3f5cb2b487fa588373fecb2a4f7f579

commit 66008417ba0f0b1fdb776b1d29cc6217c7f2f443
Author: Felix Oghina <foghina@fb.com>
Date:   Fri Jan 13 07:33:37 2017 -0800

    download giflib from launchpad.net
    
    Summary: Sourceforge is super unreliable and our CircleCI build is failing because it can't download giflib from there. Switch to downloading from launchpad.net (bonus: HTTPS).
    
    Reviewed By: kirwan
    
    Differential Revision: D4414782
    
    fbshipit-source-id: 42dd0daf4b4588963fbc3edc0622f5af90406669

commit 386f37a390cbc907b1a14b50476150539c130ee9
Author: Massimo Carli <maxcarli@fb.com>
Date:   Fri Jan 13 03:00:07 2017 -0800

    RotationAngle added to Log
    
    Summary: Log about rotation added
    
    Reviewed By: kirwan
    
    Differential Revision: D4409498
    
    fbshipit-source-id: 2168648698a014b52217d03921be2cc403aba2d7

commit 0947c1e788b7378450e45945c4f71f420948ed7f
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Thu Jan 12 15:32:27 2017 -0800

    Added animations v2 media control example
    
    Summary: This adds a simple media control example for animations v2.
    
    Reviewed By: massimocarli
    
    Differential Revision: D4404478
    
    fbshipit-source-id: d16d4a39d76fbd3035addb4ab887e4b4202b4b85

commit 2fc87f830e3ad3ee4c7826feabf8fbd0fcf7e22a
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Thu Jan 12 15:32:25 2017 -0800

    Animations v2: extracted color sample backend
    
    Summary: The color sample is now in a separate class so that it's easier to re-use.
    
    Reviewed By: massimocarli
    
    Differential Revision: D4409508
    
    fbshipit-source-id: 0d949c287e678e1f84e93aca335c4b54ce15a69d

commit e192111d32052ae7e6b97c253dc1a66732c31dc1
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Thu Jan 12 15:32:21 2017 -0800

    AnimatedDrawable2: Fixed frame seeking
    
    Summary: Frame seeking did not work properly since it stopped the animation and reset the current animation state.
    
    Reviewed By: massimocarli
    
    Differential Revision: D4404243
    
    fbshipit-source-id: 5eff7f3f2827edb7080f14464a44b9efc48a29d0

commit b36cefe4115c9f0a3579dcb119469e3db995dd63
Author: Massimo Carli <maxcarli@fb.com>
Date:   Thu Jan 12 10:23:11 2017 -0800

    Immutable objects instance replication removed
    
    Summary: Immutable classes can be instantiated once.
    
    Reviewed By: oprisnik
    
    Differential Revision: D4409846
    
    fbshipit-source-id: abe526f9b99ca8ede5eba53d8b2c1fbff5722dad

commit 47f5c723d5cd7a6e9485f553509faa26ef41843f
Author: Felix Oghina <foghina@fb.com>
Date:   Thu Jan 12 10:21:33 2017 -0800

    add IssueCommands.txt for github bot, stack-overflow command
    
    Reviewed By: mkonicek
    
    Differential Revision: D4403732
    
    fbshipit-source-id: 09a9f7c6eaaebdaa427614285f68e96cfc4d2b7d

commit 4c72c04b92c1915610f39f28473677004c9b9be3
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Wed Jan 11 09:30:51 2017 -0800

    Make ProgressBarDrawable implement CloneableDrawable
    
    Reviewed By: massimocarli
    
    Differential Revision: D4403804
    
    fbshipit-source-id: e673b7c9ee502bae5e598293c3c2d11f8aa16e57

commit be87e8977dc43555e6143a77fbac14a5d49c7971
Author: Massimo Carli <maxcarli@fb.com>
Date:   Wed Jan 11 03:06:38 2017 -0800

    Ratio conversion fixed
    
    Summary: Fixed the conversion between different ratio values
    
    Reviewed By: kirwan
    
    Differential Revision: D4398135
    
    fbshipit-source-id: 3cc4ebe5682b088025e8793a597e2048cd7a72a2

commit c6dcedcfbdd94ee26d2911bdfcef30f812551010
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Tue Jan 10 05:36:38 2017 -0800

    Provide canonical way to create ImageRequest for local files
    
    Summary:
    This change adds a canonical method `ImageRequest#fromFile` in order to allow developers not having to care about the correct way to create URIs for local files.
    
    Closes #1596
    
    Reviewed By: oprisnik
    
    Differential Revision: D4386923
    
    fbshipit-source-id: e2edc8f31b7dd2ea7698a5b1bba9fcd47da67923

commit 1d4461d9afc549380cc1a9b7f58460e44a75f9f1
Author: Denis Koroskin <dkoroskin@fb.com>
Date:   Mon Jan 9 08:11:54 2017 -0800

    Fix WebpBitmapFactoryImpl.createBitmap() being called with wrong class
    
    Summary:
    When JNI debugging is enabled, ART is very pedantic about what class you are passing when invoking static method. In this case, this is causing a crash:
    
    runtime.cc:476] JNI DETECTED ERROR IN APPLICATION: can't call static android.graphics.Bitmap com.facebook.webpsupport.WebpBitmapFactoryImpl.createBitmap(int, int, android.graphics.BitmapFactory$Options) with class java.lang.Class<android.graphics.Bitmap>
    runtime.cc:476]     in call to CallStaticObjectMethodV
    runtime.cc:476]     from android.graphics.Bitmap com.facebook.webpsupport.WebpBitmapFactoryImpl.nativeDecodeByteArray(byte[], int, int, android.graphics.BitmapFactory$Options, float, byte[])
    Closes https://github.com/facebook/fresco/pull/1607
    
    Reviewed By: massimocarli, oprisnik
    
    Differential Revision: D4386800
    
    Pulled By: foghina
    
    fbshipit-source-id: 876e0fb944ebb42f5ace242b67f119c57ca2464a

commit a4bec859446c74281c1b6a26029ee3fd17dc285d
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Mon Jan 9 07:34:35 2017 -0800

    Moved custom decoder color XML example to the Showcase app and deleted decoder sample app
    
    Summary:
    The decoder sample app only had a single color XML sample decoders since we added the others to the Showcase sample.
    I moved the color XML sample to the Showcase app and adapted it accordingly and also removed the old sample app since it's no longer needed.
    
    Reviewed By: massimocarli
    
    Differential Revision: D4375212
    
    fbshipit-source-id: cefe4b09c2377f165a9f89799ca93f32b0083671

commit 4d3bb425c2854fd65a107259ad34e981a0244fef
Author: Ian Childs <ianc@fb.com>
Date:   Mon Jan 9 02:12:45 2017 -0800

    Don't detach a controller if it has been set elsewhere
    
    Reviewed By: kirwan
    
    Differential Revision: D4381209
    
    fbshipit-source-id: dcdf693ffa9b2c775ad0981e3fb3b35262a3a5ed

commit a9d03a0a5c4625d2be84babfa6cc7e1f97a8df59
Author: Sachin Shah <shahsachin@gmail.com>
Date:   Mon Jan 9 01:47:57 2017 -0800

    Add GigTown in the apps using Fresco
    
    Summary: Closes https://github.com/facebook/fresco/pull/1603
    
    Differential Revision: D4392125
    
    Pulled By: kirwan
    
    fbshipit-source-id: bca407b4a9802281bc60ac5bbb63ce63bddd0a53

commit cc4d91e26cc02ded597192f5af7d10c6b4560602
Author: Joel Marcey <joelm@fb.com>
Date:   Sat Jan 7 18:28:06 2017 -0800

    Use feed plugin
    
    Summary:
    I removed the manual feed in https://github.com/facebook/fresco/commit/47be75313d8b8b1c203595d752c37a27a4e24c65
    but forgot the plugin to replace it
    Closes https://github.com/facebook/fresco/pull/1616
    
    Differential Revision: D4391246
    
    Pulled By: JoelMarcey
    
    fbshipit-source-id: 1f460f5feb86a33f463e13cb1ee691eaac6fff6f

commit 47be75313d8b8b1c203595d752c37a27a4e24c65
Author: Joel Marcey <joelm@fb.com>
Date:   Fri Jan 6 06:58:15 2017 -0800

    Jekyll Updates
    
    Summary:
    - Add Gemfile to allow easy running of site locally
    - Use new seo plugin for og info
    - Use feed plugin for the XML feed
    - Use relative URLs for local-to-site links in nav bar (makes it easier for local testing too)
    
    See https://github.com/facebook/nuclide/pull/952 where some of this was provided for Nuclide by a GitHub team member
    
    Tested by running site locally.
    Closes https://github.com/facebook/fresco/pull/1614
    
    Differential Revision: D4386846
    
    Pulled By: lambdapioneer
    
    fbshipit-source-id: b4cbc9fa90ce0ab858347bbd0a3424e51c8a5598

commit f5f3e9718ea854535df3d67c2298af50e221bb52
Author: Joel Marcey <joelm@fb.com>
Date:   Wed Jan 4 14:33:30 2017 -0800

    Remove explicit, although empty, baseurl
    
    Summary:
    We are running into problem with bot-commits again like we did with Nuclide. bot-commits are causing problems with GitHub pages, appending baseurls when there should not be any.
    Let's remove it from the config and see if that fixes the issue for now.
    Closes https://github.com/facebook/fresco/pull/1612
    
    Differential Revision: D4382175
    
    Pulled By: JoelMarcey
    
    fbshipit-source-id: 2e77225d7dbd2c8c41712cf6c9753e092356af5f

commit 0c4545f0a7dd95362eb82e694a7249d201249b81
Author: Joel Marcey <joelm@fb.com>
Date:   Wed Jan 4 13:04:33 2017 -0800

    Small edit to docs - mainly for testing
    
    Summary:
    While the change here is good, this is mainly to test GitHub Pages.
    We want to move the docs to master and serve from there, but it is
    possible the docs ran into the bot commit issue that hampered nuclide
    in the past. This is testing this.
    Closes https://github.com/facebook/fresco/pull/1611
    
    Differential Revision: D4381947
    
    Pulled By: lambdapioneer
    
    fbshipit-source-id: 1439a45cc2c122a25c7c7a8ea321094213f4126c

commit 2d3d4b6f098646ff6dd3c748f8af8d7949ecb4ae
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Wed Jan 4 10:22:22 2017 -0800

    Revert D3334641: fix loading local file fail with special character
    
    Differential Revision: D3334641
    
    fbshipit-source-id: 5fd4b4f5531d8e933e9ceb9891d123aeb7edc395

commit 3ed26514e3868c9c7bfc64a1d4d128f0e4bafb32
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Tue Jan 3 13:52:55 2017 -0800

    Showcase: Added Drawee rotation example
    
    Summary: This adds a sample fragment that shows different `RotationOptions` and their effect on a `SimpleDraweeView`.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4372741
    
    fbshipit-source-id: 405b713e3c8ae865bae61d4f12b5fc0436e7b13d

commit 609df7df5b51e4bb488a7d6f07f92abcad887699
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Wed Dec 21 06:05:26 2016 -0800

    Showcase sample app: make SVG and Keyframes examples use provided sample images and optional checkerboard background
    
    Summary: After this change the SVG sample will use a half-transparent version of the Fresco logo. Also, both the SVG and Keyframes examples allow using a checkerboard background for verifying transparency.
    
    Reviewed By: foghina
    
    Differential Revision: D4352133
    
    fbshipit-source-id: 34b46c143bedb0dbaefd4fa999a5871922376a75

commit 43eed0d8e4011eee764e68d91a84f783b09c8895
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Wed Dec 21 06:05:23 2016 -0800

    Showcase sample app: add sample for demonstrating animated GIF files
    
    Summary: This change adds a sample that illustrates how to use animated GIFs. It allows selecting different sizes that are likely or not likely to fit into frame caches. The checker board background options illustrates that the GIF is indeed rendered with a transparent background.
    
    Reviewed By: foghina
    
    Differential Revision: D4352091
    
    fbshipit-source-id: adba86fad83490c2edc26a47d1bf9a02656feba8

commit 97d4961c4ffdb1afbbae658c7eea34675511577c
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Tue Dec 20 10:55:52 2016 -0800

    New sample images: add Fresco logo variations (SVG)
    
    Summary: This diff adds sample images to test custom SVG decoders.
    
    Reviewed By: foghina
    
    Differential Revision: D4352070
    
    fbshipit-source-id: 53870b14ed71ca224e699821963abe90881072b3

commit bcad5e0199de3baed98e95a83c1d2f0a74a7758c
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Tue Dec 20 10:54:18 2016 -0800

    New sample images: add Fresco logo animation (GIF)
    
    Summary: This diff adds sample animated GIF images to the sample pictures. The different size categories are likely to cause different cache behavior: the small one might fit into cache while the large one is very unlikely to be cached completely.
    
    Reviewed By: foghina
    
    Differential Revision: D4352056
    
    fbshipit-source-id: 3697d99d281063bcb8c97317e5ba68114ea34f83

commit d2d3fda243aa1d4eab3e56de7c86df751cb4a5a5
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Tue Dec 20 05:26:25 2016 -0800

    Showcase sample app: fix navigation nits
    
    Summary: Sets the toolbar title according to the fragment. Makes the welcome screen highlighted when active.
    
    Reviewed By: foghina
    
    Differential Revision: D4347444
    
    fbshipit-source-id: 3babb4052ee85c40db2ecc37ae1e67dadd32d441

commit 40c2e61d4413a25ba49995fce4b9dbb4bb897850
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Tue Dec 20 05:26:24 2016 -0800

    Showcase sample app: add os and device details to settings
    
    Summary: Adds information about the device and its CPU architecture to the sample app.
    
    Reviewed By: foghina
    
    Differential Revision: D4346530
    
    fbshipit-source-id: c27c719c06ff0ace33aa2b9980b5cfc0f3bd2513

commit cbb3e6d1024dcc452614bd150a104148bd8869c3
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Tue Dec 20 05:26:23 2016 -0800

    Showcase sample app: add settings for debug overlay
    
    Summary: Adds an option to the settings screen that can be used to enable debug overlays for the Drawees. Also serves as an example on how to implement this in other apps. Does not need a restart.
    
    Reviewed By: foghina
    
    Differential Revision: D4346526
    
    fbshipit-source-id: e232612b3b3311e1fa029bd48c3a1b464e0c3b1c

commit 8b6f4359e97821f429fd4cb4646e1616171c2b1e
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Tue Dec 20 05:26:20 2016 -0800

    Showcase sample app: add settings option to clear caches
    
    Summary: Adds option to delete all caches from the settings screen. This also serves as an example for developers who want to perform this operation in their apps.
    
    Reviewed By: foghina
    
    Differential Revision: D4346517
    
    fbshipit-source-id: ffc14d0b2fd07a4e072ee530e6f199c9a8362cb4

commit e4534bf595724521772572ac3a69c0979319b42e
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Mon Dec 19 11:26:25 2016 -0800

    Showcase sample app: add start fragment
    
    Summary: The start fragment explains the app's purpose, directs on how to navigate and offers links to our GitHub repo and our public documentation.
    
    Reviewed By: foghina
    
    Differential Revision: D4346487
    
    fbshipit-source-id: 1934f1e9750fb3b11fbd865c9e8c9cdbea088cf0

commit a67271cdc57097c3f7f73c2d6e3cb47b0bb79ce3
Author: Felix Oghina <foghina@fb.com>
Date:   Mon Dec 19 11:22:44 2016 -0800

    Showcase app: add hierarchy example (placeholder, progress, failure images)
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4346257
    
    fbshipit-source-id: a19911369f7f527c1f5dba0ccc60deea8e7b1f6d

commit 74bb6256e6d048943ac2df5566d3ba7c41d74cd4
Author: Felix Oghina <foghina@fb.com>
Date:   Mon Dec 19 09:16:11 2016 -0800

    Kill round sample app
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4346174
    
    fbshipit-source-id: 7101c28576b9006cf31a3bb0ac0a781781916313

commit 323fececa5ca871d08c1bd53e54c8ffca7008615
Author: Felix Oghina <foghina@fb.com>
Date:   Mon Dec 19 09:16:08 2016 -0800

    Showcase app: rounded corners example
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4334886
    
    fbshipit-source-id: f85556f3d8b2d5936cf221688ddf059565785209

commit 0f0be89469309ac5e3428a33d1e01b7e519231bb
Author: Erik Andre <erikandre@fb.com>
Date:   Mon Dec 19 08:48:51 2016 -0800

    Fallback for keyframes animation on legacy devices
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4346554
    
    fbshipit-source-id: b3272b41632101f75506d4127da56bdc8510baa0

commit 985553a24f7d74051d66697d2fbb495ac409f7cc
Author: Erik Andre <erikandre@fb.com>
Date:   Mon Dec 19 05:03:55 2016 -0800

    Added Showcase for Keyframes animated images
    
    Reviewed By: oprisnik, lambdapioneer
    
    Differential Revision: D4334680
    
    fbshipit-source-id: af2956fa706d4cc75e4405a867e765bc78f81352

commit 4c1f79096d9379da7e451b6179cf66cad3ec984d
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Sun Dec 18 05:00:47 2016 -0800

    Added SVG decoder example
    
    Summary: This adds a simple example how you can use third party SVG clients to render SVGs with Fresco.
    
    Reviewed By: massimocarli
    
    Differential Revision: D4334889
    
    fbshipit-source-id: b9472a365094a728564898dc00eb783991bf5085

commit ac139c4fd53ec5a7fc61ee4e887f3662df6344e8
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Sun Dec 18 01:30:28 2016 -0800

    Change version from 1.0 to 1.0.0
    
    Summary:
    It was a mistake to not use three level versioning for "1.0" so this updates the appearances of the version number.
    
    Corrected artifacts are already available on JCenter and Maven Central.
    
    Reviewed By: massimocarli
    
    Differential Revision: D4339420
    
    fbshipit-source-id: 88b570cb6e1b6c17805cba3ba35ca12afeccaed4

commit 6ed61d352548f2462337a4af9841c3d050d9cabb
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Fri Dec 16 08:00:32 2016 -0800

    Showcase sample app: add sample about post processors
    
    Summary:
    This diff adds an extensive example regarding post-processors. I hope the implementations serve as a guide for best-practices of doing such kind of image-processing.
    
    The loaded image is deliberately huge in order to increase the visibility of the speed.
    
    Reviewed By: plamenko
    
    Differential Revision: D4339385
    
    fbshipit-source-id: 15c95685d1fa12dba5aa4d289e9b219be5fc20e4

commit 3708a0be614ff21c30abaa338919bed77aa9232f
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Fri Dec 16 07:51:13 2016 -0800

    Added DebugBitmapAnimationFrameListener
    
    Summary: The frame listener writes to logcat, which is helpful for debugging purposes.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4239919
    
    fbshipit-source-id: df36fefa3bade2d4e3a82e76b9925be7dc86bfaa

commit 25ccd4b84d0edf2ba18c48238c242e8c690cd20f
Author: Massimo Carli <maxcarli@fb.com>
Date:   Fri Dec 16 06:51:00 2016 -0800

    Added Settings to Drawer
    
    Summary:
    Added Settings link to Drawer menu
    {F65248007}
    
    Reviewed By: kirwan
    
    Differential Revision: D4339250
    
    fbshipit-source-id: 253f0bd7e223618c474a5cd99a336692a4a1ae9f

commit 5e4026a9acbd109b29161e64f827c2f0089cad69
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Fri Dec 16 05:48:23 2016 -0800

    Add support library dependency to documentation
    
    Summary: The new release requires that the user provides the support library. This should be reflected in the documentation.
    
    Reviewed By: kirwan
    
    Differential Revision: D4326423
    
    fbshipit-source-id: 96d61205460a3067e8d7421ed19b504ddada03e6

commit 55452b5ce7510d86f8556c8fe5b0f586e39b2470
Author: Massimo Carli <maxcarli@fb.com>
Date:   Fri Dec 16 04:22:20 2016 -0800

    Added simple abstraction for ShowCaseFragments
    
    Summary: Simple abstraction for ShowCaseFragment added.
    
    Reviewed By: kirwan
    
    Differential Revision: D4333210
    
    fbshipit-source-id: ac96ff91a05b30221c878fffd9b5d157d8232c00

commit 63092467b90a8bb16c8b96c38c3d53d5df215c09
Author: Felix Oghina <foghina@fb.com>
Date:   Fri Dec 16 04:17:16 2016 -0800

    add double tap to zoom to zoomableapp sample
    
    Summary:
    People get this wrong sometimes, provide an example gesture listener for double tap & double-tap-and-scroll zooming. Use it in the sample app.
    
    See:
    
    * https://github.com/facebook/fresco/pull/1382
    * https://github.com/facebook/fresco/issues/1565
    
    Reviewed By: massimocarli
    
    Differential Revision: D4326479
    
    fbshipit-source-id: d964bf946e971276128e5018e1a738ffb3217225

commit c9aa0f3c05a682b77c22fb88fc4bf4c297357134
Author: Massimo Carli <maxcarli@fb.com>
Date:   Fri Dec 16 03:36:00 2016 -0800

    Added SettingsFragment
    
    Summary:
    Added SettingsFragment placeholder
    
    {F65238479}
    
    Reviewed By: kirwan
    
    Differential Revision: D4333197
    
    fbshipit-source-id: 3a27407644fa31002bf917a1e073f0a06a159b5a

commit b1b4f1138e195dd94edfc6ce6de0378e861da3c4
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Fri Dec 16 03:10:45 2016 -0800

    Bump version number in readme and docs
    
    Summary: Fresco 1.0 is live! Update the docs to show it.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4339193
    
    fbshipit-source-id: 2f8337803b19e339161eb5790567e8e8a93859bf

commit 8077a4c4eb65dda71e2def306e1979c2f3532f9f
Author: Felix Oghina <foghina@fb.com>
Date:   Thu Dec 15 11:59:20 2016 -0800

    Showcase app: prefetch example
    
    Reviewed By: kirwan, oprisnik
    
    Differential Revision: D4334029
    
    fbshipit-source-id: c6cfe6b93538b968a246ee4dee6b140621306d4d

commit fef66a8c462e9445329e9dffd0ed666af8b26c54
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Thu Dec 15 10:13:48 2016 -0800

    Added DraweeSpan example to showcase app
    
    Reviewed By: massimocarli
    
    Differential Revision: D4326704
    
    fbshipit-source-id: e77eab43de641e74e82635e1b37b84b5b398d8c6

commit a89bdfb56f366dadeb6496b5099278766e9804e6
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Thu Dec 15 09:21:41 2016 -0800

    Open source Drawee span tests
    
    Reviewed By: kirwan
    
    Differential Revision: D4333532
    
    fbshipit-source-id: 26012d7cd20610098c9e43d342df242eef54f981

commit 38a61724af1eaa52b2f2ac1e835f089c353137ad
Author: Felix Oghina <foghina@fb.com>
Date:   Thu Dec 15 08:57:59 2016 -0800

    Showcase: add settings icon
    
    Reviewed By: oprisnik
    
    Differential Revision: D4327678
    
    fbshipit-source-id: 8a924d70005e2d694bca6e705512d3cfcdf6849c

commit dfaf910742883486ad17cfc85778d6190da7bc92
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Thu Dec 15 08:32:45 2016 -0800

    Showcase sample app: clean-up naming
    
    Reviewed By: kirwan
    
    Differential Revision: D4333326
    
    fbshipit-source-id: 3f9b59f1cda400ffede61ebb86c6feea10a375bd

commit f82e9df48e0d2b3e7a05502d09a9fd1661688345
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Thu Dec 15 08:32:43 2016 -0800

    Showcase sample app: add sample about loading images for notifications
    
    Summary: This change adds a fragment that illustrates how one can loads images for notifications using a `BaseBitmapDataSubscriber`.
    
    Reviewed By: kirwan
    
    Differential Revision: D4333320
    
    fbshipit-source-id: 432f10db1cdf53a37e5f63d2b0dab2c1f671c7d1

commit 9948e302b0d91276d9e44dbc4d389fabd919f0af
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Thu Dec 15 07:10:08 2016 -0800

    New sample images: update scroll-perf app and remove unused images
    
    Reviewed By: kirwan
    
    Differential Revision: D4333190
    
    fbshipit-source-id: 9d4f91d45342020853717906dde0346364cb0033

commit 50282d79854520d60b42f0698e7db0c963125661
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Thu Dec 15 04:01:09 2016 -0800

    Showcase sample app: add sample about scale types
    
    Summary: This change adds a fragment to the show case app that illustrates the different scale types.
    
    Reviewed By: oprisnik
    
    Differential Revision: D4333131
    
    fbshipit-source-id: 7c098013d1db5c8f312170258fd749267d803cb7

commit b449f2bd4b07f0aaca2613cc9e54def5ea540b67
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Thu Dec 15 02:56:11 2016 -0800

    New sample images: adding created variations of sample images (PNG)
    
    Summary: Created new sample pictures that can be used across our apps.
    
    Reviewed By: massimocarli
    
    Differential Revision: D4326885
    
    fbshipit-source-id: 0da6978b6aa7c669e480c13b7c66b718623b44f3

commit 2d65ab08953197f4c0be9302e2d1323f4e1ee21b
Author: Felix Oghina <foghina@fb.com>
Date:   Wed Dec 14 10:39:06 2016 -0800

    fix sample apps, bump support lib version
    
    Reviewed By: oprisnik
    
    Differential Revision: D4327136
    
    fbshipit-source-id: 41737f3370b8f306a35794c433d6ad8bf89d89a2

commit 3a3c3088964fa7f8740ca29c8c6faafcbddbf8b9
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Wed Dec 14 09:16:16 2016 -0800

    Added Maven artifact for DraweeSpan
    
    Summary: We can now publish `drawee-span` artifacts to Bintray / Maven Central.
    
    Reviewed By: massimocarli
    
    Differential Revision: D4326796
    
    fbshipit-source-id: 6e1c2a60bd7b91badcadbfa6bebf2e16dbf91ea1

commit 6029c23b2c0d5a10607d63df58953a09785df550
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Wed Dec 14 09:16:14 2016 -0800

    Open Source SimpleDraweeSpanTextView
    
    Summary: This adds `SimpleDraweeSpanTextView` that can be used to display a `DraweeSpanStringBuilder`.
    
    Reviewed By: massimocarli
    
    Differential Revision: D4326678
    
    fbshipit-source-id: 6bd07f8590a4f0b4ddb4dad5f04b8cc219a8d8e8

commit 959b3ec1ab8b0e7051dda8c4755b8e6dfe1acf89
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Wed Dec 14 09:16:13 2016 -0800

    Open Source DraweeSpan and helper classes
    
    Summary: This change adds `DraweeSpan`, which can be used to display text with inline images and helper classes.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4321507
    
    fbshipit-source-id: 453f02831a3578728f8329846b084045c9869c41

commit 89a8ab47bbeb20c16c6526fc2c469dc041e4b9c9
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Wed Dec 14 09:16:12 2016 -0800

    Open source AttachDetachListener
    
    Summary: This adds a simple `AttachDetachListener`.
    
    Reviewed By: kirwan
    
    Differential Revision: D4326524
    
    fbshipit-source-id: dd48fdaad704cf9e9b400b3a652f52133de62faf

commit 86a4599df78cd1f70317343fa1aaed80b96e9c51
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Wed Dec 14 09:16:10 2016 -0800

    Open source BetterImageSpan
    
    Summary: `BetterImageSpan` allows to center the image and it offers a helper method to get the correct alignment.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4320265
    
    fbshipit-source-id: 2c4f6eee8dd41a53a013ed562d17b12f5bbb3ecd

commit c853cbea3a9db52808635611800e8c793755ca98
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Wed Dec 14 09:16:08 2016 -0800

    Added drawee-span module
    
    Summary: This change adds a new `drawee-span` module that will contain the `DraweeSpan` implementation and helper classes.
    
    Reviewed By: kirwan
    
    Differential Revision: D4320577
    
    fbshipit-source-id: 7aefa581ae3d44782005d48c1de6c86a31f2aeb2

commit f638b69efbf018515690e8656b498e38cd850079
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Wed Dec 14 09:03:41 2016 -0800

    Remove deprecated setBackgrounds() method in drawee
    
    Reviewed By: massimocarli
    
    Differential Revision: D4326548
    
    fbshipit-source-id: 71ee9208aca8bea425d266e4fb582c6bcf38a720

commit f58cce35ebdd06a86976a29b7902865b56729809
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Wed Dec 14 08:58:00 2016 -0800

    Remove deprecated getTransform() util method
    
    Summary:
    For a while ScalingUtils.getTransform() has been deprecated and simply forwarded to the same method in the provided ScaleType.
    
    This removes the old method.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4326551
    
    fbshipit-source-id: 2891d945e295f82d52c7a2bb6bce83ea13ee973c

commit ddfa94cb114d73737a1b153d9cada58a6a4d7295
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Wed Dec 14 08:48:45 2016 -0800

    New sample images: adding created variations of sample images (JPEG)
    
    Summary: Created new sample pictures that can be used across our apps.
    
    Reviewed By: massimocarli
    
    Differential Revision: D4319864
    
    fbshipit-source-id: 180553c1b714cba45c54aa2057634de99d7d6bcd

commit 004c28981e6143effaa0d2bd57a4f1251640f7b6
Author: Massimo Carli <maxcarli@fb.com>
Date:   Wed Dec 14 08:46:55 2016 -0800

    Added package-info.java files for javadoc packages
    
    Summary: package-info.java created for public classes
    
    Reviewed By: kirwan
    
    Differential Revision: D4326520
    
    fbshipit-source-id: 0035f48bc088c7db66969771f4304976bbef3bdb

commit 58e7d28daf0f767683852ef30e079024665f0707
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Wed Dec 14 08:39:05 2016 -0800

    Remove experimental file descriptor config and related code
    
    Summary:
    We had an experimental config option to use file descriptors in certain scenarios.
    
    This was never graduated beyond an experiment and so we're now cleaning it up.
    
    Reviewed By: massimocarli
    
    Differential Revision: D4326585
    
    fbshipit-source-id: c9ef3c1f9003c6b12d0597e65b2b4a73f36e048c

commit 6d78e7376988c6af112dccb8b317154be6af32bf
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Wed Dec 14 08:27:22 2016 -0800

    Bump version to 1.0
    
    Reviewed By: massimocarli
    
    Differential Revision: D4326814
    
    fbshipit-source-id: ef2edbfb12e0acb84207b58295db64a378c2700b

commit 532340c5d096ab2d5bfa61ff1a2fd024c084aad3
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Wed Dec 14 08:20:57 2016 -0800

    Removed deprecated static getFileExtension()
    
    Summary: Removes the static getFileExtension() method which was already deprecated in favour of the instance method of the same name.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4326619
    
    fbshipit-source-id: fcafd62a2332b133ebf79591bb51d90445111b55

commit 761ae2d8e2ebaea52da40d0c8495a3f523dd5a34
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Wed Dec 14 08:03:29 2016 -0800

    Remove unused members/imports from ProducerFactory
    
    Reviewed By: massimocarli
    
    Differential Revision: D4326635
    
    fbshipit-source-id: 9b92a35a58153c50127432ffd745246c5b44f4eb

commit e80b1cbcbaa17294ffe5a79e4a3e8a7ea76b346a
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Wed Dec 14 08:00:16 2016 -0800

    Showcase app: Replace fragments instead of adding them
    
    Reviewed By: kirwan
    
    Differential Revision: D4326717
    
    fbshipit-source-id: b4f5c27748c7b6676b4d2a599c865fc2651a894f

commit e545f7e32bd0137ff2f0bad5c86085d7d9480b4c
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Wed Dec 14 07:10:50 2016 -0800

    Remove deprecated methods from ImagePipelineConfig
    
    Summary: Remove a number of deprecated methods from ImagePipelineConig, most of which had been moved to ImagePipelineExperiments and it's unlikely anyone was setting anyway.
    
    Reviewed By: massimocarli
    
    Differential Revision: D4326546
    
    fbshipit-source-id: 7eb04f1b2c9d9483a757fab52d1921ef02b20dce

commit 0e08c64a175a24c6599c4b4075a0c68086008227
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Wed Dec 14 07:10:42 2016 -0800

    Remove deprecated cache build/access methods
    
    Summary: Removes some deprecated methods which were available to get or build disk caches.
    
    Reviewed By: massimocarli
    
    Differential Revision: D4326600
    
    fbshipit-source-id: 3c359bccc66e2f6a5b069708d9d411c4161023a0

commit 647248dc1a9353dd7f8343b187e1dc332ca5dd33
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Wed Dec 14 07:08:33 2016 -0800

    Clean up DecodeFileDescriptorExperiment
    
    Reviewed By: massimocarli
    
    Differential Revision: D4326543
    
    fbshipit-source-id: abae9d8e1d2d4770ebe132605b6115339f968b57

commit 409c9027a1eb3d89309286f68f390a2ac8969c51
Author: Karim Frenn <pizza@users.noreply.github.com>
Date:   Wed Dec 14 04:02:36 2016 -0800

    Fixed tiny typo
    
    Summary:
    `Se below` -> `See below`
    Closes https://github.com/facebook/fresco/pull/1577
    
    Differential Revision: D4326405
    
    Pulled By: lambdapioneer
    
    fbshipit-source-id: 454bf8ae26a41e46e7c60e43aa95309b04957fe3

commit 5ae014e00f571980c661ad553a853755d2ed37ce
Author: Felix Oghina <foghina@fb.com>
Date:   Wed Dec 14 03:54:07 2016 -0800

    always use animated decoder for gifs
    
    Summary:
    Turns out the naive implementation in GifFormatChecker does not cover all cases. For example, this gif doesn't have the graphic control extension header for frames: {F65219848}. This makes us decode it as a static bitmap, showing only the first frame. After long and arduous conversations with oprisnik, we've reached the conclusion that the best thing to do is to simply always use the animated decoder (which correctly decodes the frames, in spite of the missing header).
    
    This has the drawback of making all GIFs skip memory cache. However, oprisnik's new animation framework should fix that.
    
    This has been raised here: https://github.com/facebook/fresco/issues/1524
    
    Reviewed By: kirwan
    
    Differential Revision: D4321492
    
    fbshipit-source-id: f680c7111d21f44a3901f00749298f0c30b3153d

commit 5f556e1aa5f74d137c6dcb563a46179532a7f6bf
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Wed Dec 14 03:45:21 2016 -0800

    Hide docs from internal indexing
    
    Reviewed By: oprisnik
    
    Differential Revision: D4326406
    
    fbshipit-source-id: 2ae9e3491e23e7d60c49d29314681e5fa653f855

commit afdf1925160c774b3f3f9204bc6a69a9a2c4dca4
Author: sailaway <519436279@qq.com>
Date:   Wed Dec 14 02:44:04 2016 -0800

    fix loading local file fail with special character
    
    Summary:
    fix loading local file fail with special character such as "file:///storage/sdcard/QQ??20168898.jpg"
    Closes https://github.com/facebook/fresco/pull/1030
    
    Reviewed By: oprisnik
    
    Differential Revision: D3334641
    
    Pulled By: kirwan
    
    fbshipit-source-id: 6c6528b18a420d8c43e5be834da7965dff48641e

commit a3ab88cb90278225b1ff2d6faa7b8b28711f7d41
Author: Massimo Carli <maxcarli@fb.com>
Date:   Tue Dec 13 14:55:42 2016 -0800

    Duplicated parameter removed
    
    Summary: Removed a parameter which was a duplicate
    
    Reviewed By: kirwan
    
    Differential Revision: D4320033
    
    fbshipit-source-id: b018a682b0238651aa66232e1d58d25ffe09fbfa

commit caa59e33a9a9a1a7caf3440ca181f6f4b89d5137
Author: Massimo Carli <maxcarli@fb.com>
Date:   Tue Dec 13 14:32:42 2016 -0800

    allclean task moved to common file
    
    Summary: allclean task move to common file
    
    Reviewed By: kirwan
    
    Differential Revision: D4320009
    
    fbshipit-source-id: 6cb79743a28e8edf4b4db79cb598b4cb56250ccf

commit 5c9a89e57d85f0428c417b0c3f34ff876ba33c16
Author: Massimo Carli <maxcarli@fb.com>
Date:   Tue Dec 13 13:44:42 2016 -0800

    NdkBuild function moved
    
    Summary: ndkBuild function moved to common file
    
    Reviewed By: kirwan
    
    Differential Revision: D4319965
    
    fbshipit-source-id: 3f6c6f395ecec5ef9cc802e17929ca75a53bb7c1

commit 762e5a0a4963bf3ab67a91c17049018480665c22
Author: Massimo Carli <maxcarli@fb.com>
Date:   Tue Dec 13 13:09:27 2016 -0800

    Create single method for tasks creation
    
    Reviewed By: kirwan
    
    Differential Revision: D4319911
    
    fbshipit-source-id: a29d932f49a0f3fc29bcf331edba2f11754d3d7c

commit 56a30cd0abca83cb87808a94f80cd0540afcf636
Author: Felix Oghina <foghina@fb.com>
Date:   Tue Dec 13 13:02:30 2016 -0800

    respect ImageRequest#maxBitmapSize in DownsampleUtil#determineSampleSize
    
    Reviewed By: massimocarli
    
    Differential Revision: D4319669
    
    fbshipit-source-id: 8c590eed0e9adb96fe11b06983867e51cfe43b74

commit b538a53ff07f3e3ab4b2a7affe0a95ff7791fb66
Author: Massimo Carli <maxcarli@fb.com>
Date:   Tue Dec 13 12:44:38 2016 -0800

    WebP library download moved
    
    Summary: WebP library download moved
    
    Reviewed By: kirwan
    
    Differential Revision: D4319713
    
    fbshipit-source-id: fbdd3991541b3a7432c4f3b637f922a0d5b9b2c5

commit 190b1c34466683514cb59ab40504d1d812141e56
Author: Massimo Carli <maxcarli@fb.com>
Date:   Tue Dec 13 12:26:24 2016 -0800

    Moved gif download to common file
    
    Summary: Gif download moved to common file
    
    Reviewed By: kirwan
    
    Differential Revision: D4319702
    
    fbshipit-source-id: c8c55e65ceb07a031e5fa96d0e1081a838635f2c

commit 5f8bf3ea5c42f44933dcb397de6915c38d380688
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Tue Dec 13 09:36:31 2016 -0800

    Remove references in docs to gh-pages
    
    Summary: Now that the docs have moved, this removes all references to the `gh-pages` branch.
    
    Reviewed By: oprisnik
    
    Differential Revision: D4320080
    
    fbshipit-source-id: 947906083e9e6636a8a39895ae00e94f9a209dda

commit ad4a9bd9ecd27ff383757003f7ff2cf143f17675
Author: Massimo Carli <maxcarli@fb.com>
Date:   Tue Dec 13 09:20:37 2016 -0800

    Moved png library download and build to common file
    
    Summary: Moved png library download and build to common file
    
    Reviewed By: kirwan
    
    Differential Revision: D4319546
    
    fbshipit-source-id: f298456b3b17a9a08709d86cbee7e4e97647ea3f

commit b78e04899acb726c9f51c6f896500f4de19cf8b5
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Tue Dec 13 06:42:45 2016 -0800

    Showcase: Added simple Drawee example
    
    Summary: This adds a `SimpleDraweeView` and displays an image using Java.
    
    Reviewed By: kirwan
    
    Differential Revision: D4314000
    
    fbshipit-source-id: d9de72755fed1cb8e38402c2beb950100fa6544a

commit d5fec0ecf47328d549aa3642fb08ba5eba04d3cc
Author: Massimo Carli <maxcarli@fb.com>
Date:   Tue Dec 13 05:38:57 2016 -0800

    Removed Lint errors from MediaVariation sample app
    
    Summary: Removed Lint errors from MediaVariation sample app
    
    Reviewed By: kirwan
    
    Differential Revision: D4313435
    
    fbshipit-source-id: 42020d2573b76387c8a965e12bbab5db90f08b79

commit 88e639f36adbb59fb81ad179e47c6c6f4b01ef4f
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Tue Dec 13 05:04:28 2016 -0800

    Remove Edit on GitHub links from docs
    
    Summary: As the docs will now be stored in the master branch, the existing edit links pointed to the wrong place.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4319545
    
    fbshipit-source-id: aba9545f89c7732c356cb45add579f5617b53b54

commit 97b40fa67440f6ce68a5ea597d22ac590e80311d
Author: Massimo Carli <maxcarli@fb.com>
Date:   Tue Dec 13 04:14:38 2016 -0800

    Moved libjpeg-turbo integration into common file
    
    Summary: Moved the download/unzipping and copying management for libjpeg-turbo library into common file
    
    Reviewed By: kirwan
    
    Differential Revision: D4313400
    
    fbshipit-source-id: 43d758066ff16c553074577bfbb6a12261e4584d

commit 9e251da518523a8bb760e7b3a77f73a5a71a9b6a
Author: Felix Oghina <foghina@fb.com>
Date:   Tue Dec 13 03:33:11 2016 -0800

    bump android gradle plugin version to latest
    
    Reviewed By: massimocarli
    
    Differential Revision: D4319479
    
    fbshipit-source-id: 75c6042e25ed5e7a15a8dc783698e7588de78d1b

commit d225091f5ed05c2e90e9b9b1b76275b0cc9d8f24
Author: Massimo Carli <maxcarli@fb.com>
Date:   Tue Dec 13 02:58:22 2016 -0800

    Build folder creation moved to common gradle file
    
    Summary: Moved the creation of the download and build folders to common gradle file
    
    Reviewed By: kirwan
    
    Differential Revision: D4313093
    
    fbshipit-source-id: 2e72a2df196c8e739e1a9a249716b53208df88b6

commit 8f9f89ce48c105e03dab358d307d66af24e41ec8
Author: Massimo Carli <maxcarli@fb.com>
Date:   Tue Dec 13 02:31:06 2016 -0800

    Ndk.dir management moved to common file
    
    Summary: Created common file for gradle and moved method for building in Android Studio
    
    Reviewed By: kirwan
    
    Differential Revision: D4313073
    
    fbshipit-source-id: 3de81b30ce94134c655472515a360bcd9efd617a

commit faaa2aeb2d3425c0da1e36c08d722ddf1df00233
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Mon Dec 12 11:34:56 2016 -0800

    Copy gh-pages to master
    
    Summary: This is a simple copy of the gh-pages branch into the docs folder of master, so that we can switch the source of the docs to be that folder.
    
    Reviewed By: oprisnik
    
    Differential Revision: D4313706
    
    fbshipit-source-id: dacd3eff9b7f9028cd341fbe9b7a59e9fb28ddc9

commit 9f0307aac6f5f539f5500996a4c68b5be8d4b5a5
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Mon Dec 12 11:34:54 2016 -0800

    Create folder to move docs from gh-pages branch
    
    Summary: Creates a folder with a readme file for the docs file, ahead of copying the current contents of the gh-pages branch and switching the source of our docs.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4313565
    
    fbshipit-source-id: d5e07d58e3ef449008204bf0a1effe06b87a50f6

commit ddc32ae72fa99e6f9db240d3f665e37e6eaf744d
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Mon Dec 12 10:16:07 2016 -0800

    Showcase: Added Application and init Fresco
    
    Summary: Init Fresco for the showcase app.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4313492
    
    fbshipit-source-id: c583578b708ae1f7fae08ae9e61e2ba3b1e1c643

commit 04a29969bafb86ec73d949d558eaa61d650827f6
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Mon Dec 12 10:11:05 2016 -0800

    Fix CloseableStaticBitmap dimensions for images to be rotated
    
    Summary:
    Swaps the width/height in CloseableStaticBitmap is the image should be rotated so that they match the size as the image is seen rather than as the bitmap data is stored.
    
    This fixes #1536.
    
    Reviewed By: oprisnik
    
    Differential Revision: D4313347
    
    fbshipit-source-id: 71f8f9171f1939375009c06810c6d296c0e169c6

commit 5a2d5cf41d51c91916f013c93f3a655a6f76f79f
Author: Massimo Carli <maxcarli@fb.com>
Date:   Mon Dec 12 09:26:40 2016 -0800

    Added SuppressLint for Range
    
    Summary: Added SuppressLint for alpha values
    
    Reviewed By: oprisnik
    
    Differential Revision: D4313060
    
    fbshipit-source-id: d49a52135cda2bbfe44e9370ed2d51d33f7b3f67

commit d187230ed43869e8d2ea68fdae1aa878f1f144aa
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Mon Dec 12 09:22:20 2016 -0800

    Added Showcase sample app
    
    Summary: Added a new sample app that currently only displays "Hello World!" and has a navigation drawer.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4313195
    
    fbshipit-source-id: b1536ae4ec6ece9c28db4be5edbac692fe67240f

commit d9dbcaa08d46e850fc95e9ea3dd7239f69131c3b
Author: Felix Oghina <foghina@fb.com>
Date:   Mon Dec 12 08:58:28 2016 -0800

    Fix CircleCI build
    
    Summary: Closes https://github.com/facebook/fresco/pull/1574
    
    Reviewed By: oprisnik
    
    Differential Revision: D4313333
    
    Pulled By: kirwan
    
    fbshipit-source-id: e40b263317c1d4fcc02ab829b3bbc648f59b09f0

commit 73aeef3e14a863fb9ff86a00aec3e4e14831ae39
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Mon Dec 12 07:44:53 2016 -0800

    Make support lib dependency provided
    
    Summary:
    In order to avoid collisions between the version of the support library currently used in Fresco and those in client apps/libraries the dependency is now marked as provided.
    
    This requires that consumers of Fresco must now explicitly depend on the support library too.
    
    Reviewed By: massimocarli
    
    Differential Revision: D4313101
    
    fbshipit-source-id: 3215707927805db6b7fe836222cb174909458e05

commit 5cd57d7d70eb6cfdd5b8709ed24827fa3ee68a27
Author: Gregory Hassett <greg@bulldogtechnologies.com>
Date:   Mon Dec 12 05:24:18 2016 -0800

    Expose access to GIF's transparent's pixel
    
    Summary:
    This is to address issue #1567, by allowing the consumer of this library to access the transparent color of a GIF image.
    Closes https://github.com/facebook/fresco/pull/1573
    
    Reviewed By: kirwan
    
    Differential Revision: D4306125
    
    Pulled By: oprisnik
    
    fbshipit-source-id: ca5e53ae4ccbd3c0f99576056d95b3a167a97d5f

commit b66866d01df15a7d5186595f0fc4fa45eb8aea45
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Fri Dec 9 11:20:28 2016 -0800

    Log error for external storage directory exceptions in DefaultDiskStorage
    
    Summary: If an exception occurs when accessing the external storage directory, we log the error and return the default value instead of crashing.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4305952
    
    fbshipit-source-id: 056b764777708ff06b4a33442e6fd4f7de9df389

commit e9e9360daf0a2e3de55b5c131199b36950111c47
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Thu Dec 8 10:48:29 2016 -0800

    Add unit tests for debug overlay behaviour with regard to scale types
    
    Summary: This adds additional unit tests for the calculations in `DebugControllerOverlayDrawable`.
    
    Reviewed By: kirwan
    
    Differential Revision: D4292529
    
    fbshipit-source-id: 58aec056d41067ee076f79c4ffd33dc8a15adb68

commit cf9037709247f2843b7a6a630ba2baa3f4b7e17a
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Thu Dec 8 10:48:26 2016 -0800

    Make the debug overlay correctly handle scale types
    
    Summary: : After the diff, the debug overlay correctly accounts for the scale type set. Before, the debug overlay would, for instance, complain about 100x100 images that are centered in a 1000x100 Drawee.
    
    Reviewed By: oprisnik
    
    Differential Revision: D4292504
    
    fbshipit-source-id: eb51d4de19f07062e1b8eb273b2b1b41a986b87a

commit 07dd2996943b5b0e9e0151ff83e42fdbd7db1dba
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Thu Dec 8 08:46:41 2016 -0800

    Added BitmapAnimationBackend to sample app
    
    Summary: This adds a simple bitmap animation backend sample that just renders a color and a frame number as a bitmap
    
    Reviewed By: kirwan
    
    Differential Revision: D4239885
    
    fbshipit-source-id: af671a034327ea691229466a644402dcdf502049

commit 8c7ffe40ab6c07d75d3aca3c6a44f38720d1eee7
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Thu Dec 8 08:46:40 2016 -0800

    Fixed wrong intrinsic dimension when bounds and renderer dimensions unset
    
    Summary:
    The intrinsic dimensions should be UNSET instead of 0 when no bounds are set.
    If they are 0, the image does not show up immediately when it's used with an `ImageView` (see sample app).
    
    Reviewed By: kirwan
    
    Differential Revision: D4299198
    
    fbshipit-source-id: 7ea0c894bc10b3c5012ead7d6041baaa52c8d375

commit 466f6e8f3b229b38589c8a1031b0b5d4efb248c6
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Wed Dec 7 15:08:51 2016 -0800

    Animations v2 sample: initialize Fresco
    
    Summary: We need to initialize Fresco for upcoming samples.
    
    Reviewed By: kirwan
    
    Differential Revision: D4291747
    
    fbshipit-source-id: c52b93135173e43e0df249d6b799a22f70cb8408

commit cc872eb3a5457ff6b7b6ceec4d69749002190dd6
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Wed Dec 7 15:08:50 2016 -0800

    Animations2 sample app: Added fragment for the simple color example
    
    Summary: This converts the color sample to a Fragment so that we can have multiple examples as fragments.
    
    Reviewed By: kirwan
    
    Differential Revision: D4291727
    
    fbshipit-source-id: f184bc51986986e6b42a6e8582a6112c208d75be

commit c9051eaa58d879f86ae591dd11cb32a17e43efe9
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Wed Dec 7 15:08:47 2016 -0800

    Added AnimationBackendUtils for sample apps
    
    Summary:
    `AnimationBackendUtils` currently allows to wrap a backend with an inactivity check that displays a toast.
    This will be used by several examples so that you know what's going on.
    
    Reviewed By: massimocarli
    
    Differential Revision: D4291633
    
    fbshipit-source-id: d8340a64c6760125389b9c8050e0ad4acf15f9f5

commit 693747603573c983f093e4e79d63068f3311af0c
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Wed Dec 7 12:34:52 2016 -0800

    Add toString method for scaling types
    
    Summary: : Adds `toString` implementations for the different scale types in order to ease debugging.
    
    Reviewed By: oprisnik
    
    Differential Revision: D4292477
    
    fbshipit-source-id: b5756d84901828ebc03f8fa0303a2b1c0c46e703

commit 244ebc9d37b16b66497833fb1257f4836066a2c0
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Wed Dec 7 11:30:16 2016 -0800

    Animations v2: Fixed incorrect bitmap height calculation and added tests
    
    Summary: The wrong dimension is used for height computations. We should use the renderer height instead of the width.
    
    Reviewed By: kirwan
    
    Differential Revision: D4292545
    
    fbshipit-source-id: 3caa196fca3b38600ba4f791e16aa6447a856081

commit 2949d54de7c2f8f4f640b6d77e7cd1ab68414363
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Wed Dec 7 08:40:02 2016 -0800

    Update gradle-download-task version
    
    Summary: CircleCI is failing sometimes trying to download libjpg. The new `gradle-download-task` version includes some bugfixes.
    
    Reviewed By: kirwan
    
    Differential Revision: D4291940
    
    fbshipit-source-id: 31b1605b4cf6b26ea99d0981e22c929d12b9f336

commit 782921752df55522de38980ee3f737404af43d7f
Author: Massimo Carli <maxcarli@fb.com>
Date:   Wed Dec 7 02:47:22 2016 -0800

    Added bg to scroll perf app
    
    Summary:
    Added settings for bgcolor in order to better detect transparent images
    
    {F65154895}
    {F65154896}
    {F65154897}
    {F65154899}
    
    Reviewed By: kirwan
    
    Differential Revision: D4284408
    
    fbshipit-source-id: 7bb1611eb4782da4f24407e2cb2b09260c8b1a79

commit 4581dfc79f829d93d1fed8c8330117faddba7528
Author: Felix Oghina <foghina@fb.com>
Date:   Mon Dec 5 11:13:48 2016 -0800

    hack soft errors for unclosed references so they are useful
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4251158
    
    fbshipit-source-id: 856f62f92c13c5fffdc9c4957e2740bc98415f00

commit a8bef8190a2379a32930316bedef1ca66ce7926c
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Fri Dec 2 11:05:07 2016 -0800

    Use cached frames for image compositing if needed
    
    Summary: This change adds the bitmap frame cache to the frame compositing renderer
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4260430
    
    fbshipit-source-id: 4c2977a8ed814267d03fc0960c86f9088b3c35a6

commit 0a978ef1939600298db5d14448fde16990bc1376
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Fri Dec 2 07:23:55 2016 -0800

    Added keep last frame cache example
    
    Summary: This adds a cache that just keeps the last rendered frame.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4259112
    
    fbshipit-source-id: 6fa787b46e664c1ded9def599b80e643c7660d41

commit f6ecc72c0bbf9d9f104df56ff8c4c6b9ab155c06
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Fri Dec 2 07:23:54 2016 -0800

    Add options to enable / disable bitmap reusing
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4258354
    
    fbshipit-source-id: 1a4a944167e1cf571267a82a99b262889c6eb14b

commit 3e1fde1e320cb44c39e6a4ac227109cc95f7f7bb
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Fri Dec 2 07:23:52 2016 -0800

    Added FrescoFrameCache that uses AnimatedFrameCache for caching
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4253471
    
    fbshipit-source-id: 1cce88e96e5d8092e911127edac321f1aa517e93

commit 742b1c6a96b45747f8bd1f277c3ac8186fa66e17
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Fri Dec 2 06:56:18 2016 -0800

    Provide Drawee debug overlay parameter using Supplier<Boolean>
    
    Summary: Allows enabling the Debug overlay after initialization of Fresco. With this change, one can toggle this option while the app is running and is not dependent on a restart/
    
    Reviewed By: massimocarli
    
    Differential Revision: D4258822
    
    fbshipit-source-id: 9a17b14bcd44633495377d0187a88f2dc164a7ab

commit bf0e2f15038a6cba4b913b66db93f26169c85a24
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Fri Dec 2 05:41:43 2016 -0800

    Create new convenience method to add MediaVariations with just an ID
    
    Summary: This creates a convenience method for adding MediaVariations to an ImageRequestBuilder with just an ID.
    
    Reviewed By: massimocarli
    
    Differential Revision: D4265191
    
    fbshipit-source-id: 85b6f2e4c3989fed43dd1ad716190bd5cb12a998

commit 4f9178100fd1ff84d8ef75103f763e1a88e364ae
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Fri Dec 2 05:13:14 2016 -0800

    Enable frame compositing for AnimatedDrawableBackendFrameRenderer & Tests
    
    Summary:
    `AnimatedDrawableBackendFrameRenderer` now uses compositing to render the correct frame, not only differential updates.
    We don't yet cache intermediate bitmaps, but I'll add a setting for that in the future.
    
    Reviewed By: massimocarli
    
    Differential Revision: D4258536
    
    fbshipit-source-id: b1fcbbfb8013b0b9c28632685cfb86d0dbb25e9d

commit ba5012e9b9aeffcf7a845f69cf2cc0bbc24e1110
Author: Massimo Carli <maxcarli@fb.com>
Date:   Fri Dec 2 04:47:24 2016 -0800

    Added more information about ratio during resize
    
    Summary: Added more information about resize
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4258332
    
    fbshipit-source-id: 80e4105483433bb6841813c3d9f9260c5ae5b369

commit 52f68413c8a307e5390d8d0e82f149adeb59ca46
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Fri Dec 2 04:28:41 2016 -0800

    Fixed wrong Bitmap size (in bytes) computation for < Honeycomb
    
    Summary:
    We used `getWidth()` instead of `getHeight()` for size calculations < Honeycomb.
    
    Now, we're doing the same calculations as AOSP for >= Honeycomb, see https://android.googlesource.com/platform/frameworks/base/+/refs/heads/master/graphics/java/android/graphics/Bitmap.java#1258
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4265201
    
    fbshipit-source-id: 93ab22e81acc8bbc3c4d023bc23d129a8ae276ab

commit 5975e28446c693ea460c94883c9c00a6bcd9c4c0
Author: Hee Jung <heeheeheejung@fb.com>
Date:   Thu Dec 1 18:44:40 2016 -0800

    add free disk space percentage info
    
    Differential Revision: D4260063
    
    fbshipit-source-id: 7ac97a9429837ad8ea6648bd13106cfc01e2d9fc

commit 3d2547660c1d6401975356d97e1004f1d5d94165
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Thu Dec 1 07:16:02 2016 -0800

    Fixed frame duration for AnimatedDrawableBackendAnimationInformation and added tests
    
    Summary: Fixed wrong frame durations for `AnimatedDrawableBackendAnimationInformation`
    
    Reviewed By: massimocarli
    
    Differential Revision: D4258279
    
    fbshipit-source-id: a3b6faa60e80710833be391773d95c3461b280e2

commit fc393f739d08f38dd16ef9c2c05f9c1a9d0087dd
Author: Massimo Carli <maxcarli@fb.com>
Date:   Thu Dec 1 06:53:40 2016 -0800

    Use Downsampling ratio in Software resize
    
    Summary: Add experiment config for different ratio in resizing algorithms
    
    Reviewed By: kirwan
    
    Differential Revision: D4244465
    
    fbshipit-source-id: 73212848030bf1fb717f36832edd60bfdff3f415

commit 8388abcc94c0dccbb193bd5b4c9492db25a4bc22
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Thu Dec 1 06:53:06 2016 -0800

    Added ExperimentalBitmapAnimationDrawableFactory
    
    Summary: We also need a `DrawableFactory` for `AnimatedDrawable2` powered by `BitmapAnimationBackend`s.
    
    Reviewed By: kirwan
    
    Differential Revision: D4251200
    
    fbshipit-source-id: 1dcab23a1c210bc25860d86cbce6b9ad799daeea

commit 651ab379ccf3a57f76b907b20a9ed8a4a7c3f946
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Wed Nov 30 18:05:24 2016 -0800

    Added AnimatedDrawableBackendFrameRenderer
    
    Summary:
    In order to use the new `BitmapAnimationBackend` for Fresco, we need a `BitmapFrameRenderer`.
    This does not support frame compositing yet, so frames will not be blended together.
    
    Reviewed By: kirwan
    
    Differential Revision: D4251156
    
    fbshipit-source-id: 6ffd831fed1929fb97c1c763bc10caa1e4f31f64

commit f854bf5c44938c52e9529183ca8c8f7befadfce7
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Wed Nov 30 14:16:26 2016 -0800

    Added AnimatedDrawableBackendAnimationInformation
    
    Summary: We want to use an `AnimatedDrawableBackend` with the new `BitmapAnimationBackend`. Hence, we need the `AnimationInformation`.
    
    Reviewed By: kirwan
    
    Differential Revision: D4251084
    
    fbshipit-source-id: e31fa90ead586deaeb5a276cc2648cc7a67ab8b0

commit a95bd75db6a7a6a3e8ba576bfcb643ec77727f40
Author: Massimo Carli <maxcarli@fb.com>
Date:   Wed Nov 30 05:10:34 2016 -0800

    Restored decoding thread configuration
    
    Summary: Option for decoding thread restored
    
    Reviewed By: oprisnik
    
    Differential Revision: D4250788
    
    fbshipit-source-id: 012bcb108927210ece0bbc453e8bcf0f0df1af17

commit 49111ae34c629d31b712b048d9b0f3a6bf775cef
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Tue Nov 29 18:11:57 2016 -0800

    Added no-op cache
    
    Summary: Added a no-op cache that does not do any caching.
    
    Reviewed By: kirwan
    
    Differential Revision: D4239555
    
    fbshipit-source-id: 56f99402a2ceb9d6a1163b60c2fda2f0ae4f2eb5

commit a3885d5bdcb1303c1e6db0519f91a1f83b560e96
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Tue Nov 29 10:29:11 2016 -0800

    Added BitmapAnimationBackend for animations v2
    
    Summary:
    The `BitmapAnimationBackend` glues all parts together.
    The following logic is applied when a new frame should be drawn:
    
    * Check if the frame is cached by the `BitmapFrameCache` and just draw it if this is the case.
    * Check if the `BitmapFrameCache` has an existing free bitmap that can be used to render the current frame. If we have one, render the new frame using `BitmapFrameRenderer` and draw it.
    * Create a new bitmap using the `PlatformBitmapFactory`, render the frame using `BitmapFrameRenderer` and draw it.
    * Check if the `BitmapFrameCache` has a fallback frame (e.g. the last drawn frame) and draw it.
    * Don't draw anything.
    
    Reviewed By: massimocarli
    
    Differential Revision: D4238112
    
    fbshipit-source-id: f39325d4c9ef1466e3857d6d30aea7eeeb95ab47

commit 610eead0af47673d9f9176a9daec30641de3fc57
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Tue Nov 29 07:06:43 2016 -0800

    Added BitmapFrameRenderer
    
    Summary: The `BitmapFrameRenderer` will be used by the bitmap animation backend to render animation frames on a given bitmap.
    
    Reviewed By: kirwan
    
    Differential Revision: D4239278
    
    fbshipit-source-id: 75757ad64e0cad0e55b2dd3263661ff54b04e8a3

commit 937b6facd1f9c2dcf6b490bc6c0e54984eed372c
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Tue Nov 29 06:19:52 2016 -0800

    Added BitmapFrameCache
    
    Summary:
    The `BitmapFrameCache` will be used by a `BitmapAnimationBackend` to cache frames.
    There can be various different frame caches, from a no-op cache to a smart cache that uses Fresco's bitmap cache and does prefetching.
    
    Reviewed By: kirwan
    
    Differential Revision: D4239259
    
    fbshipit-source-id: dace6f4c32f08f7f645fd248b5a9c906f6b0a9d4

commit 17daedffe320d1b5660c36038801051e04700c2b
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Tue Nov 29 03:51:04 2016 -0800

    Added AnimationInformation interface for more granular scoping
    
    Summary: `AnimationInformation`, like frame count & duration and loop count should be a separate interface.
    
    Reviewed By: kirwan
    
    Differential Revision: D4237590
    
    fbshipit-source-id: 22043176a34a8a6634b75e1ebfc49b3b29471237

commit d2e247e7cf9b2ab23e0b77ca957531073ae176cd
Author: Massimo Carli <maxcarli@fb.com>
Date:   Tue Nov 29 03:20:29 2016 -0800

    Added Builder in Config for Scroll Perf Application
    
    Reviewed By: kirwan
    
    Differential Revision: D4238420
    
    fbshipit-source-id: f231c6210d3f256123b758ca317928a2daa7a541

commit 79be5f98d09ebdeebc765f0abd94101c7f854eee
Author: Felix Oghina <foghina@fb.com>
Date:   Mon Nov 28 11:26:56 2016 -0800

    remove count logging
    
    Reviewed By: oprisnik, kirwan
    
    Differential Revision: D4238034
    
    fbshipit-source-id: 29a023d4ed52299b51430b9f90c072a4db6d1efa

commit f0fc94c2f5ea7a0e0deee861c9958471e4f2a7ff
Author: Felix Oghina <foghina@fb.com>
Date:   Mon Nov 28 09:35:12 2016 -0800

    better tag and message for soft errors
    
    Reviewed By: kirwan
    
    Differential Revision: D4237882
    
    fbshipit-source-id: 9f23bcdc372595ff699ae9590c5caaa1faa0428d

commit 80a183263f309d898ddbd1b65bc5ba0aaa2c035e
Author: Massimo Carli <maxcarli@fb.com>
Date:   Mon Nov 28 03:46:07 2016 -0800

    Added Instrumentation classes
    
    Summary:
    Added instrumentation option to settings
    {F65033530}
    
    {F65033532}
    
    Reviewed By: kirwan
    
    Differential Revision: D4198372
    
    fbshipit-source-id: 08368fc2b05077451b1716d8c43ebd0affa4e576

commit cf1064cdc815c373f2f58248204712631665c2b9
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Fri Nov 25 13:39:04 2016 -0800

    Create static, validating constructors for ResizeOptions
    
    Summary:
    Create new static constructors for ResizeOptions which will return null if given an invalid input.
    
    This is more forgiving than the existing constructor and more convenient as the build chain can be continued without the need to have a separate if block to check the values.
    
    Reviewed By: oprisnik
    
    Differential Revision: D4233379
    
    fbshipit-source-id: 9275bd326347ec4a86e4a44903e1d7219c5042cb

commit 61384b29e170ab15e19efe302cbf4e5289e776a8
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Fri Nov 25 11:53:13 2016 -0800

    Fix AnimatedDrawable2 frame scheduling
    
    Summary: Frame scheduling delays were not set correctly (differential instead of absolute values).
    
    Reviewed By: kirwan
    
    Differential Revision: D4227178
    
    fbshipit-source-id: 0e9a1c11ea06c2bd4e016159ac2b8642706e353b

commit 897df424a37702d905253eec251d9c0da60b6fa8
Author: Massimo Carli <maxcarli@fb.com>
Date:   Fri Nov 25 05:24:52 2016 -0800

    Unused constant removed
    
    Summary: Unused constant removed
    
    Reviewed By: kirwan
    
    Differential Revision: D4232784
    
    fbshipit-source-id: 8616b5b371a29e25cb61951c3a4cd6d3f420c520

commit 9975014052f97afefb1b284f857d2bfdca90906d
Author: Massimo Carli <maxcarli@fb.com>
Date:   Fri Nov 25 03:13:34 2016 -0800

    Added DebugOverlay options in Scroll Perf Demo App
    
    Summary:
    Added the option in order to display drawee debug overlay
    {F65032952}
    {F65032950}
    {F65032951}
    
    Reviewed By: oprisnik
    
    Differential Revision: D4232764
    
    fbshipit-source-id: 3d2699f70804a2cc83c078db26e533bd915c041d

commit b64909ce9d520400c8d70fd95bbdabdf68e809e0
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Fri Nov 25 03:03:56 2016 -0800

    Include MediaVariations when duplicating a request
    
    Summary: When creating an image request from another, it's obviously important that all values are copied. This adds the MediaVariations member to that duplication.
    
    Reviewed By: oprisnik
    
    Differential Revision: D4231990
    
    fbshipit-source-id: 2cd47111a579f75115d9ae2f54e8c685fa39e675

commit 5e4a1bad427d5264abd31801405005e63e957a84
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Thu Nov 24 10:41:55 2016 -0800

    Return null MediaVariations for empty ID
    
    Summary: This ensures that as well as a null media ID resulting in a null MediaVariations instance, an empty String gets the same.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4231800
    
    fbshipit-source-id: 4f0ccddd0c123f472e12ca88a418dd0d17933aea

commit f75379bf27f0545f917e2647540b69b6e35bdb63
Author: Massimo Carli <maxcarli@fb.com>
Date:   Wed Nov 23 09:29:56 2016 -0800

    Removed throttling thread option from Scroll Perf sample app
    
    Summary: Options about throttling thread number removed from the sample app
    
    Reviewed By: oprisnik
    
    Differential Revision: D4226318
    
    fbshipit-source-id: 1b777e5d0bdce9d8ec429738bf0f1b155cf349c6

commit 0c36a3e8c06f1952c81dd48cedab2b0bf5897cc1
Author: Massimo Carli <maxcarli@fb.com>
Date:   Wed Nov 23 07:40:33 2016 -0800

    Throttling code experiment removed
    
    Summary: Removed the option to set the number of throttling thread
    
    Reviewed By: kirwan
    
    Differential Revision: D4226292
    
    fbshipit-source-id: 9a6c4b07f476dcdc7fd6235601ba09a65bc44496

commit d19956928a352b3d081c8b29c288c9da17b62eda
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Wed Nov 23 07:01:28 2016 -0800

    AnimatedDrawable2 implements DrawableWithCaches and forwards calls to the backend
    
    Summary: `AnimatedDrawable2` should implement `DrawableWithCaches` so that `PipelineDraweeController` can properly clear the caches when the drawable is released in `releaseDrawable`.
    
    Reviewed By: kirwan
    
    Differential Revision: D4226383
    
    fbshipit-source-id: 041eea998e455b5d1799e91ae741acfaf90a50ba

commit 2d82c6c185e84a98e29f498c5dfb27b3f3f10eba
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Wed Nov 23 07:01:27 2016 -0800

    Added dropCache to AnimationBackend
    
    Summary: The `AnimationBackend` now has a `dropCache()` method that will be called by the `DraweeController` if necessary.
    
    Reviewed By: kirwan
    
    Differential Revision: D4226378
    
    fbshipit-source-id: 23f21d181255e7f55f70f1e57def74aadfaf7197

commit 8f68fd9422b2d9e80e4ae559100c9c59b2e9e21a
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Wed Nov 23 03:02:36 2016 -0800

    Fixed DropFramesFrameSchedulerTest
    
    Summary: The `DummyAnimationBackend` did not implement the new intrinsic width / height interface.
    
    Reviewed By: massimocarli
    
    Differential Revision: D4222002
    
    fbshipit-source-id: f60ffec360da2c183ff81fa5c60846cc2168d928

commit ece5c342a5f5bf930b9456092385f3cf7f1675b5
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Tue Nov 22 13:02:41 2016 -0800

    Animations: Don't clone the bitmap reference
    
    Reviewed By: kirwan
    
    Differential Revision: D4221748
    
    fbshipit-source-id: 1848a12010e77090f6e91abbaa23d40e92d3bd63

commit 31ec4c2b5ca6db0b3889fb0cc0669d425ffdbb98
Author: Abhishek Choudhary <abhishekch@fb.com>
Date:   Tue Nov 22 10:02:11 2016 -0800

    Replace Fresco Image Not Valid exception with a no stack trace exception
    
    Summary: Replace Image Not Valid NullPointerException with a no stack trace exception to make it more performant.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4212385
    
    fbshipit-source-id: 97ace02f0093e77597589b4c7380f7930a6a3a14

commit 0b7d08747355575adbbdc7a8c79005dcbeaea0b5
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Mon Nov 21 12:57:22 2016 -0800

    Replace Messenger use of AnimatableDrawable with helper method
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4213161
    
    fbshipit-source-id: d2a4c18a208d5500d2d3e3ad06e0a99bbc41da2f

commit 93b6564f6e4ae96d179251830c8c37aa28008a56
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Mon Nov 21 11:18:22 2016 -0800

    Expose width and height of animation backend for correct scaling
    
    Summary:
    This change exposes the width and height of the underlying animation so that the drawable's intrinsic dimensions can be set accordingly.
    This is needed for correct aspect ratio preservation.
    
    Reviewed By: kirwan
    
    Differential Revision: D4213629
    
    fbshipit-source-id: 70b07490029bb55d3b170e2a1e4d9cd5f3cce1fe

commit bba7be57bee93c0a9cfe0dad515a5e5a8d0a5312
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Mon Nov 21 10:29:12 2016 -0800

    Added helper class to create ValueAnimators for AnimatedDrawable2 and the old implementation
    
    Summary:
    The helper class can be used to create `ValueAnimator`s for different animated drawables.
    These animators can be used to control the underlying animation.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4213155
    
    fbshipit-source-id: e2e04397fbcebf19c7cdac12da05b221d7d066bd

commit 6d384ac99f2745a1fc6c67d82dd7c08c042f9120
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Mon Nov 21 07:43:55 2016 -0800

    Fixed DropFramesFrameScheduler loop count calculations
    
    Summary: The loop count was off by 1.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4212917
    
    fbshipit-source-id: a49727fb86ef264ba6e967b8486ae8f571562960

commit 46fc86ffb53e501d1163c9ff89c8a441cfd4cd23
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Mon Nov 21 04:59:33 2016 -0800

    Allow level changes for animations2
    
    Summary: This change makes it possible to call `animatedDrawable2.setLevel(animationTimeMs)` to scroll through the animation.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4212752
    
    fbshipit-source-id: 54ac764837901f14922212ba6aed2fa88ed0b6a5

commit 7b8ceef0c71c8bc3f5476e8860fe038fbe650eac
Author: Massimo Carli <maxcarli@fb.com>
Date:   Fri Nov 18 11:08:30 2016 -0800

    Added more log messages for Webp direct decoder
    
    Summary: Added log messages for Webp decoder when images is not WebP
    
    Reviewed By: kirwan
    
    Differential Revision: D4204242
    
    fbshipit-source-id: 829a5d8ee4e93cf8524602fe5bee80c5dc40d7ac

commit 8b1627a575f162b84ed5ac13ed0b2dca2e842419
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Fri Nov 18 09:41:57 2016 -0800

    Added ExperimentalAnimationFactory
    
    Summary: `ExperimentalAnimationFactory` is an experimental `DrawableFactory` that can be used to create `AnimatedDrawable2` for GIFs and animated WebPs. This is still WIP.
    
    Reviewed By: kirwan
    
    Differential Revision: D4167093
    
    fbshipit-source-id: 6116de80b909829144498653f3d57522f6870742

commit 05a9017e8f905ca08856a6efc672fdce494ee388
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Fri Nov 18 09:41:56 2016 -0800

    Added AnimatedDrawableCachingBackendWrapper
    
    Summary: `AnimatedDrawableCachingBackendWrapper` is a wrapper around the current `AnimatedDrawableCachingBackend` in use for GIFs and animated WebPs.
    
    Reviewed By: kirwan
    
    Differential Revision: D4167090
    
    fbshipit-source-id: f402e68cec6e7b411bac34c11b1e43159b7cdbc9

commit 3229f1d3f5d020c34335e36c36b5b588798ad65a
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Fri Nov 18 03:55:58 2016 -0800

    Add MediaVariations to ImageRequest.toString()
    
    Summary: I realised while debugging that the MediaVariations object hadn't been added to the toString() method of ImageRequest. This fixes that omission.
    
    Reviewed By: massimocarli
    
    Differential Revision: D4204225
    
    fbshipit-source-id: b8864d4575b1bcbb8bbf3f7c3c1d7a8d2535e813

commit 8f34a2b1b53ac9f7a088e7f73c6e8e5b392e8f77
Author: Massimo Carli <maxcarli@fb.com>
Date:   Fri Nov 18 03:16:23 2016 -0800

    Simpler criteria for using direct decoding
    
    Summary: Using device version in order to understand if to use direct WebP decoder
    
    Reviewed By: kirwan
    
    Differential Revision: D4197292
    
    fbshipit-source-id: 2457fe325324149ce7336b403aa64ec56f07bc55

commit b5ee0961503ce85b919c45181216bd57897e316d
Author: Massimo Carli <maxcarli@fb.com>
Date:   Thu Nov 17 11:18:58 2016 -0800

    Added setHasAlpha on HoneycombBitmapFactory
    
    Summary: Added setHasAlpha() because of possible transcoding
    
    Reviewed By: kirwan
    
    Differential Revision: D4197413
    
    fbshipit-source-id: b7412c79f5aab2b40d5c00694735816441d63617

commit 35d37d5be4277667d603ce0155952f7345442517
Author: Massimo Carli <maxcarli@fb.com>
Date:   Thu Nov 17 05:55:18 2016 -0800

    Removed EOI test on BitmapCreator
    
    Summary: The Bitmap we create has always EOI so we don't have to check in this BitmapCreator implementation
    
    Reviewed By: michalgr
    
    Differential Revision: D4189594
    
    fbshipit-source-id: eb0b7392210c116059247b7087584f048043ca38

commit 052d4dd183d40be699a881a7c2aedc25226e34ca
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Thu Nov 17 04:43:19 2016 -0800

    Animations 2 sample app: wrap backend with inactivity check
    
    Summary: The sample app for animations2 now wraps the color backend with an inactivity check that displays a toast message when the backend is inactive (has not been drawn within the last 2 seconds).
    
    Reviewed By: kirwan
    
    Differential Revision: D4197284
    
    fbshipit-source-id: 0446dbfdcf626a200892574f7aaad88a4a8fedd0

commit ff7ecc14d46c95ba9476961ae2a7c8bf402cb2d0
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Thu Nov 17 03:43:41 2016 -0800

    Added AnimationBackendDelegateWithInactivityCheck
    
    Summary: This animation backend has an inactivity check and if it has not been used to draw within the given time range, a callback will be fired to the listener to perform a certain action.
    
    Reviewed By: massimocarli
    
    Differential Revision: D4166877
    
    fbshipit-source-id: 9b0f55d747e442f7844e56cfaf16d1510b2feeea

commit b650dc239498556fbe1848ac11bb1abc4ee8122b
Author: Massimo Carli <maxcarli@fb.com>
Date:   Thu Nov 17 03:43:04 2016 -0800

    Added SimpleAdapter for PNG images
    
    Summary: SimpleAdapter for PNG images added
    
    Reviewed By: oprisnik
    
    Differential Revision: D4190079
    
    fbshipit-source-id: c00e97c207cd7784c186a1c5da86e5200b263c7e

commit 11fad41e888d05c73b7c9cc37c83ef5e73fcc577
Author: Massimo Carli <maxcarli@fb.com>
Date:   Thu Nov 17 02:27:08 2016 -0800

    Custom local Jpeg used
    
    Summary: Used fresco images for JPEG example
    
    Reviewed By: oprisnik
    
    Differential Revision: D4190013
    
    fbshipit-source-id: 45233a561f5ca5c6a920d253fdf7f55eac03956e

commit 5f0888a5ecdccbe7266de727b8fa15e2785514c4
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Wed Nov 16 12:54:50 2016 -0800

    Animation2 example: added click listener
    
    Summary: You can now tap the animated drawable to start/stop the animation.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4190269
    
    fbshipit-source-id: 7996ca75358374f5c8df2abc7d3fae5c6a12b8d8

commit ff653acb69c774bd44900c33a815e6163d38ded9
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Wed Nov 16 12:20:32 2016 -0800

    Added a very simple sample app for AnimatedDrawable2 that cycles through colors
    
    Summary: This diff adds a simple sample app for `AnimatedDrawable2` that just sets the background of a view to an `AnimatedDrawable2` with a simple backend that cycles through some colors.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4182554
    
    fbshipit-source-id: c4da92256d7dc72a86e6653cca56d808fd577305

commit dd4390c0e36cd5da296641b43ec7894350aac6f5
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Wed Nov 16 11:21:26 2016 -0800

    Added AnimatedDrawable2 and AnimationListener
    
    Summary:
    `AnimatedDrawable2` is a simple animated drawable that uses an `AnimationBackend` to draw.
    You can subscribe an `AnimationListener` to get notifications for animation events.
    
    Reviewed By: kirwan
    
    Differential Revision: D4166948
    
    fbshipit-source-id: 03275217e7c66b7cdf08ba63f94e642b03d1d1f8

commit 41986e97190e17f89ce5b9dccf99b32efac94532
Author: Massimo Carli <maxcarli@fb.com>
Date:   Wed Nov 16 10:14:51 2016 -0800

    Fixed alpha for Webp
    
    Summary: Fixed alpha problem with direct WebP decoding
    
    Reviewed By: oprisnik
    
    Differential Revision: D4189559
    
    fbshipit-source-id: acfcca20915be284d2414cac38a5e95e2a14bd0f

commit 574dc03beac551deb0f8eba00e97336e6b021393
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Wed Nov 16 04:29:04 2016 -0800

    Added FrameScheduler and DropFramesFrameScheduler
    
    Summary: This adds a frame scheduler and default implementation that drops frames.
    
    Reviewed By: kirwan
    
    Differential Revision: D4184539
    
    fbshipit-source-id: 6848aa24b0cdc365a3daccb215cc0a9aedbfd916

commit a0811de19077758b9da6a93ba18d1603acb2dae8
Author: Massimo Carli <maxcarli@fb.com>
Date:   Wed Nov 16 03:47:23 2016 -0800

    Removed fallback code in WebP decoding
    
    Summary: We have removed the fallback code
    
    Reviewed By: kirwan
    
    Differential Revision: D4182865
    
    fbshipit-source-id: f7dc0906fdeda6fe50f0803c523c8cf43c899671

commit 08e805152f66db0ef06e0be9cb7329368e593f86
Author: Massimo Carli <maxcarli@fb.com>
Date:   Wed Nov 16 03:09:20 2016 -0800

    Removed code for Webp PNG Transcoding experiment
    
    Summary: WebP transcoding type experiment options removed
    
    Reviewed By: kirwan
    
    Differential Revision: D4182317
    
    fbshipit-source-id: 71a4d6394e1a7200a32331d0bcdd862d5aa0cdf8

commit 8905a23be6876bb702746f39b32b6dbe540cf5af
Author: Felix Oghina <foghina@fb.com>
Date:   Tue Nov 15 08:19:57 2016 -0800

    Crash for unclosed finalized CloseableReferences
    
    Reviewed By: kirwan
    
    Differential Revision: D4121686
    
    fbshipit-source-id: 6be7389697ea9c86e55660cc45d32049d7870fca

commit 5f9722e56d6d4c5b7382eca6af8f11449a4fd43a
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Sat Nov 12 05:36:47 2016 -0800

    Allow MediaVariations.forMediaId(String) to accept null
    
    Summary: Adjusts the simple static constructor for MediaVariations to receive a null media ID, in which case null is also returned.
    
    Reviewed By: oprisnik
    
    Differential Revision: D4167907
    
    fbshipit-source-id: cf3b5367ae9379aaeaa39a7be2d3ece5c2636b30

commit 1776ad9ac0be6453735c4357bb524f822ffcd9a8
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Sat Nov 12 05:36:46 2016 -0800

    Load media variations database lazily
    
    Summary: Put the SQLiteOpenHelper for the media variations index behind a lazy loader so that the database is only created the first time an appropriate image request comes through. This ensures that if it's never needed it will never be created and pushes back cold-start impact.
    
    Reviewed By: oprisnik
    
    Differential Revision: D4167896
    
    fbshipit-source-id: d2005ed23ab5c9013c492bc874489444c01d5ef5

commit c75e92a18f0b3c146d4f5ae50fff7113c87ad995
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Sat Nov 12 05:36:45 2016 -0800

    Extract MediaVariationsIndex interface and implement no-op version
    
    Summary:
    This diff replaces direct references to MediaVariationsIndexDatabase with a new interface so that the implementation can be swapped out.
    
    I've also implemented a no-op implementation of the class which is used when the experimental config flag is false (the default for now).
    
    Reviewed By: oprisnik
    
    Differential Revision: D4167752
    
    fbshipit-source-id: 37d0c0be9f23593ee0194ef503032c88b144ccde

commit b6895210e28982a61a70ee9420ac26e5aba6516a
Author: Massimo Carli <maxcarli@fb.com>
Date:   Sat Nov 12 03:16:31 2016 -0800

    Using BitCreator in order to allocate Bitmap for WebP
    
    Reviewed By: kirwan
    
    Differential Revision: D4148157
    
    fbshipit-source-id: de7f26ddc35a3c312981dbf985b4ee8576e24547

commit 0d14a39f52529bed144589c93809119336a25b60
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Fri Nov 11 13:13:58 2016 -0800

    Replace media variations config flag with one for the index
    
    Summary: Now that media variations support is always included in the pipeline, this replaces the experimental flag which enabled that with one to enable the index database.
    
    Reviewed By: massimocarli
    
    Differential Revision: D4166946
    
    fbshipit-source-id: a88bd374c769c1dc24299dbc8fa39492e25d494a

commit 99de8baecc247af53c393c47046b36509a6955fe
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Fri Nov 11 11:38:23 2016 -0800

    Added experimental animated-drawable module and AnimationBackend
    
    Summary: Added a new `animated-drawable` module and `AnimationBackend` and `AnimationBackendDelegate` class that will be used for a new drawable for animated images.
    
    Reviewed By: massimocarli
    
    Differential Revision: D4166825
    
    fbshipit-source-id: 7c9a0fe855bafc2409ccb4d640399ebd9fce55f0

commit e437ef96c5c63e10c4dd6a94bd44cf58e4d7118d
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Fri Nov 11 06:08:56 2016 -0800

    Added simplified touch handling experiment for ZoomableDraweeView
    
    Summary:
    This change adds a simplified touch handling for `ZoomableDraweeView` that can be enabled for each `ZoomableDraweeView` individually.
    This fixes an issue where swiping between images sometimes did not work, especially when using `adb shell input swipe ...`.
    
    Reviewed By: massimocarli
    
    Differential Revision: D4161766
    
    fbshipit-source-id: f27014889a6f3cf678c4ae7fd3e91d672de9e940

commit 6cfd55e107f51f8072fc7c5091a633f8592c21ee
Author: Massimo Carli <maxcarli@fb.com>
Date:   Fri Nov 11 02:30:21 2016 -0800

    Optimised WebpBitmapFactory initialization
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4152933
    
    fbshipit-source-id: 61aa98e8e5653aa04f3b20f874ffecf76fd40c94

commit 0822e1b9f6950ac529b047e090f48dd5fc7914b7
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Thu Nov 10 14:41:17 2016 -0800

    Allow request to force download of primary Uri even if alternative found
    
    Summary:
    A flag has been added to MediaVariations which requests that the original image should be requested even if an alternative image was found which otherwise appears good enough to not require the network request.
    
    This is needed (and used here) for the sample app which otherwise would not download the individual variants once one has been saved.
    
    Reviewed By: oprisnik
    
    Differential Revision: D4082504
    
    fbshipit-source-id: b021567cf815dd936fa322fe4fd76479d4fa36cb

commit c9e18c61709781342edab11f38dd97bfb13093ff
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Thu Nov 10 14:41:15 2016 -0800

    Query media variations DB for requests with a media ID
    
    Summary: This diff introduces checking the media variations database for requests which include a media ID but no specified variants.
    
    Reviewed By: massimocarli
    
    Differential Revision: D4082489
    
    fbshipit-source-id: a146aef81b7a9fd6ffc763cd1ead9e72a8176249

commit a4a02391248313d3a573f1192b37b6cfd485cde0
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Thu Nov 10 14:41:14 2016 -0800

    Write to media variations DB when a new image is loaded with a media ID
    
    Summary:
    Adds a new consumer within the MediaVariationsFallbackProducer so that new responses to requests which contain a media ID will be written to the database.
    
    Querying the database to use these values follows in the next diff.
    
    Reviewed By: massimocarli
    
    Differential Revision: D4082452
    
    fbshipit-source-id: c8e1c89caf56b3445cac11fe60490ad10895e4cd

commit c1e1930f502a283330c5be115a6f4132db1bec02
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Thu Nov 10 14:41:13 2016 -0800

    Create MediaVariationsIndexDatabase
    
    Summary:
    Creates MediaVariationsIndexDatabase and injects it into MediaVariationsFallbackProducer.
    
    The database isn't used yet and doesn't contain methods to read from or write to it. The class just defines the schema and includes an SQLiteOpenHelper to create the table.
    
    Reviewed By: massimocarli
    
    Differential Revision: D4082413
    
    fbshipit-source-id: f656b40e6fddfe5e66b1577285f9b3effd7299a1

commit 281eb035d7489539ca4086608896032ee7d63199
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Thu Nov 10 14:41:10 2016 -0800

    Create CacheKey.getUriString()
    
    Summary: Add a new method to the CacheKey interface to request the URI string contained within. This is currently acheived using toString() but that makes assumptions about implementations of toString() which may not be correct.
    
    Reviewed By: oprisnik
    
    Differential Revision: D4146767
    
    fbshipit-source-id: 53c96233d86b1f186c00cdfc7eec645910769da5

commit 14964689c7e37df3450706afce127e4a8a12fb63
Author: Yichen Jia <micheljyc@fb.com>
Date:   Thu Nov 10 12:08:35 2016 -0800

    Fix a bug of ProgressBarDrawable
    
    Reviewed By: oprisnik
    
    Differential Revision: D4156092
    
    fbshipit-source-id: c7e4d85f0b2bb0c2d3c0febbeed9ce717cc9482b

commit 3e4272d1b3304077a3b654e99f36e5744e77aedd
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Tue Nov 8 10:18:38 2016 -0800

    Remove DiskCacheProducer and always use split producers
    
    Summary:
    This completes the splitting of DiskCacheProducer into DiskCacheReadProducer and DiskCacheWriteProducer.
    
    This has been available for a while via an experimental config flag. That flag will soon be renamed and repurposed.
    
    Reviewed By: massimocarli
    
    Differential Revision: D4147078
    
    fbshipit-source-id: c707b07a53cf26c4b317583bd9c2ea413c59ef2a

commit 19efae144e668cfdfec68216991d598b873d5f19
Author: Felix Oghina <foghina@fb.com>
Date:   Wed Oct 26 09:52:01 2016 -0700

    add logging for CloseableReference statistics
    
    Reviewed By: massimocarli
    
    Differential Revision: D4081456
    
    fbshipit-source-id: 3b685c0c9e51498337bc33a93d50a1214f791794

commit 6ba3712a4d1d586ab3795c909a8f5a6c3441eae4
Author: Kukuh Yoniatmoko <kukuhyoniatmoko@gmail.com>
Date:   Wed Oct 26 09:31:43 2016 -0700

    change OkHttpClient to Call.Factory
    
    Summary:
    Add constructor that accept Call.Factory
    Closes https://github.com/facebook/fresco/pull/1499
    
    Reviewed By: oprisnik
    
    Differential Revision: D4080908
    
    Pulled By: kirwan
    
    fbshipit-source-id: 4850058cdd12df18546a0129c1c9f12187fa3ae0

commit 8bd558c4daaf98301b331ebf7dccca47b76fb662
Author: Massimo Carli <maxcarli@fb.com>
Date:   Wed Oct 26 08:28:17 2016 -0700

    Added requested image size into ExtraMap
    
    Summary: Added more extra about decoding
    
    Reviewed By: kirwan
    
    Differential Revision: D4074109
    
    fbshipit-source-id: 160661e78606498a98bd42204e53cc748380d191

commit 2dc6c19e923f6c32b2708a3167db5b32688797d0
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Wed Oct 26 02:57:35 2016 -0700

    Color debug overlay based on image size
    
    Summary:
    The debug overlay background color now changes depending on the image size vs drawable size.
    For each dimension:
    
    <=50% Red
    50% - 90% Orange
    90%-110% Green
    110% - 150% Orange
    >=150% Red
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4022140
    
    fbshipit-source-id: 216555904b25ff86d20d5a0f65c512cac576f8b7

commit 7427ffe597a0f8f4e1aab86e746033a9c80ae217
Author: Yichen Jia <micheljyc@fb.com>
Date:   Tue Oct 25 14:39:50 2016 -0700

    Edit ProgressBarDrawable to make it more rich
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4049036
    
    fbshipit-source-id: dfc852e3ed026575e2d15540d89866ec762d0b70

commit 0c1fa3b4c310abfe0a9d124c883f3269eed28fb8
Author: sky <haoming.zhm@alibaba-inc.com>
Date:   Mon Oct 24 12:31:13 2016 -0700

    add Bitmap.Config in ImageDecodeOptions for static image which decode‚Ä¶
    
    Summary:
    can decode static Image with Bitmap.Config.RGB_565 to save more Memory.
    Closes https://github.com/facebook/fresco/pull/1509
    
    Reviewed By: kirwan
    
    Differential Revision: D4050645
    
    Pulled By: lambdapioneer
    
    fbshipit-source-id: 44a124de5bc6a95f8b555488f53991e23e1124fe

commit 7b6894ee16ca9fcd3e7d32a9acd9d829d983f586
Author: Massimo Carli <maxcarli@fb.com>
Date:   Fri Oct 21 07:46:34 2016 -0700

    Added extra for encodedImageSize
    
    Summary: Added a new extra in order to get information about the size of the encoded image
    
    Reviewed By: kirwan
    
    Differential Revision: D4043286
    
    fbshipit-source-id: 91ba814d81e8aeb0ba7504aa79d9a2ff2f7d33a4

commit 60aa4710cd413deb43cdef6f3033d55e1b312cf4
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Thu Oct 20 03:53:54 2016 -0700

    Dark toolbar style for scrollperf sample
    
    Summary: The toolbar for the scrollperf demo app should have white text instead of black.
    
    Reviewed By: lambdapioneer, massimocarli
    
    Differential Revision: D4050616
    
    fbshipit-source-id: b82c273eb73d9861325eb8ace14a27f78407efec

commit 474f62af906341026943efeabf64a32516d1b2fe
Author: Massimo Carli <maxcarli@fb.com>
Date:   Wed Oct 19 08:13:13 2016 -0700

    WebPUtil usage added to EncodedImage
    
    Summary: Added utility method in order to get size of WebP images
    
    Reviewed By: kirwan
    
    Differential Revision: D4036866
    
    fbshipit-source-id: ed74cc498a9813cfd6c17efc107a9763689c0760

commit 7dd51098b14d833eaa7cb3884d5e8e8bf82cdc5e
Author: Massimo Carli <maxcarli@fb.com>
Date:   Wed Oct 19 06:56:45 2016 -0700

    Added close inputstream version to getSize
    
    Summary: getSize method manages inputStream with mark/reset support. In case we just want to close the InputStream without the try/catch cumbersome, we supplied a method to use the Stream and then close it.
    
    Reviewed By: kirwan
    
    Differential Revision: D4043296
    
    fbshipit-source-id: 223b5899a83d0d0cbbd621574a665fff4a0f8a0c

commit c07bb70d457f5cd27a4dde55a177d681942563b9
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Wed Oct 19 05:56:14 2016 -0700

    MediaVariations config is now held as a Supplier
    
    Summary:
    The media variations experimental config flag is now held as a Supplier rather than simple boolean.
    
    This is to allow for the flag to be concretely set only when it's required.
    
    Reviewed By: massimocarli
    
    Differential Revision: D4043349
    
    fbshipit-source-id: e3f9941ade63d88e6e03b57dd9ec3103f51db622

commit 59c9c605fe5327190b2bd833e925ca3587f36065
Author: Massimo Carli <maxcarli@fb.com>
Date:   Wed Oct 19 02:48:54 2016 -0700

    Created WebPUtil class in order to get metadata from WebP images
    
    Summary: Utility class in order to get metadata from a WebP image
    
    Reviewed By: kirwan
    
    Differential Revision: D4022110
    
    fbshipit-source-id: 37afbe5ff7e190307006671150f5fc0a87d9b7ed

commit 0a140fc368830c5c978eb3c1b18e3c18b5b650b8
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Tue Oct 18 11:52:25 2016 -0700

    Mitigate crash in ForwardControllerListener caused by race condition
    
    Summary:
    In #1504 a race condition is described that leads to a `OutOfBounds` in `ForwardingControllerListener`. It happens when a `ControllerListener` is removed while an event is propagated in the `for` loop of any of those methods.
    
    This diffs mitigates the crash by moving the `get(i)` part inside `try-catch` block. By this we still have visibility when it happens, but it does not crash the app.
    
    Reviewed By: oprisnik
    
    Differential Revision: D4037029
    
    fbshipit-source-id: 6d110c2d2d2f32820579d4c998d4fcc33a41745b

commit 11d01363746baf593d0e123d758a1f5c82a6db14
Author: Massimo Carli <maxcarli@fb.com>
Date:   Tue Oct 18 03:03:31 2016 -0700

    Enable WebP decoding only if the flag is enabled
    
    Summary:
    :
    Use flag to enable transcoding
    
    Reviewed By: kirwan
    
    Differential Revision: D4029224
    
    fbshipit-source-id: fb4e54453d6e3a16861892ac7cc4e9c03cb2571a

commit ab989d47c4fadbe805a9a3bcdd0c0c8a710a23ad
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Mon Oct 17 12:44:15 2016 -0700

    Support forceStatic for animated WebP
    
    Summary: Before this diff the `ImageDecodeOptions#forceStatic` parameter was ignored for animated WebP. This made it impossible to apply post processors to such images.
    
    Reviewed By: oprisnik
    
    Differential Revision: D4030222
    
    fbshipit-source-id: 4d3c8ad8cd976c9f97d07d6552c1c514b0f7c22d

commit 0c0a5a16f58f42a5b82b206e2c212ca5a8be1740
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Mon Oct 17 09:17:49 2016 -0700

    Allow for Bitmap.Config being null in BasePostProcessor
    
    Summary:
    Before this diff, the post processor would silently fail when it encounters a Bitmap that has no public configuration (i.e. `Config==null`). This is the case when requesting a preview image for an animated GIF.
    
    After this diff, the post processor will fallback on using a generic `ARGB_8888` for the destination bitmap instead of creating an identical clone of the source one.
    
    Reviewed By: oprisnik
    
    Differential Revision: D4029653
    
    fbshipit-source-id: e0eb4782bd4187ee9072421b0c0cd46c6ba05b6d

commit dc9e87e3f39a789cad0f8febb241356e9b51807d
Author: Alex Nalivko <alexnalivko@fb.com>
Date:   Fri Oct 14 09:36:25 2016 -0700

    Allowing to suppress all callers of the BitmapPrefetch and shortcut them into a Disk prefetch instead
    
    Reviewed By: kirwan
    
    Differential Revision: D4020349
    
    fbshipit-source-id: 9f7bebb80081c53f021cf7950c15e9221f555d8d

commit 2b0241411274282564f2a2427fb855fb512c08fd
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Fri Oct 14 04:00:01 2016 -0700

    Expose extra map keys of the DecodeProducer
    
    Reviewed By: kirwan
    
    Differential Revision: D4021097
    
    fbshipit-source-id: 6acdeec8d744e00cff024cc86d1a6adbf0f2ae8e

commit 34eeb02b63ebba42e3f8d119149a6d8e2ea03b2b
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Fri Oct 14 01:32:23 2016 -0700

    Automatically expect intermediate results if media variations set
    
    Summary: This ensures that any request which includes media variations will support intermediate results without the need to call ImageRequestBuilder.setProgressiveRenderingEnabled(true).
    
    Reviewed By: oprisnik
    
    Differential Revision: D4015649
    
    fbshipit-source-id: a1976d5cb94e706058c8f8b57a9e09e09d9c36bc

commit f4928f680a38adcd0c936226b55ed327949a25dc
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Fri Oct 14 00:52:00 2016 -0700

    Upgrade Android Gradle plugin to 2.2.1
    
    Summary:
    This provides access to instant run in Android Studio 2.2.1.
    Closes https://github.com/facebook/fresco/pull/1502
    
    Reviewed By: oprisnik
    
    Differential Revision: D4015743
    
    Pulled By: kirwan
    
    fbshipit-source-id: 8e23961eac61f97bc6b38f7fe295f26adfa3c6a6

commit 7887e220b0e0f4f0068fcccc441f7c0434be3ae1
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Thu Oct 13 11:33:31 2016 -0700

    MediaVariationsFallbackProducer pass on request if disk cache is lowest level
    
    Summary:
    This ensures that if the media variations fallback produces a non-final image the request is still forwarded to the next producer if disk cache is set to the lowest level to use.
    
    Not doing this resulted in the multiplex producer waiting indefinitely for the final response and blocking new requests for the same URI.
    
    Reviewed By: oprisnik
    
    Differential Revision: D4015552
    
    fbshipit-source-id: f1c7fd6b002db6ec2e6e5141ba8c795ace86a1d3

commit 50a6a39e81a47cc55527ec51ed123adbfbc13832
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Thu Oct 13 11:22:21 2016 -0700

    Update Javadoc comments to reflect current state of Media Variations
    
    Reviewed By: oprisnik
    
    Differential Revision: D4015441
    
    fbshipit-source-id: cc6a38e5b759d37ed29f501b3963de754175c228

commit e3e0059d626a438d9bbde9579ba5dacadb240827
Author: Massimo Carli <maxcarli@fb.com>
Date:   Wed Oct 12 10:37:33 2016 -0700

    Added cancellation flag to scroll perf app
    
    Summary:
    We added the option to cancel decoding for cancelled requests
    
    {F64005019}
    
    Reviewed By: kirwan
    
    Differential Revision: D4008337
    
    fbshipit-source-id: 5464148b189796a0b1bdebdf8a5a72643f35de4a

commit 0708c8770ae0a0f1e923fa7567f88e2995bb9e45
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Wed Oct 12 10:15:06 2016 -0700

    Added null check so that we always return an ImageFormat
    
    Summary: The current `DefaultImageFormatChecker` always returns an ImageFormat (UNKNOWN), but the `ImageFormat.FormatChecker` interface itself is nullable, so it's safer to add a check.
    
    Reviewed By: kirwan
    
    Differential Revision: D3995301
    
    fbshipit-source-id: 8562cf7abd3f5d6428822dc74d85262cc4d7bad8

commit 0195e12e7f8586c609b14c947f71449511f83e71
Author: Massimo Carli <maxcarli@fb.com>
Date:   Wed Oct 12 10:12:53 2016 -0700

    Reverted flag for filedescriptor flag for scroll perf app
    
    Summary: Revert the configuration about decoding from file descriptor in scroll perf sample application
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4001676
    
    fbshipit-source-id: bddcd5e8bcc5656ac99be5e295214cecd3d14d48

commit ca5efcc1c46afc1869197c6332486acfd69f0ed9
Author: Nikolay Nesterov <nikolaynesterov@gmail.com>
Date:   Wed Oct 12 10:06:46 2016 -0700

    Fix force rotation
    
    Summary:
    This PR referrs #1492
    Rotation angle in `ResizeAndRotateProducer` now is computing according to image metadata. It's for rotating image from it's natural orientation.
    Add `RotationOprtions.disableRotation()` to disable rotation. Previously it could be done via `RotationOptions.forceRotation(NO_ROTATION)`
    Closes https://github.com/facebook/fresco/pull/1498
    
    Reviewed By: oprisnik
    
    Differential Revision: D4001566
    
    Pulled By: kirwan
    
    fbshipit-source-id: dd3959fd94aa4c3793ccab112adc19c9f0cea4af

commit 2243fbebef68937cedfe8c3a96869e7c3e8f3126
Author: Massimo Carli <maxcarli@fb.com>
Date:   Wed Oct 12 09:56:30 2016 -0700

    Removed field which cannot be consistently updated
    
    Summary: Removed unused field used before to test the existence of the WebpBitmapFactory implementation
    
    Reviewed By: kirwan
    
    Differential Revision: D4008236
    
    fbshipit-source-id: 30ad4905f5383ddcb34304ca9f3983874b4623d0

commit b54c73ed2bbb4e2cd347f85a518da5fd5f8b20a7
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Wed Oct 12 09:14:06 2016 -0700

    Added DefaultImageFormatChecker
    
    Summary: The default image format header checks should be decoupled from the `ImageFormatChecker` class.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D3995291
    
    fbshipit-source-id: f36977b48b09475addb7ac0bd7a2aafb4946400b

commit d98919660b7223e8820f2e5d597a990b15618f96
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Wed Oct 12 09:13:33 2016 -0700

    Make media variations sample image resizable to test with different resize options
    
    Summary:
    This adds a new ResizableFrameLayout to the sample app so that the user can resize the image ahead of re-requesting the image.
    
    The benefit here is that the user can then test what happens when they request the image with a request containing different resize options.
    
    Reviewed By: massimocarli
    
    Differential Revision: D4008722
    
    fbshipit-source-id: fc3af14a637021d392ecf8a1e1494aab0e137b74

commit a9aa489101749c184e52d808cb4c9096e7a9a0af
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Wed Oct 12 09:13:31 2016 -0700

    Replace images used in the media variations sample
    
    Summary:
    This diff changes the image used for the sample app to one which has a portrait orientation and with larger images for the smaller sizes.
    
    This turned out to be necessary to test with loading smaller sizes as with the old images it was very difficult to be in a postition where the smaller sizes were big enough for the main request.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4001771
    
    fbshipit-source-id: 563a904b9293bf8bbf3f084be95c5ce26cd10a00

commit 7d3b03d3e2f29dd137c55db1753099e4e8a546d5
Author: Massimo Carli <maxcarli@fb.com>
Date:   Wed Oct 12 09:11:14 2016 -0700

    Removed configuration in order to enable memory file decoding on Gingerbread
    
    Summary: Removed flag for memoryfile decoding
    
    Reviewed By: kirwan
    
    Differential Revision: D3995313
    
    fbshipit-source-id: fd34c34bf1ec6af335bb7d0beb4e7a8b8719853c

commit a5a15f621b9cde16afd0345d10557d30a0a2216f
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Wed Oct 12 03:12:11 2016 -0700

    Rework builder constructors for MediaVariations
    
    Summary:
    Size is a required element of each variant so the existing withSize() and withoutSize() static constructors have been removed.
    
    Also, the newBuilderForMediaId() constructor has moved from being inside MediaVariations.Builder to MediaVariations itself to make calls look cleaner without losing any understanding.
    
    Reviewed By: massimocarli
    
    Differential Revision: D4001220
    
    fbshipit-source-id: 312e68d20f811a8b3abd4fe542e68a703ebb9fce

commit 92d5ea3e8eb5177347d708e4c3bef0f6836ad90f
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Wed Oct 12 03:12:10 2016 -0700

    Include MediaVariationsFallbackProducer in producer sequence
    
    Summary: Include the MediaVariationsFallbackProducer when creating a producer sequence for network images.
    
    Reviewed By: massimocarli
    
    Differential Revision: D4001203
    
    fbshipit-source-id: 18df37ef5f011f48a6ef51aecea679845efbf9af

commit 57771e251b9da3561060d10b9a2a9b6a3b4103c2
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Wed Oct 12 03:12:09 2016 -0700

    Create MediaVariationsFallbackProducer
    
    Summary: Create new producer to find fallback images from cache based on media variations.
    
    Reviewed By: massimocarli
    
    Differential Revision: D4001197
    
    fbshipit-source-id: 36d4c877722072c80d498bdd1112d5da8c04d619

commit c1563ff7a811230eb06933f3634a49643ad1af69
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Tue Oct 11 09:15:38 2016 -0700

    Add CacheKeyFactory method to create a key based on a Uri
    
    Summary:
    Adds a new method to CacheKeyFactory which requires just a Uri rather than a full ImageRequest to create a key for encoded cache.
    
    This is necessary for media variations to seek alternative resources from cache.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D4001175
    
    fbshipit-source-id: d157d15022f838400d3c632f2dab1f7254826e16

commit 4657ce43eaf555ccee0bd90d0f1799645351c1ad
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Tue Oct 11 09:15:37 2016 -0700

    Revert extraction of name from DiskCacheReadProducer
    
    Summary: It ended up not being necessary to extract the producer name from DiskCacheReadProducer so this reverts that recent change.
    
    Reviewed By: massimocarli
    
    Differential Revision: D4001153
    
    fbshipit-source-id: 2b6772405f57bd01e8200b83d2fefc6380dba2fb

commit ee39aaed41ccb039f611ea45b9780d3cf4769424
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Tue Oct 11 09:15:36 2016 -0700

    Use key in EncodedImage for encoded memory cache
    
    Summary:
    This change uses the cache key stored inside the EncodedImage if it's there when storing in encoded memory cache.
    
    The consumer has also been split into a named inner class so that it can hold a couple of variables.
    
    Reviewed By: massimocarli
    
    Differential Revision: D3987807
    
    fbshipit-source-id: 4cdeafd3702e4253ebc416cac2907539756891fc

commit c3eb19106e7445ede00293615a9b6da628fb51e7
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Tue Oct 11 04:25:42 2016 -0700

    Store cache key in EncodedImage
    
    Summary:
    Adds a CacheKey member inside the EncodedImage class.
    
    With media variations it is possible for an image to be sent back up the producer chain which should not be cached in the encoded memory cache against the request's original cache key. By storing the key in the returned image we can avoid doing this.
    
    Reviewed By: massimocarli
    
    Differential Revision: D3987800
    
    fbshipit-source-id: 26345352dcf134753941536fbd58135bb71015b8

commit d3dc5ed8d7003fc821d7f341b293b3943d55a499
Author: Massimo Carli <maxcarli@fb.com>
Date:   Mon Oct 10 09:02:01 2016 -0700

    Added explicit WebpBitmapFactoryImpl in ImagePipelineConfig
    
    Summary: The ImagePipelineConfig now can be used to set the WebpBitmapFactory implementation. In this case we don't use introspection in order to understand if the optional library can be loaded or not.
    
    Reviewed By: kirwan
    
    Differential Revision: D3980815
    
    fbshipit-source-id: aabbe1fbfcd06222c7d1e0969ec21abede5d3f96

commit c749fe363a20b61db3472083aff036878537242a
Author: Adam Comella <adcom@microsoft.com>
Date:   Mon Oct 10 03:00:35 2016 -0700

    Split OkHttpNetworkFetcher's fetch method to make part of it reusable
    
    Summary:
    Subclasses overriding the `fetch` method might want to reuse some of its functionality. This change splits the `fetch` method into 2 methods to make this reusability possible: `fetch` and `fetchWithRequest`.
    
    This Fresco change will be consumed by React Native PR facebook/react-native#7791 which enables React Native apps to specify headers to include in the HTTP request when fetching a remote image. For example, one might leverage this when fetching an image from an endpoint that requires authentication.
    
    Adam Comella
    Microsoft Corp.
    Closes https://github.com/facebook/fresco/pull/1459
    
    Reviewed By: kirwan
    
    Differential Revision: D3841123
    
    Pulled By: lambdapioneer
    
    fbshipit-source-id: 28583183fd887cf9aff56882ad1e37bce8d9d21f

commit f36cb8e80653e678cad2ad715da394d999c5dd12
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Fri Oct 7 14:22:20 2016 -0700

    Added custom decoder sample app and simple custom color decoder
    
    Summary:
    I have added a new sample app for custom decoders.
    The first example is a simple color decoder that handles `<color>#rrggbb</color` files and uses a `ColorDrawable` to actually draw.
    
    Reviewed By: massimocarli
    
    Differential Revision: D3894510
    
    fbshipit-source-id: 2970c9f5f00b4592afb88443bfa336dd9c643726

commit 821ebca43184d4c167f87f21a78f599ddc4baef6
Author: Massimo Carli <maxcarli@fb.com>
Date:   Fri Oct 7 09:28:19 2016 -0700

    Added experiment code for decode cancellation for cancelled requests
    
    Summary: Experiment code in order to cancel decoding jobs in case of cancelled image requests
    
    Reviewed By: kirwan
    
    Differential Revision: D3951271
    
    fbshipit-source-id: 6098ea081131795edfdc2bfdefcac99422b415ce

commit 89b4d265ce668a8bac643d614fb49a48f25219f6
Author: Massimo Carli <maxcarli@fb.com>
Date:   Fri Oct 7 08:15:57 2016 -0700

    Added extras info in DecodingProducer about image format
    
    Summary: ImageFormat added to error extras
    
    Reviewed By: kirwan
    
    Differential Revision: D3980734
    
    fbshipit-source-id: b810f9d65e3edf169ab5b3bd0659065e2206a9bb

commit 0c61904a0490b6061967e38217d449346b6afcbd
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Fri Oct 7 07:41:10 2016 -0700

    Remove old tests
    
    Summary:
    We had two tests left behind from when we tried using lists of keys, before that was replaced with MultiCacheKey.
    
    This removes those tests.
    
    Reviewed By: massimocarli
    
    Differential Revision: D3987370
    
    fbshipit-source-id: b9b148ba148686e772bd798093bce75d7998d88d

commit f8e9ba7e22a06ca1128adc4cb40efe605399919c
Author: Massimo Carli <maxcarli@fb.com>
Date:   Fri Oct 7 06:51:52 2016 -0700

    Added an overload for ImmutableMap methods
    
    Summary: Added a method with more parameters for convenience
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D3987223
    
    fbshipit-source-id: 25d226ea1c1259e6f6ed3286c769ae99c44bf663

commit df9b80aa42f33e9bf9bc0bc45fed34de1c3aa8de
Author: Massimo Carli <maxcarli@fb.com>
Date:   Fri Oct 7 05:05:46 2016 -0700

    Added checkbox for Memory File Descriptor in sample scroll perf application
    
    Summary:
    We have added the option to enabled memory file descriptor for decoding
    
    {F63914474}
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D3981039
    
    fbshipit-source-id: 279f86deb42d1b7a1bbe8b37be4bd7d6c3f5ea6a

commit 9931e1e711df614ff3b70f5f513a3e7a4c556014
Author: Massimo Carli <maxcarli@fb.com>
Date:   Fri Oct 7 04:47:40 2016 -0700

    Added WebpSupport option in sample scroll perf application
    
    Summary:
    Added the option to enabled WebP support for devices and Os < 4.3
    
    {F63914451}
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D3981031
    
    fbshipit-source-id: cfb58e913554fcc2a783a36f1cca746ff908c112

commit 813ffba94e3c8a0f66b9755327dcac46ec2d5d01
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Fri Oct 7 03:59:22 2016 -0700

    Added ImageFormatCheckerUtils for common image format checker functionality
    
    Summary: Since we're supporting custom image formats, it makes sense to move common functionality to a helper class.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D3974700
    
    fbshipit-source-id: b6c7df74e4d65ad51597e7732b5baae598443555

commit cc2479a71a58433d79c472c8d02a91ee447ee1f5
Author: Massimo Carli <maxcarli@fb.com>
Date:   Thu Oct 6 05:41:35 2016 -0700

    Added SimpleAdapter implementation for WebP images in scroll perf sample app
    
    Summary:
    :
    Added SimpleAdapter implementation for WebP images
    
    {F63913416}
    
    Reviewed By: kirwan
    
    Differential Revision: D3974885
    
    fbshipit-source-id: 5fa3335c1f428ac39a1616c83e6754e9af90b2a7

commit db1b88b3e495a98db41d11378051c11a9550d74c
Author: Massimo Carli <maxcarli@fb.com>
Date:   Thu Oct 6 03:42:59 2016 -0700

    Added static-webp dependency to gradle in scroll perf sample app
    
    Summary: We have added the static-web dependency to gradle
    
    Reviewed By: kirwan
    
    Differential Revision: D3975374
    
    fbshipit-source-id: 0c111056a58a6c19dec1cfdf7d40431e553a48e0

commit b91ae4f637bec69d04ad424b166e7e37c1ae88d3
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Wed Oct 5 09:51:40 2016 -0700

    Added ImageDecoderConfig to ImagePipelineConfig so that custom image formats can be added
    
    Summary: It is now possible to create a new `ImageDecoderConfig` where custom image formats and decoders can be defined.
    
    Reviewed By: massimocarli
    
    Differential Revision: D3893394
    
    fbshipit-source-id: 4e015c585bbba4e68b82417442777ba151847d5f

commit 99566f55f6e2a714a797c7761febdeaa711031c7
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Wed Oct 5 09:51:39 2016 -0700

    Make ImageFormatChecker customizable
    
    Summary: ImageFormatChecker should be customizable so that custom image formats can be registered.
    
    Reviewed By: massimocarli
    
    Differential Revision: D3893254
    
    fbshipit-source-id: d437f77d30d8b517c61b012fddc6f2dc89c12636

commit d8becedbe3b4158629ac0604b54d2be3d976d458
Author: Piotr <pwalc@agora.pl>
Date:   Wed Oct 5 09:40:40 2016 -0700

    Update proguard-fresco.pro
    
    Summary:
    I believe, we don't need it anymore.
    Closes https://github.com/facebook/fresco/pull/1443
    
    Reviewed By: oprisnik
    
    Differential Revision: D3974828
    
    Pulled By: kirwan
    
    fbshipit-source-id: fa51a3b2541aec4df1071086743fe134a5ca5153

commit 19dbc68979cf4c4148d494f85fea1e8eb6bb5c08
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Wed Oct 5 05:19:22 2016 -0700

    Added resource URI helper to UriUtil for convenience
    
    Summary:
    Added a helper method to `UriUtil` in order to be able to set image resources more easily.
    
    You can now use
    ```
    drawee.setImageURI(UriUtil.getUriForResourceId(R.drawable.image));
    ```
    
    instead of
    
    ```
    DraweeController controller = Fresco.newDraweeControllerBuilder()
            .setImageRequest(ImageRequestBuilder.newBuilderWithResourceId(R.drawable.image).build())
            .build();
    drawee.setController(controller);
    ```
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D3974086
    
    fbshipit-source-id: e863c54a0244f5fd2c5ebe56845485192a8aa31a

commit 8996132c0344df041aeb82bcf867ef444852a196
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Tue Oct 4 05:59:59 2016 -0700

    Use DiskCachePolicy in DiskCacheWriteProducer
    
    Summary:
    This makes use of the DiskCachePolicy interface within DiskCacheWriteProducer.
    
    The appropriate policy, as determined to be appropriate for the config, is created in ProducerFactory.
    
    Reviewed By: oprisnik
    
    Differential Revision: D3961284
    
    fbshipit-source-id: 1d10e2e8cbb9813101772be79cacdd9790b4e255

commit 9323b33c291db868ce72b88baff180c39bf5486f
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Tue Oct 4 05:59:58 2016 -0700

    Use DiskCachePolicy in DiskCacheReadProducer
    
    Summary:
    This makes use of the DiskCachePolicy interface in the DiskCacheReadProducer.
    
    The appropriate policy, as determined to be appropriate for the config, is created in ProducerFactory.
    
    Reviewed By: oprisnik
    
    Differential Revision: D3937083
    
    fbshipit-source-id: 558238696b9beee32605a69f0268a0adfd89e6f7

commit 3cb20f96aa6ce89829eee18c9d0a58216538a9dc
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Tue Oct 4 05:59:57 2016 -0700

    Create SplitCachesByImageSizeDiskCachePolicy
    
    Summary:
    This creates the second of the standard disk cache policies we commonly use, to place images below a specified threshold into the small cache and larger images in the default cache.
    
    The policy isn't used yet, that will follow in the next diff.
    
    Reviewed By: massimocarli
    
    Differential Revision: D3937068
    
    fbshipit-source-id: 8c8b714ae598e9b1115bd08b16722e2ad292efa7

commit ecfdd5811a3bbdb1da0de2383e26f85788e8755c
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Tue Oct 4 05:59:56 2016 -0700

    Create DiskCachePolicy
    
    Summary:
    DiskCachePolicy is a new interface intended to extract the interaction with the default and small caches from the producers and into new collaborators.
    
    This will enable the reuse of DiskCacheReadProducer for media variations fallbacks.
    
    For now I've created the simplest implementation to read and write from whichever cache the image request specifies.
    
    Reviewed By: oprisnik
    
    Differential Revision: D3937037
    
    fbshipit-source-id: 2a78900cec680193acfa57be74686f1f5389e731

commit d8369468764f877ad32d43fcd435bdde43e6bb88
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Tue Oct 4 05:59:56 2016 -0700

    Use new split disk cache producers if variations enabled
    
    Summary: This makes use of the new split up disk cache producers if the media variations experiment is enabled. A later diff will inject a new producer between them to attempt to find an alternative image in cache.
    
    Reviewed By: oprisnik
    
    Differential Revision: D3893225
    
    fbshipit-source-id: 8f8d0c4fefbdb0692462e3f7a222d95260bfae87

commit 15fdfe25106e02e8030bdc1a3e466872a96d7d3b
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Tue Oct 4 05:59:55 2016 -0700

    Create DiskCacheWriteProducer to write only
    
    Summary:
    This creates a new producer by taking only the parts of DiskCacheProducer which writes to the disk cache.
    
    This will provide the benefit of being able to place a fallback step in between write and read which may be able to read an alternative file from cache without having to force it into the existing producer.
    
    Reviewed By: massimocarli
    
    Differential Revision: D3886765
    
    fbshipit-source-id: a02b58660fcaec5b78c19e22ac7067029ad7b32c

commit 3f3b14cfbce3fc9d911c71f3686d0fd6b215bb85
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Tue Oct 4 05:59:54 2016 -0700

    Create DiskCacheReadProducer to read only
    
    Summary:
    This creates a new producer by taking only the parts of DiskCacheProducer which reads from the disk cache.
    
    This will provide the benefit of being able to place a fallback step in between write and read which may be able to read an alternative file from cache without having to force it into the existing producer.
    
    Reviewed By: massimocarli
    
    Differential Revision: D3886753
    
    fbshipit-source-id: dd7cd866176398ebd64af30f5d8e61f36ccad5d8

commit f956962a7ecfffc8fa34a3c863e9377c14fd8129
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Tue Oct 4 05:59:52 2016 -0700

    Load Media Variations sample images after layout
    
    Summary: Add the appropriate resize options for the thumb image requests in the sample app so that the images are appropriately resized.
    
    Reviewed By: massimocarli
    
    Differential Revision: D3771414
    
    fbshipit-source-id: fa8766b985d3cbbc563147506a4c31337d59abc1

commit d418641db6d6b7ba7c50d716dad37266263126e4
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Tue Oct 4 05:59:51 2016 -0700

    Create sample app for media variations
    
    Reviewed By: oprisnik
    
    Differential Revision: D3564415
    
    fbshipit-source-id: a99fe98393c95a56b7f55ac2534da77a0c93ba53

commit 2a788601ac6eb67ddf594584e1ea6fbc7f7cd3d8
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Tue Oct 4 05:59:50 2016 -0700

    Add experiment for using MediaVariations
    
    Summary: This adds an experimental image pipeline config option to enable the use of MediaVariations within image requests.
    
    Reviewed By: massimocarli
    
    Differential Revision: D3558314
    
    fbshipit-source-id: 4b724e8ee0a94b6d567f69e4981650d8c2ff745c

commit 3f851dbf1369b7d381eec89307b16e3a81857f5e
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Tue Oct 4 05:59:48 2016 -0700

    Create MediaVariations
    
    Reviewed By: massimocarli
    
    Differential Revision: D3528114
    
    fbshipit-source-id: 294fbdb7df16d9849a67a8e760a6a2a754434684

commit 4923dfd79def45eff5584db573df5cdaac956477
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Tue Oct 4 03:38:09 2016 -0700

    Update version number to 0.14.1 in the readme
    
    Summary: Updates the version to 0.14.1 in the Github readme following the latest release.
    
    Reviewed By: aagnes
    
    Differential Revision: D3945041
    
    fbshipit-source-id: be6540ffee1513eb9002a2dfb0a92431cfaab624

commit 1469512e84394b352405a1d26b92fe4eb5760a8b
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Mon Oct 3 12:10:12 2016 -0700

    ] DefaultImageDecoder now supports custom decoders for certain formats
    
    Summary: You can now supply custom decoders to ImageDecoder.
    
    Reviewed By: massimocarli
    
    Differential Revision: D3893228
    
    fbshipit-source-id: b70c9652ae508b69c8cd2d7b34804930290d147f

commit 6480c95e2d02f9688dd4b4fe647952e40488cea9
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Mon Oct 3 11:44:41 2016 -0700

    Added debug overlay to demo application
    
    Summary: The demo app now has a toggle to enable/disable the debug overlay for images
    
    Reviewed By: kirwan
    
    Differential Revision: D3930311
    
    fbshipit-source-id: 93b747fb050908654cb0ef9f0eb0441b4e117a5f

commit a3aa7f0110be07f18786d0cbc396cf337853026a
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Mon Oct 3 09:42:39 2016 -0700

    Added debug overlay for PipelineDraweeController
    
    Summary: It is now possible to display a debug overlay that shows additional information, like image dimensions, size, drawable dimensions etc.
    
    Reviewed By: kirwan
    
    Differential Revision: D3900327
    
    fbshipit-source-id: f2deea1c929a71009d0d7203f54791c14cd8d3e4

commit 75db508784ae24e6c41221246667134364488566
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Mon Oct 3 07:33:28 2016 -0700

    Implement ImageRequest#toString
    
    Summary:
    After this change, the `toString` method of `ImageRequest` outputs the most-important member fields such as the uri and the decode, rotate and resize options. I've put `uri` first, as it usually is the most important one. The others follow in alphabetical order.
    
    Sample output from the scrollperf sample app:
    
    ```
    10-03 13:54:20.311 19554 19554 W FOO     : ImageRequest{uri=content://media/external/images/media/26, cacheChoice=DEFAULT, decodeOptions=100-false-false-false-false, postprocessor=null, priority=HIGH, resizeOptions=1440x1080, rotationOptions=0 defer:false}
    10-03 13:54:20.311 19554 19554 W FOO     : ImageRequest{uri=content://media/external/images/media/27, cacheChoice=DEFAULT, decodeOptions=100-false-false-false-false, postprocessor=null, priority=HIGH, resizeOptions=1440x1080, rotationOptions=0 defer:false}
    10-03 13:54:20.321 19554 19554 W FOO     : ImageRequest{uri=content://media/external/images/media/28, cacheChoice=DEFAULT, decodeOptions=100-false-false-false-false, postprocessor=null, priority=HIGH, resizeOptions=1440x1080, rotationOptions=0 defer:false}
    10-03 13:54:22.141 19554 19554 W FOO     : ImageRequest{uri=content://media/external/images/media/29, cacheChoice=DEFAULT, decodeOptions=100-false-false-false-false, postprocessor=null, priority=HIGH, resizeOptions=1440x1080, rotationOptions=0 defer:false}
    10-03 13:54:23.131 19554 19554 W FOO     : ImageRequest{uri=content://media/external/images/media/30, cacheChoice=DEFAULT, decodeOptions=100-false-false-false-false, postprocessor=null, priority=HIGH, resizeOptions=1440x1080, rotationOptions=0 defer:false}
    ```
    
    Reviewed By: kirwan
    
    Differential Revision: D3960792
    
    fbshipit-source-id: 1ae57ed3f5905f783ba93dd07e79703ff99067d3

commit 5313c66ff9495699cddc7aefa32e6b2452d796da
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Mon Oct 3 06:52:48 2016 -0700

    Added ImageDecoder interface and default implementation
    
    Summary:
    Added a new `ImageDecoder` interface, which can be used to add custom decoding capabilities for certain `ImageFormat`s.
    The default implementation (previously called `ImageDecoder`) now implements the new interface instead.
    
    Reviewed By: massimocarli
    
    Differential Revision: D3886625
    
    fbshipit-source-id: 2dc66f675e017557b43435592e233bb45a5350c3

commit f5ab8633e24a61f2ece69c98096553a6f5cfb6ff
Author: Massimo Carli <maxcarli@fb.com>
Date:   Mon Oct 3 04:18:38 2016 -0700

    Restoring transcoding to PNG option for simple and enhanced webp
    
    Reviewed By: oprisnik
    
    Differential Revision: D3960527
    
    fbshipit-source-id: ee7b84e156e13c2a7768d931e8cc8608a641d060

commit d36a93adee541532d321d85e998ad19b696ec018
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Fri Sep 30 09:59:50 2016 -0700

    Use appcompat in demo sample app
    
    Summary: The demo app should extend appcompat so that we can for example re-use the same restart dialog as for the scrollperf app
    
    Reviewed By: massimocarli
    
    Differential Revision: D3943973
    
    fbshipit-source-id: 590c3c7c4f67ec45f2869cde675a0c7413499bf1

commit 13ff68fed14569929b979eb2fc4535b91087d8fb
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Fri Sep 30 07:54:34 2016 -0700

    Upgrade Bintray Gradle plugin to 1.7.1
    
    Summary:
    Updates the Bintray plugin we use to publish artifacts.
    
    Also makes use of the new override option to enable us to re-run the publishing following a failure mid-way.
    
    Reviewed By: oprisnik
    
    Differential Revision: D3950859
    
    fbshipit-source-id: 9ae3f10e4a81bd96ecbcce6f144be028d02f53ff

commit c6f3ee744f503ae1005975246ce2adfae131463c
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Thu Sep 29 13:18:57 2016 -0700

    Bumped version to 0.14.1
    
    Summary: This bumps the version to 0.14.1 for a patch release after a regression was found in 0.14.0.
    
    Reviewed By: oprisnik
    
    Differential Revision: D3945017
    
    fbshipit-source-id: c35f9571430f1d5d58f28e176652876798a2291e

commit 9b7d33a6f7c920df6e2ad5511ee391015fbd863c
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Thu Sep 29 05:51:30 2016 -0700

    Fast Native Blur: Make post proccessor cacheable
    
    Summary:
    This diff adds the `getCacheKey` method to the post processor allowing the result to be cached. It returns cache keys unique to the post processor configuration of the format
    
    ```
    i{mIterations}r{mBlurRadius}
    ```
    
    Reviewed By: kirwan
    
    Differential Revision: D3943307
    
    fbshipit-source-id: 2408a46a69b9bc9bbf4089fe3f77a704959c5cd3

commit ed315da6cac84d27a88b342610be0facd38f5730
Author: Jamie Eisenhart <jamieei@fb.com>
Date:   Wed Sep 28 13:56:52 2016 -0700

    Add SHA-256 to SecureHashUtil
    
    Reviewed By: kirwan
    
    Differential Revision: D3934042
    
    fbshipit-source-id: 683585ca54aa1a5077b0416a0473cbbf0b95800e

commit 573986ac0530300a42941534898b534234745c24
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Wed Sep 28 11:22:08 2016 -0700

    Fix Precondition failure due to unknown image rotation
    
    Summary: This fixes a bug where an image's rotation angle may not be read (following a failure to load the image dimensions) with this resulting in a precondition failure inside ResizeAndRotateProducer#TransformingConsumer.
    
    Reviewed By: massimocarli
    
    Differential Revision: D3936772
    
    fbshipit-source-id: c53d6a53d439104c5d044d8a276c8bdf22087f70

commit 6561b7b99746339c832c008b107afa267f339658
Author: Massimo Carli <maxcarli@fb.com>
Date:   Wed Sep 28 04:36:34 2016 -0700

    Added permission check for local images
    
    Summary:
    We have added the request for permission when accessing local photo on Android > =6.0
    {F63728011}
    
    Reviewed By: oprisnik
    
    Differential Revision: D3930643
    
    fbshipit-source-id: c44f70534be397ce24153fa248f76cf232c718e6

commit 3751d1c20a025b365a6ff61df7a838a8fef3d7b2
Author: Massimo Carli <maxcarli@fb.com>
Date:   Wed Sep 28 03:26:25 2016 -0700

    Settings for decoding threads in scroll perf demo app
    
    Summary:
    Is is now possible to select the number of thread to use for decoding into the preferences
    
    {F63724671}
    {F63724673}
    
    Reviewed By: kirwan
    
    Differential Revision: D3924737
    
    fbshipit-source-id: c862c2c6f25c7f8860cea1de8eca3b81b0c2b66c

commit 2cf4f9d0dfd8a690c42ed50765efbba787f9c21f
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Tue Sep 27 02:52:05 2016 -0700

    Fast Native Blur: Add post processor
    
    Summary: This diff adds a `PostProcessor` that allows to use the introduced native blur filter
    
    Facebook: This is mainly for avoiding that we have different post processors internally and for open-source react native.
    
    Reviewed By: plamenko
    
    Differential Revision: D3924013
    
    fbshipit-source-id: 6b72588c852956bd0ed7c4fe4778090ef0380e68

commit 50aad945e8ce3e703aac18260dd7c46fce1546c3
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Tue Sep 27 02:52:04 2016 -0700

    Fast Native Blur: Implementation of the algorithm
    
    Summary:
    This change introduces a native blurring algorithm based on an iterative box blur. While it is also very fast, it's main advantage is it very small memory consumption that allows it to work (almost) in-place.
    
    This implementation's runtime is **O(iterations * width * height)**. It's memory boundary is **O(radius + max(width, height))** with small factors and constants.
    
    A na√Øve box blur would create the output image by applying a uniform kernel. Example for 3x3 blur filter kernel (r=1):
    
    ```
             1 1 1
    1/9 *  [ 1 1 1 ]
             1 1 1
    ```
    
    This implementation does use some tricks to prevent the bad runtime behaviors that come with the na√Øve approach:
    
     - The box blur is split up into a horizontal and vertical blur (see "Wojciech Jarosz. 2001" for background)
     - Splitting up into a horizontal and vertical blur then allows to just have a temporary copy for the current row or column
     - We use a pre-computed division table `div` that is increasing the speed significantly as divisions are expensive operations
    
    An iterative box blur does quickly approximate a Gaussian blur. The difference after 3 iterations is very close to the exact result of a Gaussian filter (convolution).
    
    Reviewed By: plamenko
    
    Differential Revision: D3906724
    
    fbshipit-source-id: 7b4745f347f8392e983e6d5fc8ed13215cf1b1fc

commit e7bddbedfc039c6cb61cca913f5d614f5af5c7c0
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Tue Sep 27 02:52:01 2016 -0700

    Fast Native Blur: Boilerplate code
    
    Summary: This diff adds required code for implementing a native blur filter. The actual implementation will happen in the subsequent change to keep both separated.
    
    Reviewed By: massimocarli
    
    Differential Revision: D3900758
    
    fbshipit-source-id: f58c34606e0be0f96b81a7fbbdad9a01066f6be3

commit 8804335ee90e093949f7ad2edb8d327097672c04
Author: Massimo Carli <maxcarli@fb.com>
Date:   Mon Sep 26 05:53:06 2016 -0700

    Wrong namespace in preferences fixed
    
    Summary: Wrong namespace in preferences fixed
    
    Reviewed By: oprisnik, balazsbalazs
    
    Differential Revision: D3923350
    
    fbshipit-source-id: a431f32b5471be2afab30894f92022990a12948a

commit c122f6222ed81ca01712c1d3b4b62723e9daada5
Author: Massimo Carli <maxcarli@fb.com>
Date:   Mon Sep 26 05:34:12 2016 -0700

    Theme removed for Toolbar
    
    Summary: Removed theme in compatibility library for Toolbar
    
    Reviewed By: balazsbalazs, oprisnik
    
    Differential Revision: D3923347
    
    fbshipit-source-id: 8d9fb4788c830e3cdb3eac24e0545ec8c20e653d

commit 34263c345511c2fd3fc821299e9d17f561774b50
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Mon Sep 26 03:38:39 2016 -0700

    Added ImageFormat.FormatChecker
    
    Summary: Added `ImageFormat.FormatChecker`, so that we can add new format checkers for new types
    
    Reviewed By: kirwan
    
    Differential Revision: D3886653
    
    fbshipit-source-id: 5fdc0f0f9abc05274ccbebd991550cecdd9ef6db

commit cb2cdc3c49f8cbb5911fd42ca05ae92a0ea2d9cb
Author: eldk <webmaster@opalesurfcasting.net>
Date:   Mon Sep 26 02:36:19 2016 -0700

    Update README.md : push version to 0.14.0
    
    Summary:
    Update version to last release : 0.14.0
    Closes https://github.com/facebook/fresco/pull/1477
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D3923197
    
    Pulled By: kirwan
    
    fbshipit-source-id: 611b0255b9be658d4cc2f9e2ca9fb1eea22e05ff

commit cfdd53803946c9b8648cb086950c8e603704831b
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Sat Sep 24 08:14:20 2016 -0700

    WebP transcoding: throw exception directly
    
    Summary: Instead of using a `Precondition`, we can throw an exception instead.
    
    Reviewed By: massimocarli
    
    Differential Revision: D3899760
    
    fbshipit-source-id: 821e9470c5bb7217886cf2e84b53c1cc9e8e4010

commit 36096b1a573957476dd4638b8a56c500525ee6cf
Author: Chris Hopman <cjhopman@fb.com>
Date:   Fri Sep 23 20:37:11 2016 -0700

    Fix unused params in fresco
    
    Reviewed By: mzlee
    
    Differential Revision: D3858488
    
    fbshipit-source-id: d8a410b954c01964131b5cf3c403584cb1dd976b

commit ac3267a73009eca3ee2882737ab1665f4c8590f2
Author: Waseem Ahmad <waseemahmad@fb.com>
Date:   Fri Sep 23 16:50:12 2016 -0700

    Avoid invalidation when focus point and scale type have not changed
    
    Reviewed By: kirwan, IanChilds
    
    Differential Revision: D3909925
    
    fbshipit-source-id: e2eebf82a0d5b74d7596372bc01b4b5db6f0c5ec

commit 0a769fded38c4adcc8f09f1998758e74c65d8b5c
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Fri Sep 23 11:49:52 2016 -0700

    Converted ImageFormat from an enum to a class
    
    Summary: In order to be able to add new image formats, it needs to be a class.
    
    Reviewed By: kirwan
    
    Differential Revision: D3827843
    
    fbshipit-source-id: 17074e2a44fbd3358c891733ad79bfe9ef27963b

commit 2253789004c8fa0d90272ed0a9b726c9ab0d7a8d
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Fri Sep 23 10:25:15 2016 -0700

    Fixed Bintray dryRun flag
    
    Summary: We should be able to do a dry run first.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D3913796
    
    fbshipit-source-id: ee8113ca714eeb87f1af8e6baeac734b4614ccf8

commit c79681963b4df96d72084dde1c43d1388325559e
Author: Massimo Carli <maxcarli@fb.com>
Date:   Fri Sep 23 06:55:16 2016 -0700

    Added Grid layout
    
    Summary:
    Added Grid layout option in RecyclerView. The setting is enabled only when the RecyclerView with Grid layout is set
    {F63605380}
    {F63605383}
    {F63605384}
    {F63605385}
    
    Reviewed By: oprisnik
    
    Differential Revision: D3893839
    
    fbshipit-source-id: 3726ddd17dffe36466be22b2234788e5345564d8

commit dadd83cd5b952438ab71a0874569a0ff413d116e
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Fri Sep 23 06:40:44 2016 -0700

    Upgraded version to 0.14.0
    
    Reviewed By: kirwan
    
    Differential Revision: D3913501
    
    fbshipit-source-id: 91b857594dd9502a6cfe95a77e7cdf324eff3580

commit 8a55f17689e00309647584231d1cee527d61e391
Author: Massimo Carli <maxcarli@fb.com>
Date:   Fri Sep 23 06:16:57 2016 -0700

    Build with gradle fixed
    
    Summary: Added missing color for error
    
    Reviewed By: oprisnik
    
    Differential Revision: D3913503
    
    fbshipit-source-id: bb2b65108687d68341efec77faa4045d0fcb71ce

commit 2f18df41df70a6aec0b36116efba148af659d22c
Author: Massimo Carli <maxcarli@fb.com>
Date:   Fri Sep 23 05:59:55 2016 -0700

    Added consts for DataSource values
    
    Summary: Used constants for String related to DataSource configuration values
    
    Reviewed By: kirwan
    
    Differential Revision: D3899583
    
    fbshipit-source-id: f04cf3a6c351cb24ce49b325edd6d76d2990d0da

commit 8139f9c246e78c51690c73c615c55d7eebf750fc
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Fri Sep 23 03:28:14 2016 -0700

    Updated demo app grid layout to Material Design specs
    
    Summary:
    The demo app didn't have any image padding, which made it hard to see where individual grid items end.
    I've updated the specs to have a 4dp grid list padding between items according to [1].
    However, I made the overlay top and bottom padding just 8dp instead of 16dp so that you see more of the actual image.
    I have also added a white background so that you see the actual bounds vs the image bounds.
    
    [1] https://material.google.com/components/grid-lists.html#grid-lists-specs
    
    Reviewed By: kirwan
    
    Differential Revision: D3907630
    
    fbshipit-source-id: bcfbfad266d36d0bcd7bbb136ad9c88f1e0b73b6

commit d9e8f4d3a8b5a72f333f24354171c5c64a032705
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Thu Sep 22 07:56:01 2016 -0700

    Remove inline comments in gradle.properties
    
    Summary: In `gradle.properties` inline comments are interpreted as part of the value string causing the build to fail.
    
    Reviewed By: kirwan
    
    Differential Revision: D3907201
    
    fbshipit-source-id: c9480d69a81d8fe940065bc70a150c6beadccbd4

commit a4c8b7d5ea4a52d7b2bb5d0e3e42bc7800c303e9
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Thu Sep 22 07:03:10 2016 -0700

    Update Circle CI if build tools are missing
    
    Reviewed By: kirwan
    
    Differential Revision: D3906909
    
    fbshipit-source-id: 452d7d977da7324714dfa5b9df784ecd81815abf

commit 554530468d218b6d9abd7f66a8821b08d7af4b03
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Thu Sep 22 03:34:24 2016 -0700

    Fixed potential NPE for DraweeConfig without custom drawable factories
    
    Summary: `ImmutableList.copyOf` does not support `null` as a parameter.
    
    Reviewed By: massimocarli
    
    Differential Revision: D3900303
    
    fbshipit-source-id: a6723583317f16bf16c41969f41a32bfb23546c7

commit b74da9e78f47db5baaba419f2fea606607d6cb4b
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Wed Sep 21 06:14:27 2016 -0700

    UI cosmetics for the scrollperf sample app (padding and colors)
    
    Summary: After this (cosmetic) changes, the scroll perf app looks a bit more cleaned up. It adds padding and the borders are thicker and using the primary color from the `colors.xml`.
    
    Reviewed By: massimocarli
    
    Differential Revision: D3892965
    
    fbshipit-source-id: 6ae37d05f3bb4d83e4a050fe79167f66896b26b0

commit 9f9bd143a2a0a01868e44823dd8a59c2a72bd459
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Wed Sep 21 03:04:56 2016 -0700

    Reduce fade duration in scrollperf sample app
    
    Reviewed By: massimocarli
    
    Differential Revision: D3892960
    
    fbshipit-source-id: 39dd287bd0189fe8a627691188f91547595835db

commit 05fae0837124b45983a9bc205509a5284c607b94
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Tue Sep 20 10:28:43 2016 -0700

    Update compile target, build tools and support to 24.x and clean up
    
    Summary:
    After this change, the Fresco library builds with the newest SDK target and uses the latest support libraries. I've taken the opportunity to remove unneeded references to the support library.
    
    As the support library got split up in 24.2.0 (see https://developer.android.com/topic/libraries/support-library/revisions.html#24-2-0-v4-refactor), I've used the smaller targets where appropriate. I did not update references in tests.
    
    Tested that everything builds:
    
    ```
    ./gradlew clean build test
    ```
    
    Verified sample apps run correctly:
     - animations
     - scrollperf
     - uriapp
    
    Reviewed By: massimocarli
    
    Differential Revision: D3892811
    
    fbshipit-source-id: 78ee9b9a870d32eec65b3e366fdc0a758048cbad

commit f09bd27a30a8e7272fb1bd8ca576b0a6b41ca392
Author: Massimo Carli <maxcarli@fb.com>
Date:   Tue Sep 20 06:00:06 2016 -0700

    Added Resize options
    
    Summary:
    We have added the settings in order to override the size of each image
    {F63554600}
    {F63554602}
    
    Reviewed By: oprisnik
    
    Differential Revision: D3887004
    
    fbshipit-source-id: 0c7a4ace5208ce1f5f08c367b4babcf2349e1e5a

commit ec9dbde4e25a7c5e6c2220504723d1b1b3d674a1
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Mon Sep 19 09:51:31 2016 -0700

    Removed unnecessary interface modifiers for AnimatedImageFactory
    
    Summary: We don't need `public` for interface methods.
    
    Reviewed By: kirwan
    
    Differential Revision: D3886704
    
    fbshipit-source-id: 134e59104e846200eb0ddcbebe39bfbf86eeca73

commit f239383a12eda6418adee34906a6ef75bec691e6
Author: Massimo Carli <maxcarli@fb.com>
Date:   Mon Sep 19 06:47:23 2016 -0700

    Added downsampling option
    
    Summary:
    A new option in order to enable downsampling has been added.
    {F63548577}
    
    When the option changes a restart of the application is needed
    {F63548848}
    
    Reviewed By: kirwan
    
    Differential Revision: D3886194
    
    fbshipit-source-id: de0e1200fb67e9fda3eb90adc91e5e439cd232ed

commit 2b614b1f06d8e8a045938aa6f73ecbcb5806c893
Author: Massimo Carli <maxcarli@fb.com>
Date:   Mon Sep 19 05:49:35 2016 -0700

    Fixed infinite decorator for empty adapter
    
    Summary: The Infinite decorator for an empty decorator is still an empty decorator
    
    Reviewed By: kirwan
    
    Differential Revision: D3886206
    
    fbshipit-source-id: 46d11d770a5a054c95f5f5cd02c346245d50947f

commit ef9ff9208bf3126269d7412f376423808cf2355f
Author: Massimo Carli <maxcarli@fb.com>
Date:   Mon Sep 19 04:20:38 2016 -0700

    Removed useless String allocations
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D3885952
    
    fbshipit-source-id: c6b5864f93065efeb7066e726c6d776cfa21fa2a

commit 84aeab6895f3177cee473e85656cf898112f263f
Author: Massimo Carli <maxcarli@fb.com>
Date:   Fri Sep 16 11:06:46 2016 -0700

    Created Experiment for PNG transcoding option
    
    Reviewed By: aagnes
    
    Differential Revision: D3849874
    
    fbshipit-source-id: 812da043e13c0ce9e3d49ae129bbd5ec4ff67d15

commit 6efeb9575c9d98bf73a244103f7e5c8587699a66
Author: Massimo Carli <maxcarli@fb.com>
Date:   Thu Sep 15 08:19:01 2016 -0700

    Fix about animated webp dependency
    
    Summary:
    If the animated-webp dependency is not present the app failed.
    Closes #1462
    
    Reviewed By: kirwan
    
    Differential Revision: D3835276
    
    fbshipit-source-id: f0b6e5935d2ed32e4a19144e02c0cb340f5b33c4

commit dd82d7f5dd0f82df0954eb53aef537f7d91b1e74
Author: Taeho Kim <jyte82@gmail.com>
Date:   Wed Sep 14 11:39:22 2016 -0700

    Configure max bitmap size, roundup fraction by ResizeOptions
    
    Summary:
    Added `maxBitmapSize`, `roundUpFraction` to `ResizeOptions`, making these options can be configurable by user.
    
    See also: #840
    Closes https://github.com/facebook/fresco/pull/1461
    
    Reviewed By: aagnes
    
    Differential Revision: D3856025
    
    Pulled By: oprisnik
    
    fbshipit-source-id: b938b7730ad1d83588e143cf0e272e893fb2a987

commit e7bc501266e03f2c5b146953a7041c041d4aa31c
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Wed Sep 14 06:29:31 2016 -0700

    Simplified static constructor methods
    
    Reviewed By: aagnes
    
    Differential Revision: D3856383
    
    fbshipit-source-id: cbeeeadfe14754dca5fdd1fd1d23544d9b652896

commit 5c0f9d678c3524fc223e6cb0f3f3ae49c851a698
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Wed Sep 14 06:29:30 2016 -0700

    Enable rotation of network images without resizing
    
    Summary:
    The ResizeAndRotateProducer was previously excluded from the producer sequence if resizing of remote image was disabled in the image pipeline config.
    
    This includes it in the sequence but revises (and reverses the purpose of) a previous mDownsampleEnabled flag to mResizingEnabled.
    
    Reviewed By: massimocarli
    
    Differential Revision: D3856379
    
    fbshipit-source-id: f45234c9ea6b5b0738b46e191e631894b47060cd

commit 4bbd242b4a66038f0fa39075e9d0277544919877
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Wed Sep 14 06:29:29 2016 -0700

    Add RotationOptions to scroll perf sample app
    
    Summary:
    This adds options to the scroll perf sample app to manipulate the RotateOptions for each request.
    
    The options are to take the metadata rotation or force a rotation angle.
    
    Reviewed By: oprisnik
    
    Differential Revision: D3842846
    
    fbshipit-source-id: f335582ceed456f112fb41c24919e7508c8af167

commit b3f8c267a3d52ac115bdd8e4a839c5a221855165
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Wed Sep 14 06:29:27 2016 -0700

    Defer rotation until rendering if appropriate
    
    Summary:
    This diff checks whether image rotation can be deferred so that the work can be saved if resizing is not necessary.
    
    This completes the implementation of RotationOptions.
    
    Reviewed By: oprisnik
    
    Differential Revision: D3828958
    
    fbshipit-source-id: 42c6c9a584ce2fbc19b17c32c6eff078fe2298cb

commit 6c1cc1d0072928b37206a3772de7d16578f20342
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Wed Sep 14 06:29:26 2016 -0700

    Include ResizeAndRotateProducer even when downsampling
    
    Summary:
    This includes the ResizeAndRotateProducer in the producer sequence even if downsampling is turned on, though it won't do any resizing.
    
    This enables rotation to be done in the pipeline as expected.
    
    Reviewed By: massimocarli
    
    Differential Revision: D3822396
    
    fbshipit-source-id: 06a577ce8182583061569a9f47123e8b5d3ae679

commit 34551e93442a33f23d0eac70e708a3c7b9d2dd27
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Wed Sep 14 06:29:26 2016 -0700

    Improve code reuse in ResizeAndRotateProducerTest
    
    Summary:
    This more clearly breaks up helper methods in ResizeAndRotateProducerTest and makes more use of them.
    
    This is useful for the upcoming addition of tests to cover the situations where downsampling is enabled.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D3827966
    
    fbshipit-source-id: 53ee85fcb6d6c318302231906faec69272de37b6

commit 36dd783deed7299ecf16b37a2d56cc66d07fb637
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Wed Sep 14 06:29:25 2016 -0700

    Replace ImageRequest's auto-rotate flag with RotateOptions
    
    Summary:
    This replaces the auto-rotate flag in ImageRequest with an object allowing for more control.
    
    Options include forcing rotation of 0, 90, 180 or 270 degrees or taking the EXIF metadata.
    
    RotateOptions also incude an option to defer rotation until the bitmap is rendered, as drawee supports this.
    
    ImageRequestBuilder.setAutoRotateEnabled(boolean) is now deprecated and creates default RotateOptions to use the EXIF data.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D3598921
    
    fbshipit-source-id: 832f47442af749f156f95c7e713b9916628fdf8a

commit 27ebf577e7dd716ad00ea6ab0b31d94ce1379f9c
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Wed Sep 14 03:30:45 2016 -0700

    Add GC to uriapp sample to enable simple checks for unclosed references
    
    Summary: After seeing an unexpected regression related to CloseableReferences being finalized after mergin PR #1454 this adds a really simple extra check to the uriapp so that we can manually check the common cases.
    
    Reviewed By: oprisnik
    
    Differential Revision: D3856064
    
    fbshipit-source-id: 6a9eda461de11054832089e2c4a4bbb6b7651157

commit 4924b892fe1e6b4574b9e55f1fbe0a54ec0a39f7
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Tue Sep 13 09:01:16 2016 -0700

    Added @ColorInt to RoundingParams colors
    
    Summary:
    We should make it clear that the colors passed to `RoundingParams` should be color ints instead of resources.
    
    Our documentation for this was using color resource IDs as well, which was wrong. I've already fixed that.
    
    See also https://github.com/facebook/fresco/issues/1436
    
    Reviewed By: kirwan
    
    Differential Revision: D3856161
    
    fbshipit-source-id: fc5e0c44db5c8cba52506fb2f1695f98a9ca269a

commit b47d4e17cd13a7f4010165c815eb62c8646bf94d
Author: Massimo Carli <maxcarli@fb.com>
Date:   Tue Sep 13 05:44:23 2016 -0700

    Added DefaultConfig into ImagePipelineConfig
    
    Summary: We added the option to enabled the progressive JPEG options to all the requests.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D3842062
    
    fbshipit-source-id: c952351f9023063a0a9c91f54015857635e2a007

commit f0b3685b6681f0e252c3c29ccf076208eda1afde
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Tue Sep 13 02:39:49 2016 -0700

    Checked in code style settings for Fresco project
    
    Summary:
    This checks in the file that controls the code style when using IntelliJ or Android Studio.
    
    This is desirable due to the Facebook style being a little non-standard (at least in terms of indentation) which results in unecessary effort to fix the formatting of PRs, either by the original author or by the importer.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D3822098
    
    fbshipit-source-id: fa086c1129f3bd1de248e1f9e7f73c058cfbe457

commit 401e779619dd5a2d46c050621b1fc5308d2d62c3
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Mon Sep 12 11:48:36 2016 -0700

    Extract common extra map constants and make producer names public
    
    Summary: As some tooling and logging can rely on producer names in the `RequestListener`, we should make the producer names public. This makes it easier for the client application to be kept in-sync with changes of the producers or fail early during compiling.
    
    Reviewed By: massimocarli
    
    Differential Revision: D3841676
    
    fbshipit-source-id: 88ef24f07a19604ea7934c8dab388ff10a6bc687

commit 8c361eda7ffbc9fc36671bd85baec77158a3ecc6
Author: Massimo Carli <maxcarli@fb.com>
Date:   Mon Sep 12 03:41:04 2016 -0700

    Added SoftErrors to WEBP decoding
    
    Reviewed By: kirwan
    
    Differential Revision: D3821425
    
    fbshipit-source-id: b65b749538b02ce0ce7dcbce026e6c61aa78b900

commit 36bc19d31757682f698b20feaf1aeca0536a2152
Author: Jie Wang <jiew@fb.com>
Date:   Sun Sep 11 06:37:12 2016 -0700

    Remove unnecessary lock from DiskCache
    
    Summary:
    `maybeUpdateFileCacheSize()` is a quite expensive operation. Most of the disk read actually don't need lock on it. Will address in the following diff.
    
    The purpose of this diff is to remove unnecessary lock from `maybeUpdateFileCacheSize` and `maybeDeleteSharedPreferencesFile`.
    
    Reviewed By: kirwan
    
    Differential Revision: D3841533
    
    fbshipit-source-id: ef0ca0406812537c54041e63da81df1801481114

commit f45ea930a7131822285542127df2ae2265136bac
Author: Junkun <junkun.hjk@alibaba-inc.com>
Date:   Fri Sep 9 09:03:21 2016 -0700

    Reverted commit D3821893
    
    Summary:
    Fix:closeableObject could be closed unsafely in MultiplexProducer.Multiplexer#onNextResult
    
    > Issue: https://github.com/facebook/fresco/issues/1453
    Closes https://github.com/facebook/fresco/pull/1454
    
    Reviewed By: oprisnik
    
    Differential Revision: D3821893
    
    Pulled By: kirwan
    
    fbshipit-source-id: cbee7a4123699c6f99584e6ac66c62c21aeb255e

commit 04636bbdd9d94c0f2a071b063105163b4e1a4179
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Thu Sep 8 02:51:20 2016 -0700

    Allow for fetching local encoded images
    
    Summary: Before this diff, one could only fetch encoded images from the network (i.e. http/https). However, there are use-cases where fetching through the pipeline is convenient. Examples are: it's already in the encoded cache and saves us a disk access or we want to leverage the Fresco webp to jpeg transcoding. Furthermore, this makes the imagepipeline a bit more transparent to use.
    
    Reviewed By: kirwan
    
    Differential Revision: D3827789
    
    fbshipit-source-id: ab34347ba4fde5dce39b7de5483be82cde08a510

commit debb9232b19df2beb76a25bef96d2ca5adf26eed
Author: Bijoy Kochar <bijoysingh@fb.com>
Date:   Wed Sep 7 12:09:54 2016 -0700

    Adding BitmapFactory sample application
    
    Reviewed By: kirwan
    
    Differential Revision: D3820706
    
    fbshipit-source-id: 23bcdbea3bdf1deaa30b3850331eaf7b073cd50a

commit b212c84f1e3f5d7770b7ac330b3022975968e891
Author: Bijoy Kochar <bijoysingh@fb.com>
Date:   Wed Sep 7 12:09:53 2016 -0700

    Adding additional createBitmap functions
    
    Reviewed By: kirwan
    
    Differential Revision: D3804792
    
    fbshipit-source-id: 7127907849a079a896cd63b7a39e36b2ba673af2

commit 2a2315424e803e028f79cfd9d1214133167a00d7
Author: Bijoy Kochar <bijoysingh@fb.com>
Date:   Wed Sep 7 12:09:51 2016 -0700

    Adding Support PlatformBitmapFactory.create functions
    
    Reviewed By: kirwan
    
    Differential Revision: D3797727
    
    fbshipit-source-id: 713aef9918cec960f5b8610b6e9f4c3d6ebdfa8d

commit 32c2262de52d23f18c9225e181bf3d9243ba62ae
Author: Junkun <junkun.hjk@alibaba-inc.com>
Date:   Wed Sep 7 09:12:36 2016 -0700

    closeableObject could be closed unsafely in MultiplexProducer.Multiplexer#onNextResult
    
    Summary:
    Fix:closeableObject could be closed unsafely in MultiplexProducer.Multiplexer#onNextResult
    
    > Issue: https://github.com/facebook/fresco/issues/1453
    Closes https://github.com/facebook/fresco/pull/1454
    
    Reviewed By: oprisnik
    
    Differential Revision: D3821893
    
    Pulled By: kirwan
    
    fbshipit-source-id: a675f418692febc567fe67584e078a72bfd8490b

commit 8c19c0173dec937cbb9b36000e1d1050bfec6d4e
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Wed Sep 7 09:10:04 2016 -0700

    Updated Zoomable sample app to show how to allow / prevent swiping while zoomed
    
    Summary: You can now select whether swiping should be allowed while zoomed.
    
    Reviewed By: kirwan, massimocarli
    
    Differential Revision: D3822167
    
    fbshipit-source-id: 95359c3c8f86906820d6a82e3452bd5f6afcaff0

commit 6245fd140256d7601092fedf1f71aa302864337a
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Wed Sep 7 09:10:01 2016 -0700

    Added option to ZoomableDraweeView to allow touch interception while zoomed
    
    Summary:
    It is now possible to select whether the parent should be able to intercept touch events while zoomed.
    This allows to implement a view pager that can swipe between images while zoomed.
    
    Reviewed By: massimocarli
    
    Differential Revision: D3822149
    
    fbshipit-source-id: e96d4ef5547135857bd0f8eabf4ac7eda2fcaceb

commit d9a3e6ea86497fcd706ec7dbb394c38fd4354d7c
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Wed Sep 7 05:36:13 2016 -0700

    Allow sample uri app to read from external storage
    
    Summary: Currently, the uri app does not allow fetching local images from external storage. However, this would very convenient for testing different images. After this change, one can use uris to such files (i.e. `file:///sdcard/Download/funnycat.gif`) in the uri sample app.
    
    Reviewed By: oprisnik
    
    Differential Revision: D3827799
    
    fbshipit-source-id: 54c636468f226cf5fd1bb5ebc00a909265245f40

commit 93d5a4c81c8b4b1bb9e5a1f874851969d06a3a0f
Author: Massimo Carli <maxcarli@fb.com>
Date:   Wed Sep 7 02:51:35 2016 -0700

    Added tests for Webp
    
    Summary: Added tests for Webp direct decoding experimental feature
    
    Reviewed By: kirwan
    
    Differential Revision: D3819190
    
    fbshipit-source-id: 2c7314e83037edacec70a79454c8370940b22906

commit 87bb8b692c64e4cf57726e8f4f0b564c3ffda38a
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Tue Sep 6 11:23:44 2016 -0700

    ZoomableController: Fix touch interception
    
    Summary:
    This fix allows the parent view to intercept touch events, which can be used, for example, to swipe between images in a `ViewPager` while the images are zoomed in.
    
    Big thanks to plamenko for coming up with this idea!
    
    Reviewed By: kirwan, plamenko
    
    Differential Revision: D3464158
    
    fbshipit-source-id: d71f8d9ce3d357a77368417dbcc508852585622d

commit d965f68109e542631b224581267eeecaa186b700
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Tue Sep 6 09:03:26 2016 -0700

    Added more and different images to zoomable sample app
    
    Summary: The zoomable sample app only had 3 images and all of them were the same.
    
    Reviewed By: massimocarli
    
    Differential Revision: D3821150
    
    fbshipit-source-id: 36c5d674fc8d0f435df6b4491f9fdfe4ae435c4e

commit 6519aed5e99ae4d30b52011ae6b952ee872a9980
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Tue Sep 6 05:57:49 2016 -0700

    Removed duplicate dependency for Zoomable sample app
    
    Summary: `compile project(path: ':samples:zoomable')` was there twice.
    
    Reviewed By: aagnes
    
    Differential Revision: D3821411
    
    fbshipit-source-id: 5c668da3c760aab18cbdb2af06e0ec7150d3b479

commit c83333404edfd9e7d87183e4bedafbd6f34a99c6
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Tue Sep 6 04:22:00 2016 -0700

    Adding support for custom Drawable factories
    
    Summary: It's now possible to supply different `DrawableFactories` to be used to create drawables for given images.
    
    Reviewed By: kirwan
    
    Differential Revision: D3752140
    
    fbshipit-source-id: 77f81cbc3d99c1b767206aa59d5c75989aef0225

commit a449d4676e728ec7278d38f1b71971c1dad55cf6
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Mon Sep 5 10:25:03 2016 -0700

    Don't log message for undefined EXIF rotation
    
    Summary: Currently, you will see Log.info entries `TiffUtil: Unsupported orientation` for each image with an undefined orientation - which is not true.
    
    Reviewed By: kirwan
    
    Differential Revision: D3819499
    
    fbshipit-source-id: b0917cb77c32c639fc2e72e65f8e157811b56c2a

commit 86912b0fdc9d2558b28cad86daf6ad3c574bb026
Author: Massimo Carli <maxcarli@fb.com>
Date:   Mon Sep 5 09:28:41 2016 -0700

    Implicitly modifiers removed
    
    Summary: Interface operations are implicitly public
    
    Reviewed By: oprisnik
    
    Differential Revision: D3819296
    
    fbshipit-source-id: 08eb6609513a1a5fceaa43dce618f1c5538d70da

commit 8cc7bc3934cb523599937cb712baf2d27cae2ed9
Author: Jie Wang <jiew@fb.com>
Date:   Mon Sep 5 07:34:45 2016 -0700

    Add CacheKey to logging in ImageCacheStatsTracker
    
    Summary:
    Add CacheKey in cache event, so that ImageCacheStatsTracker would be able to know which key trigger the hit event
    
    :Facebook
    We're interested in knowing which key trigger the hit event, so that we can add it in DB later
    
    Reviewed By: kirwan
    
    Differential Revision: D3757409
    
    fbshipit-source-id: d7a219240f3f8f22199741ded274e852e00e7ee8

commit b0232a630920a0900582d640c07aa841aabf26e4
Author: Jie Wang <jiew@fb.com>
Date:   Mon Sep 5 07:34:12 2016 -0700

    Add a new API to tell if in-memory index is ready
    
    Summary: In-memory index takes some time to fully initialized. Add a new method here if user really want to know when it's ready to use
    
    Reviewed By: massimocarli
    
    Differential Revision: D3669892
    
    fbshipit-source-id: 10b44415926d600294e10068c83b26474cc88aa5

commit 17e45f38c99cae624c95c2c250dcf249087b51bc
Author: Massimo Carli <maxcarli@fb.com>
Date:   Mon Sep 5 05:41:49 2016 -0700

    Fixed inBitmap flag usage in native code
    
    Summary: inBitmap flag management fixed in native code.
    
    Reviewed By: kirwan
    
    Differential Revision: D3777526
    
    fbshipit-source-id: bfb552ec2134bafa8ccdc0450911d9667f993b57

commit c610322d75697665825ba282c1159bfac919adc8
Author: Massimo Carli <maxcarli@fb.com>
Date:   Thu Sep 1 03:26:25 2016 -0700

    Added fix for Android 4.1.2
    
    Summary: On some devices < 4.1.2 we have to load the dependent library in order to avoid an UnsatisfiedLinkError.
    
    Reviewed By: kirwan
    
    Differential Revision: D3777728
    
    fbshipit-source-id: 1e3da5527f3f862371837be456dcdfd89a98992a

commit 7e2554e19417832dbf0788551b79eadafb5c0990
Author: Massimo Carli <maxcarli@fb.com>
Date:   Wed Aug 31 04:42:44 2016 -0700

    Merged animated-webp to static-webp
    
    Reviewed By: kirwan
    
    Differential Revision: D3763462
    
    fbshipit-source-id: b3c58771479c338a3addf01256d6e0429fa5a94d

commit c1032a0900bfdb76bb55030c6310473d73a046f0
Author: Jie Wang <jiew@fb.com>
Date:   Wed Aug 31 02:37:15 2016 -0700

    Use VERSION from gradle.properties in external demo app
    
    Summary: Use VERSION_NAME from gradle.properties in external demo app to prevent us from updating version number each release
    
    Reviewed By: kirwan
    
    Differential Revision: D3791505
    
    fbshipit-source-id: e14ea46ea962740261b9e13add591123ba351820

commit a96b4f5160518736bfe2f43ff66221ea578d09c2
Author: Jie Wang <jiew@fb.com>
Date:   Wed Aug 31 02:36:14 2016 -0700

    Remove MockBitmapFactory from CountingMemoryCacheTest
    
    Summary: Remove MockBitmapFactory from CountingMemoryCacheTest because it's not required. The purpose of the change is to fix CircleCI.
    
    Reviewed By: kirwan
    
    Differential Revision: D3797199
    
    fbshipit-source-id: 5f8cd879ded4ae366331af03751a0564cba985c1

commit 00e0ec05f3fae4636b2d8390ecc632de036dfb3e
Author: Jie Wang <jiew@fb.com>
Date:   Tue Aug 30 10:03:18 2016 -0700

    Change path of MainActivity in xml layout in demo app
    
    Summary: Change path of MainActivity in xml layout in demo app
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D3790935
    
    fbshipit-source-id: 668e3d2c65f5349b0e2c893784489fba3231a491

commit c58a87be2bb78d8d4b76f2ca7eee057d369b8fe1
Author: Jie Wang <jiew@fb.com>
Date:   Tue Aug 30 10:03:10 2016 -0700

    Change path of MainActivity in xml layout in uriapp
    
    Summary: Change path of MainActivity in xml layout in uriapp
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D3790996
    
    fbshipit-source-id: 78a7e3fd1dd14338d5414f26a1f3507d59b68c41

commit bb77b97ab60aadb3dfb80b46f1f44b8afb06d498
Author: Jie Wang <jiew@fb.com>
Date:   Tue Aug 30 10:03:01 2016 -0700

    Change path of MainActivity in xml layout in zoomableapp
    
    Summary: Change path of MainActivity in xml layout in zoomableapp
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D3790998
    
    fbshipit-source-id: 364c9bd4fd6df32ebae067681f1df1376d2adf77

commit f66dbdbe6c5286c1c0e52d76b2bdcb7f99826bcf
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Tue Aug 30 09:02:47 2016 -0700

    Add cache event when cache is cleared
    
    Summary: This adds an extra method to CacheEventListener, to be notified when the cache is cleared.
    
    Reviewed By: aagnes
    
    Differential Revision: D3709511
    
    fbshipit-source-id: dda78e51633b1ce9637e6385a047fc646fa5208c

commit 0da28efee9ab3df7ea678c6c251bac0143c3988c
Author: Jie Wang <jiew@fb.com>
Date:   Tue Aug 30 08:29:10 2016 -0700

    Update external demo build flavors to use 0.13.0
    
    Summary: The latest Fresco OSS is v13. Demo app would need to keep the same version here.
    
    Reviewed By: kirwan
    
    Differential Revision: D3791327
    
    fbshipit-source-id: 8d702f6b2c32dc0c7920374986926c0dde23f9c7

commit b3a41a9838a1fd886db35d7f9984ac52a813f692
Author: Jie Wang <jiew@fb.com>
Date:   Tue Aug 30 03:38:02 2016 -0700

    Track bitmap created by PlatformBitmapFactory directly
    
    Summary: Add callercontext to PlatformBitmapFactory, so can track uses of PlatformBitmapFactory.createBitmap()
    
    Reviewed By: kirwan
    
    Differential Revision: D3627698
    
    fbshipit-source-id: 5b0087c115f0449de2d4abe201dfd0e37bdd68fe

commit 21cdb8bdf72ff891513092436c34a4a1d01b7910
Author: Jie Wang <jiew@fb.com>
Date:   Fri Aug 26 15:54:56 2016 -0700

    Fix DiskStorageCacheTest
    
    Summary: DiskStorageCacheTest is broken by timeout issue. This would fix the test.
    
    Reviewed By: oprisnik
    
    Differential Revision: D3780742
    
    fbshipit-source-id: 0ca99851e9b793e73c26abada6441e793d42bc00

commit 2504017b74c1b6b2bc44e646e73b8853c1addc14
Author: Jie Wang <jiew@fb.com>
Date:   Fri Aug 26 14:02:59 2016 -0700

    Remove SharedPreference in DiskCache if applicable
    
    Summary: Remove SharedPreference in DiskCache if applicable
    
    Reviewed By: oprisnik
    
    Differential Revision: D3779657
    
    fbshipit-source-id: a6b0a88c7bc68ea3297e6e09e9bc6c38034699bd

commit 393e81ed58f096ce7aa73e91abe8729effe00e14
Author: Jie Wang <jiew@fb.com>
Date:   Fri Aug 26 13:54:56 2016 -0700

    Remove unnecessary use of getResourceId and replace with CacheKeyUtil
    
    Summary: With introduce of CacheKeyUtil that manages cacheKey to resourceId, we can remove the same logic in DiskCache
    
    Reviewed By: oprisnik
    
    Differential Revision: D3777760
    
    fbshipit-source-id: 41d9f4163818b3976786ccaf4d168c1331233443

commit 27b8d2de4d2fbaf2f810e3cccbc1435052f59fd5
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Fri Aug 26 09:34:47 2016 -0700

    Added pausing logic to animation sample app
    
    Summary:
    Added pausing logic to the animation sample app.
    I have also removed the animation logic from the URI app to keep it simple.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D3777162
    
    fbshipit-source-id: 48ea555701f5711c2382dfe1bfb7b1c423aaaa63

commit c89835a9a0a275b38963b35679f9f39508f91dc2
Author: Jie Wang <jiew@fb.com>
Date:   Fri Aug 26 09:09:47 2016 -0700

    Add MemoryIndexPopulateAtStartupEnable option to DiskCacheConfig
    
    Summary: Provide an option to Add MemoryIndexPopulateAtStartupEnable option to DiskCacheConfig
    
    Reviewed By: kirwan
    
    Differential Revision: D3735710
    
    fbshipit-source-id: 5597e80b4a0e2147223d2423227e4f93e74a269c

commit 8c9a65d7650eadc05bcfa77fbafcbbbc07546c59
Author: Jie Wang <jiew@fb.com>
Date:   Fri Aug 26 07:38:08 2016 -0700

    Separate DeleteSharedPreference from UpdateFileCache and inject Executor into DiskStorage
    
    Summary: Separate DeleteSharedPreference from UpdateFileCache and inject Executor into DiskStorage
    
    Reviewed By: kirwan
    
    Differential Revision: D3742390
    
    fbshipit-source-id: 2f2059ecb89df13325a5b479f0f113ab88ebee08

commit 334f07c18296457470371b6e9a03acf4516a64a6
Author: Jie Wang <jiew@fb.com>
Date:   Fri Aug 26 07:30:32 2016 -0700

    Abstract CacheKey to ResourceId in one place
    
    Summary: Abstract CacheKey to ResourceId in one place
    
    Reviewed By: massimocarli
    
    Differential Revision: D3777150
    
    fbshipit-source-id: 77da0f3e311c266af8ce784250b509017e13003b

commit f914b7a8e2acd2313ee785b48aee7722f3d7da9a
Author: gtpark <gitae.park@navercorp.com>
Date:   Fri Aug 26 06:20:06 2016 -0700

    Add resumable function for animatable gif
    
    Summary:
    Support pause(resumable) for animatable gif.
    Closes https://github.com/facebook/fresco/pull/1425
    
    Reviewed By: massimocarli
    
    Differential Revision: D3777017
    
    Pulled By: oprisnik
    
    fbshipit-source-id: 5e6e83fc2befbd79db60544946a2bb0e738e8fa6

commit 204dc5038be2e2d6f2a04ea22b466207e384022e
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Fri Aug 26 02:45:02 2016 -0700

    Update image format of encoded image if not already known
    
    Summary: We already call `parseMetadata()` on the `EncodedImage` in various producers (which tries to set the image format) so in theory the image format should never be null in the first place. However, if we have an error and we manage to determine the image type later in the decoding step, we might as well update the encoded images so that subsequent decoding steps are faster.
    
    Reviewed By: massimocarli
    
    Differential Revision: D3771285
    
    fbshipit-source-id: abcd683bd0ae0585927c944dd89ea9d6432d992a

commit 307474b498f04b16599a6a36da1b53c6736334a8
Author: s1rius <tangchangzhi@gmail.com>
Date:   Thu Aug 25 11:31:23 2016 -0700

    Reduce unnecessary redraws when the ProgressBarDrawable is not set
    
    Summary:
    Fix #1417
    Closes https://github.com/facebook/fresco/pull/1432
    
    Reviewed By: oprisnik
    
    Differential Revision: D3770600
    
    Pulled By: kirwan
    
    fbshipit-source-id: c2a54aae7cfff0be7fe797482bfbab51c50ac7a8

commit c142b3e84774a87594344613be4fad77f90f726f
Author: Eric Longuemare <e.longuemare@laposte.net>
Date:   Wed Aug 24 03:20:11 2016 -0700

    Switch to libwebp 0.5.1
    
    Summary:
    Hello kirwan,
    
    I've created a new pull request with commits rebased to https://github.com/facebook/fresco/commit/c5f6bbc83edfa83ddccc03e06d16d339190ad55a
    
    Thanks,
    
    Eric
    
    origin pull request was https://github.com/facebook/fresco/pull/1377
    Closes https://github.com/facebook/fresco/pull/1388
    
    Reviewed By: massimocarli
    
    Differential Revision: D3641520
    
    Pulled By: kirwan
    
    fbshipit-source-id: 729191cc01b0b1b0479ef96ed9ce8d7b1b9ea11d

commit 3959c15d1b246bd1f4f5f15d634e1f11dc5dfd52
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Wed Aug 24 03:04:09 2016 -0700

    Allow setting a RequestListener for individual ImageRequests
    
    Summary: After this change, one can add a `RequestListener` to an individual `ImageRequest`. This is an additional API to the existing global registration in the `ImagePipelineConfig` where the listeners would receive events about every single request.
    
    Reviewed By: plamenko
    
    Differential Revision: D3757203
    
    fbshipit-source-id: 06f7e7b4dd6fa23b39b5177f52b1e7afab7180aa

commit 3e8a28f1c8c43bae94b9e2b93ac23a2f9e808ae9
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Tue Aug 23 08:12:36 2016 -0700

    Recycle SettableCacheEvents
    
    Summary: To avoid allocations to create cache events, this implements recycling.
    
    Reviewed By: massimocarli
    
    Differential Revision: D3641722
    
    fbshipit-source-id: 80799eb5b6e5463997795263d75ccd77255c45fa

commit 1339b62711be937f829bf4e55a71f005479417e6
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Tue Aug 23 04:11:39 2016 -0700

    Upgrade to Gradle 2.14.1
    
    Summary: As per Android Studio 2.2's prompt, this upgrades the project to use Gradle 2.14.1 and Android plugin 2.1.3.
    
    Reviewed By: aagnes
    
    Differential Revision: D3757221
    
    fbshipit-source-id: af8e53f0eea6525b1030b0517912286e77b963eb

commit 43c4c9bf7e489e4fae5b10c0ad13a7f2ea4229a7
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Fri Aug 19 03:46:36 2016 -0700

    Renamed Zoomable Example app
    
    Summary: Right now, it's called "Fresco Demo", but we already have another "Fresco Demo" sample app (with the same launcher icon). This makes it harder to launch the correct one if you have both installed.
    
    Reviewed By: kirwan
    
    Differential Revision: D3741627
    
    fbshipit-source-id: 72708d28f265e036dc7dd2fcaec523b6372e9e4a

commit 1409185df79838ad1a50987aae94d34c863713bb
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Fri Aug 19 03:45:35 2016 -0700

    Zoomable sample app: removed margin
    
    Summary: The main use case for this is an edge-to-edge gallery, so we should remove the margin on the edges.
    
    Reviewed By: kirwan
    
    Differential Revision: D3741605
    
    fbshipit-source-id: 16d56bf150cff3ce63342c4afca84b7419f56f5e

commit b0ff375b12da0b8393c68cba4fd6dffe4e534ef9
Author: Massimo Carli <maxcarli@fb.com>
Date:   Fri Aug 19 03:27:52 2016 -0700

    Upgraded version to 0.13.0
    
    Summary: The current release is now 0.13.0
    
    Reviewed By: oprisnik
    
    Differential Revision: D3741583
    
    fbshipit-source-id: bb69d275b0d78587b7b95bb804479560cf621eb1

commit 5649f0cfee8670c1e262a1626528d0077af5ace3
Author: Massimo Carli <maxcarli@fb.com>
Date:   Wed Aug 17 07:49:16 2016 -0700

    Upgraded libjpg to 1.5 for static-webp module
    
    Reviewed By: tyronen
    
    Differential Revision: D3722765
    
    fbshipit-source-id: 24b1ac277a99d67d6efb2df9a6c4739dee10ced3

commit bc6016e1f8daa74ce0cb60710414afd3f320f2aa
Author: Massimo Carli <maxcarli@fb.com>
Date:   Wed Aug 17 05:55:37 2016 -0700

    Upgrading libjpg-turbo to 1.5.0 for security reason
    
    Summary: Upgrade to libjpg-turbo 1.5.0 on Gradle
    
    Reviewed By: tyronen
    
    Differential Revision: D3709426
    
    fbshipit-source-id: 99e3d63efe05f143518c1d82061603603c381a2e

commit f3f4abcde4ae7bf82564371743708db6f84cb946
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Tue Aug 16 03:35:26 2016 -0700

    Uriapp sample should support animations per default
    
    Summary:
    In the URI sample app, we call `.setAutoPlayAnimations(true)` in code but we don't include the animation artifacts.
    Hence, animations don't play if you supply a GIF / WebP as URI.
    
    Reviewed By: massimocarli
    
    Differential Revision: D3716594
    
    fbshipit-source-id: 389d5e462f4848203b0a0cd49a435704297a09a8

commit 9a9d202200798955282c52715325d13915a4605c
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Tue Aug 16 03:02:47 2016 -0700

    Removed unnecessary nineoldandroids Gradle dependency
    
    Summary: We only need `nineoldandroids` in `animated-base-support` and the zoomable sample app, so I've removed all other references.
    
    Reviewed By: massimocarli
    
    Differential Revision: D3716557
    
    fbshipit-source-id: 377e0ebfe380a65129d80c8a3d9fee6d0b2fe7e2

commit 5a84d6015c2d02bd59e9a0d2440514c8167dc64a
Author: Massimo Carli <maxcarli@fb.com>
Date:   Tue Aug 16 03:02:38 2016 -0700

    Added AutoRotation flag
    
    Summary: We added the flag in order to use image rotation metadata
    
    Reviewed By: oprisnik
    
    Differential Revision: D3716332
    
    fbshipit-source-id: 88b95e1c853e22fa5a645039d2d47847f849bbd7

commit 9726a768f419ff319d01501d6780cdfecc203193
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Mon Aug 15 05:34:48 2016 -0700

    Removed unused fields in ImageDecodeOptions
    
    Summary: The `ImageDecodeOptions` contained historical flags that are not used in the library itself. Therefore, this diff removes them.
    
    Reviewed By: massimocarli
    
    Differential Revision: D3704249
    
    fbshipit-source-id: 35e72d240e69c05b500ac1e0e59334a1ceaa3708

commit b0f994beba4032e61619788c1b5c83524c4b4a13
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Fri Aug 12 14:57:19 2016 -0700

    Added warning message if Fresco is initialized more than once
    
    Summary:
    Fresco should only be initialized once, so we should have a warning if somebody re-initializes Fresco since this causes everything to be recreated and can result in memory leaks.
    We use finalizers to avoid most of these leaks but it's still something that should be avoided - especially if you're doing it unintentionally.
    
    In the future, we plan to crash here for debug builds.
    
    Reviewed By: kirwan
    
    Differential Revision: D3669241
    
    fbshipit-source-id: dd9600bdb8d1543cf8f193e76bb7f5b943206231

commit f03c76ebc5e379ed6ff5c0543a09354aa0ef7141
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Fri Aug 12 10:00:35 2016 -0700

    Clear disk cache before each unit test
    
    Summary: One of the disk cache tests has recently started failing so this change ensures the cache folder is clear to avoid potential of tests polluting each other.
    
    Reviewed By: oprisnik
    
    Differential Revision: D3709690
    
    fbshipit-source-id: 3be86a5826bac05c4a44bcab06397be5b0e117c1

commit 9fe9914a76dcf01573b6a6961c59085bc0a28c51
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Fri Aug 12 07:33:33 2016 -0700

    Reverted accidental code changes introduced in [D3709066] 39d656828aadb8b775156b6ffeb12fdcecc8103b
    
    Summary: Removed accidentally committed logging code
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D3709153
    
    fbshipit-source-id: 5e5609464c50f90842c92ac72da1eff45e7a951c

commit 39d656828aadb8b775156b6ffeb12fdcecc8103b
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Fri Aug 12 03:45:50 2016 -0700

    Always use the Application Context for initializing
    
    Summary: We should never use a non-Application Context for initializing since this could leak memory.
    
    Reviewed By: kirwan
    
    Differential Revision: D3709066
    
    fbshipit-source-id: 343ad6c6d91c85436512834d2ec8ac15e33c9f92

commit a299c683edd6d59aec7480b6be71fa4b193cd89a
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Thu Aug 11 06:52:33 2016 -0700

    Run unit tests for CI
    
    Summary: We should run unit tests for CI :)
    
    Reviewed By: massimocarli
    
    Differential Revision: D3703093
    
    fbshipit-source-id: 44d8d8f436d1a42cc7ec111a93d32da7b91df7ed

commit 48ba43630d9c2c7dbf5caaa0fe765a78bc3ef16b
Author: Ahmed El-Helw <ahmedre@fb.com>
Date:   Tue Aug 9 12:20:45 2016 -0700

    Annotate ResizeOptions as Nullable
    
    Summary: ResizeOptions in setResizeOptions are actually nullable, so explicitly set them as such.
    
    Differential Revision: D3688367
    
    fbshipit-source-id: 77608f95da501a47e9b667653f1ffbc9f1daa062

commit 7f06ddabc667d76332e0aa9588dde0e2b61ae4df
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Tue Aug 9 08:39:56 2016 -0700

    Initialize static-webp.so lazily
    
    Summary: : Before, the static-webp module loaded the native `static-webp.so` in a static block. This potentially had a negative effect on app start. The changes make the library load when it is required for the first time. Compare: `ImagePipelineNativeLoader`.
    
    Reviewed By: massimocarli
    
    Differential Revision: D3684800
    
    fbshipit-source-id: 809b045fc746bd32ad4c99a2534acf2b1d0967fa

commit 368c101bf146d8529e369249a0adfda54cfe08fa
Author: Massimo Carli <maxcarli@fb.com>
Date:   Tue Aug 9 04:49:36 2016 -0700

    Removed implicit modifier
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D3684528
    
    fbshipit-source-id: ac7be40d5edb45d49514e05ce00fa583f4e12258

commit d148b96f2c6a9f3f72aa430fa47ecc188f925b57
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Tue Aug 9 02:31:33 2016 -0700

    Make AbstractDraweeControllerBuilder set ViewportVisibilityListener
    
    Reviewed By: oprisnik
    
    Differential Revision: D3684163
    
    fbshipit-source-id: a7c4b05ecacaf25a72e99813f055cffc214acd27

commit 1f6089724f22ac8c5c2fd6fd46e4bee9c8bd9102
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Sun Aug 7 11:27:44 2016 -0700

    Add option to enforce new animation code to ImageDecodeOptions
    
    Reviewed By: oprisnik
    
    Differential Revision: D3682444
    
    fbshipit-source-id: 08ef9d0a73bc284574e1a36bb74d59b0045d2ff3

commit c24f31eb24027cf054f1dcdd753b7ff75c2b8545
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Fri Aug 5 14:47:43 2016 -0700

    Fixed wrong package for sample app
    
    Reviewed By: aagnes
    
    Differential Revision: D3669593
    
    fbshipit-source-id: 528b2483313fb05d2e8c4d2c8b035fc8ba806bdc

commit 6d0c89d8cc70a197a259d78084bbd2581a0f922e
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Fri Aug 5 13:56:34 2016 -0700

    Sample apps now initialize Fresco only once
    
    Summary: This diff changes the Fresco initialization in our sample apps to follow our best practice to only initialize once.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D3669520
    
    fbshipit-source-id: 519698f80e75c30ddb724c26144b527cc52c3d81

commit cbbb5d9feafe69dae9eb694bc834872722ce1164
Author: joonho <joonho.kim@navercorp.com>
Date:   Fri Aug 5 12:36:03 2016 -0700

    Use initial capaticy constructor when it's appropriate
    
    Summary:
    When you create a <code>ArrayList</code> or <code>HashSet</code>, you have to use constructor with
    initial capacity argument if you know its final size beforehand.
    Because we can avoid enlarging its backing array. This becomes critical
    when the size of list becomes larger. For example, the <code>mBitmaps</code>
    field in <code>CloseableAnimatedBitmap</code> class can hold many bitmaps, because
    it holds bitmaps of animation.
    
    Many classes in this project already follow such usage. I found
    some classes that do not follow it, and changed those.
    Closes https://github.com/facebook/fresco/pull/1400
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D3669677
    
    Pulled By: oprisnik
    
    fbshipit-source-id: 38ac6d1ce5de62a0bfaa4c9096166cd1bee20685

commit 7ed603253d96cde22954abe0a68c15f897751336
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Fri Aug 5 03:55:55 2016 -0700

    Add ControllerViewportVisibilityListener for hints about the drawee entering/exiting the viewport
    
    Summary: For various logging it is useful to know whether an image has been loaded while it was on screen. As Android has no definite way to get information about views entering and exiting the screen, it is the best when the client provides this information as hints. This change adds an optional `ControllerViewportVisibilityListener` to receive events from a new callback method `DraweeController#onViewportVisibilityHint`
    
    Reviewed By: oprisnik
    
    Differential Revision: D3655857
    
    fbshipit-source-id: 6b9d5cd92deeaa03cccddb5a9f5704800571ce12

commit 5602824cedfcfc5edf03fc5894104e19b2f69030
Author: Jie Wang <jiew@fb.com>
Date:   Thu Aug 4 09:43:57 2016 -0700

    Add CacheLevel to DraweeBuilder
    
    Summary: Instead of having a bool of BitmapCacheOnly for specifying how deep we're using to fetch image, give the opertunity to client side for specifying.
    
    Reviewed By: plamenko
    
    Differential Revision: D3658429
    
    fbshipit-source-id: a5c077a39479280a01da0549b89ffb1b4f5cb027

commit 02ef6e0f6c9923b468ded065c824d68617eaec2a
Author: Jie Wang <jiew@fb.com>
Date:   Thu Aug 4 09:43:55 2016 -0700

    Add Request Level to ImagePipeline.fetchDecodeImage
    
    Summary:
    Right now, ImagePipeline.fetchDecodeImage is not really flexible. We can add a RequestLevel to it to define how deep do we want to fetch image till
    
    :facebook
    The change is essential for TapToLoad
    
    Reviewed By: plamenko
    
    Differential Revision: D3657584
    
    fbshipit-source-id: a7ccec2c6ec97c004c364d303d212f643b34a630

commit 4c00be3ea51b5b189445a4077447b0ea077bcfd7
Author: KoMinkyu <minkyuko411@gmail.com>
Date:   Wed Aug 3 09:59:31 2016 -0700

    Added support for synchronous small disk cache check
    
    Summary:
    Added a support to check in small disk cache synchronously.
    Without this change, there is no way to check cache in small disk cache.
    So I added this support.
    Closes https://github.com/facebook/fresco/pull/1385
    
    Reviewed By: oprisnik
    
    Differential Revision: D3655601
    
    Pulled By: lambdapioneer
    
    fbshipit-source-id: faa3f29a8b4db5cc7206e3291a289e8870c621e4

commit 5c927efcff52213016497e86af7cde45ab295b12
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Fri Jul 29 15:28:10 2016 -0700

    Exposed Animation information for AbstractAnimatedDrawable
    
    Summary:
    This has come up a couple of times now: There should be an easy way to get the animation duration.
    This diff exposes the animation duration, loop count and frame count.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D3515207
    
    fbshipit-source-id: 234c1172756dc731d5384f32b158cecb11c4be2b

commit 4e52672dcde4821254f870935dcf0d49156bd626
Author: Jie Wang <jiew@fb.com>
Date:   Fri Jul 29 12:40:47 2016 -0700

    Use ResourceIndex only for tracking DiskStorageCache, and remove MemoryIndex and Preference
    
    Summary: We can use ResourceIndex to keep track of what's in DiskStorageCache, and thus avoid allocation for MemoryIndex and Preference
    
    Reviewed By: kirwan
    
    Differential Revision: D3627982
    
    fbshipit-source-id: 66dbb03b01e0ea4acb959da38c61e03d12ac1a64

commit c5f6bbc83edfa83ddccc03e06d16d339190ad55a
Author: Eric Longuemare <e.longuemare@laposte.net>
Date:   Wed Jul 27 10:34:24 2016 -0700

    Change to handle external diskcache and adapted cache size limit care - issue 898
    
    Summary:
    Hello,
    
    I made those changes to handle this bug : https://github.com/facebook/fresco/issues/898
    + add isExternal() boolean to check if cache is external or internal.
    + modified updateFileCacheSizeLimit() to handle internal (default) or external diskcache
    
    Hope it helps,
    Thanks,
    Eric
    Closes https://github.com/facebook/fresco/pull/1013
    
    Reviewed By: kirwan
    
    Differential Revision: D3358813
    
    Pulled By: lambdapioneer
    
    fbshipit-source-id: 7303b18bc4b8dcf778067a2cfd931e92b7fc16df

commit 95359b9cb7650cf00b362ffbc018e90d503d476b
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Wed Jul 27 10:04:38 2016 -0700

    Parse GIF Netscape 2.0 extension for loop count
    
    Summary:
    The current usage of `giflib` does not parse application extensions. In order to play the correct number of iterations of GIF animations, one has to parse the `Netscape 2.0 Looping Extension`. This is not part of the specification, but de-facto standard in all major clients.
    
    Luckily, `giflib` already provides us with the blocks s.t. we only need to parse them. See http://www.vurdalakov.net/misc/gif/netscape-looping-application-extension and the following quote for information on how the block is structured.
    
          +---------------+
       0  |     0x21      |  Extension Label
          +---------------+
       1  |     0xFF      |  Application Extension Label
          +---------------+
       2  |     0x0B      |  Block Size
          +---------------+
       3  |               |
          +-             -+
       4  |               |
          +-             -+
       5  |               |
          +-             -+
       6  |               |
          +-  NETSCAPE   -+  Application Identifier (8 bytes)
       7  |               |
          +-             -+
       8  |               |
          +-             -+
       9  |               |
          +-             -+
      10  |               |
          +---------------+
      11  |               |
          +-             -+
      12  |      2.0      |  Application Authentication Code (3 bytes)
          +-             -+
      13  |               |
          +===============+                      --+
      14  |     0x03      |  Sub-block Data Size   |
          +---------------+                        |
      15  |     0x01      |  Sub-block ID          |
          +---------------+                        | Application Data Sub-block
      16  |               |                        |
          +-             -+  Loop Count (2 bytes)  |
      17  |               |                        |
          +===============+                      --+
      18  |     0x00      |  Block Terminator
          +---------------+
    
    Reviewed By: oprisnik
    
    Differential Revision: D3620565
    
    fbshipit-source-id: 6b4367448eb9cb5d635491591497e4c00d1f39c9

commit fa9d338f30dfcbce48d5c37613e7a2d230a36032
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Mon Jul 25 13:31:19 2016 -0700

    Don't fail to get cached item due to missing resource index entry
    
    Summary: With the disk cache index improved, a change was added that skipped pulling the file if it wasn't in the resource index. That has the possibility of not being complete though, so this change removes that condition.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D3615436
    
    fbshipit-source-id: 559d61973a9848ae6e95767027f2250f2f8496e0

commit 56851f18f708286f1d03fbed511613d97509a8ed
Author: Massimo Carli <maxcarli@fb.com>
Date:   Sat Jul 23 03:03:50 2016 -0700

    Cache check experiment code removed
    
    Reviewed By: aagnes
    
    Differential Revision: D3605193
    
    fbshipit-source-id: 1c34baee087fadc525484f15ac63e3494bbfbd23

commit a2268d8877979d157316b68ed5761c8630efaf1f
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Fri Jul 22 03:20:58 2016 -0700

    Bump version to 0.12.0
    
    Reviewed By: oprisnik
    
    Differential Revision: D3605017
    
    fbshipit-source-id: 5d335b2180c937e7ad8862d009819984bda67cab

commit f3f23666145079fca25aeddb652b5ae2c5adb5e2
Author: Waseem Ahmad <waseemahmad@fb.com>
Date:   Wed Jul 20 08:37:43 2016 -0700

    Implement getConstantState() for AutoRotateDrawable
    
    Reviewed By: plamenko
    
    Differential Revision: D3584627
    
    fbshipit-source-id: e13cc12c1d36f138175b89616eecd6a4c6978008

commit d5f6b4266476db747b7a1497471c44f435f02016
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Tue Jul 19 08:12:56 2016 -0700

    Update Proguard file to fix issues with OKHTTP 3 and Animated GIFs
    
    Summary: Closes #1373.
    
    Reviewed By: lambdapioneer
    
    Differential Revision: D3586238
    
    fbshipit-source-id: 4ec6f2757064e721b9a70949860d3256083a9194

commit 07312cfd811a4ef36b74d40c106eeaeced674bc1
Author: Jie Wang <jiew@fb.com>
Date:   Tue Jul 19 04:29:21 2016 -0700

    Rename testing method with and without awaitIndex
    
    Reviewed By: kirwan
    
    Differential Revision: D3579413
    
    fbshipit-source-id: 2ea928e3ab544843c54e25d6bc774c261f893976

commit 93cd391d90691ae5855295be7bb3b2aa3342e95e
Author: Jie Wang <jiew@fb.com>
Date:   Sat Jul 16 16:08:35 2016 -0700

    Move DiskStorageCache sweep to background thread
    
    Summary: Fresco initialization is in main thread, for now making disk sweep in DiskStorageCache in background thread for sure.
    
    Reviewed By: kirwan
    
    Differential Revision: D3570141
    
    fbshipit-source-id: 6bfa08a2dd32cdae451207598ca03f59fb5fdc37

commit 8f4978ea3460e1badc1c94b5cbdf136ea583cb0e
Author: Jie Wang <jiew@fb.com>
Date:   Fri Jul 15 07:32:48 2016 -0700

    Add disable DraweeEventTracker in drawee constructor
    
    Summary:
    In opensource, someone bring up to disable DraweeEventTracker, so the tracker won't slow down 2011 devices.
    
    Provide disable() to disable DraweeEventTracker logging. Use it before Fresco.initialize().
    
    Reviewed By: plamenko
    
    Differential Revision: D3548850
    
    fbshipit-source-id: 0ef8c7a8c46245ad6f0ebfe5f7779ed864f739f1

commit e9fd7df529f9a835a1428f768111132a585ecaa8
Author: Brad Kim <brad@vcnc.co.kr>
Date:   Thu Jul 14 03:24:19 2016 -0700

    handle WEBP_MUX_NO_BLEND properly in animated WebP
    
    Summary:
    There are some problem to process animated WebP images with NO_BLEND, sub frame.
    
    This is the video of the problem.
    https://dl.dropboxusercontent.com/u/11995554/2016_07_12_21_30_54.mp4
    
    And this is the webp image of the problem.
    https://dl.dropboxusercontent.com/u/11995554/11_21.webp
    
    `WEBP_MUX_NO_BLEND` means that you do not need previous pixels of current frame region. But fresco ignores whole previous frame.
    
    This is animation decoding logic in WebP repo.
    https://github.com/webmproject/libwebp/blob/master/src/demux/anim_decode.c#L305
    Closes https://github.com/facebook/fresco/pull/1356
    
    Reviewed By: kirwan
    
    Differential Revision: D3555312
    
    Pulled By: aagnes
    
    fbshipit-source-id: d81c277baf949a90eb8b2a23f8e76f7ec049bcee

commit 6e905577908259abe1399c0b7bbf5763e3e1c3a3
Author: s1rius <tangchangzhi@gmail.com>
Date:   Tue Jul 12 05:22:26 2016 -0700

    Decode Gif in preview when not importing animated-gif dependency
    
    Summary: Closes https://github.com/facebook/fresco/pull/1304
    
    Reviewed By: kirwan
    
    Differential Revision: D3542771
    
    Pulled By: aagnes
    
    fbshipit-source-id: 63e1f5e3d22ec2fcd669a9283c856762ba0ecbd3

commit 5b379f64778d35024ac393d35c27017d325c82a7
Author: Massimo Carli <maxcarli@fb.com>
Date:   Mon Jul 11 06:46:29 2016 -0700

    Allow to change the number of retry in RetryManager
    
    Reviewed By: aagnes
    
    Differential Revision: D3528526
    
    fbshipit-source-id: 43c2db2195c359b008f47392e4795cd4705db034

commit c5e8a450527f3566de48198b836e66df6661847e
Author: Jie Wang <jiew@fb.com>
Date:   Mon Jul 11 04:22:58 2016 -0700

    DiskCache: Add second layer of MemoryIndex
    
    Reviewed By: kirwan
    
    Differential Revision: D3503525
    
    fbshipit-source-id: e4ea7854c1d99c898da353773efbf3e516080fc6

commit 962fc819c9885da7d739ba234babaef527091115
Author: Jie Wang <jiew@fb.com>
Date:   Mon Jul 11 04:22:57 2016 -0700

    DiskCache: Use SharedPreference to load MemoryIndex
    
    Reviewed By: kirwan
    
    Differential Revision: D3469693
    
    fbshipit-source-id: 1124fed11d722a733c09c1645209c08b796c4ed4

commit 810a936a17361bbb62ab557e005c6ec4bcdc9eb9
Author: Jie Wang <jiew@fb.com>
Date:   Mon Jul 11 04:22:55 2016 -0700

    DiskCache: Change MemoryIndex from <CacheKey, ResourceId> to <CacheKey.hashcode, ResourceId>
    
    Reviewed By: kirwan
    
    Differential Revision: D3503415
    
    fbshipit-source-id: 2900fc2d84e09b0619983da6ec62f9e574f01bda

commit 4864fb1a9a3573e5681f8e4eca7a68a1b6e3fb1b
Author: Massimo Carli <maxcarli@fb.com>
Date:   Mon Jul 4 09:37:40 2016 -0700

    Added experiment for throttling thread number
    
    Reviewed By: kirwan
    
    Differential Revision: D3509598
    
    fbshipit-source-id: b7bc98c9739c5658654aca801efc88b333e21acd

commit f6856817d3ba910e2d9e9e4b9ef22fe3bec2b9ed
Author: Massimo Carli <maxcarli@fb.com>
Date:   Mon Jul 4 02:50:05 2016 -0700

    LightBitmapDrawable experiment removed
    
    Reviewed By: aagnes, plamenko
    
    Differential Revision: D3411766
    
    fbshipit-source-id: cdff0adf4a63b85ffcff7e6c1c2cd3d0bc350fee

commit 679c1cccccb80d6760acfa55033824e2093fa620
Author: Brett Lavalla <blavalla@fb.com>
Date:   Thu Jun 30 11:53:51 2016 -0700

    Add contentDescription to DraweeControllers
    
    Reviewed By: massimocarli
    
    Differential Revision: D3499542
    
    fbshipit-source-id: 97aaa9cfaada5afa73fead948b6bdbcaa0a389a9

commit b56af45ba39766622d96a847fe6e7f70f083a785
Author: Massimo Carli <maxcarli@fb.com>
Date:   Thu Jun 30 08:55:55 2016 -0700

    Switch used
    
    Reviewed By: aagnes
    
    Differential Revision: D3503299
    
    fbshipit-source-id: f7d1ae4ed9906381b03a9727e88d6df47da44357

commit 85da0cfb6fca562ba41eb37395e446210c740ca9
Author: Massimo Carli <maxcarli@fb.com>
Date:   Thu Jun 30 08:12:58 2016 -0700

    ScaleType settings added
    
    Reviewed By: kirwan
    
    Differential Revision: D3503290
    
    fbshipit-source-id: b1248b58a2499fec5c54ac5f642b81bf9b2b9fa2

commit b535778f0565218048928763671b4dffd82bb6fd
Author: Nathan Ma <nathanma@fb.com>
Date:   Wed Jun 29 16:20:37 2016 -0700

    Bring zoomable control to dedupe gallery view
    
    Differential Revision: D3457591
    
    fbshipit-source-id: e3c6f585f636b0fc50d6128bca8529fb4624960a

commit 4cd620a09ae28f71d89cd2305c8a17357e4fe969
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Wed Jun 29 08:36:36 2016 -0700

    Added Clear button to uriapp sample
    
    Summary: You can now press the "Clear" button to remove the current URI.
    
    Reviewed By: aagnes
    
    Differential Revision: D3497214
    
    fbshipit-source-id: d7cc2749abb427a5add5f464b7ea0d3ec10b6141

commit 58ac6a181f7771d481329a18529e6515a6234db1
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Wed Jun 29 05:07:54 2016 -0700

    Reverted accidental DataSourceStatus enum change
    
    Reviewed By: kirwan
    
    Differential Revision: D3496938
    
    fbshipit-source-id: 8d2d8ac8d6563678079bc79b2680b4bbb1676bf3

commit a01509ecb889e8a1c85af493043fafe8e6a2ab31
Author: Piotr <pwalc@agora.pl>
Date:   Wed Jun 29 04:12:52 2016 -0700

    Gradle: Removed nineoldandroids from animated-gif
    
    Summary:
    The same reason as https://github.com/facebook/fresco/commit/362573b00360af2ba99d0b840ca1fb64d1dda619
    Closes https://github.com/facebook/fresco/pull/1325
    
    Reviewed By: aagnes
    
    Differential Revision: D3493458
    
    Pulled By: oprisnik
    
    fbshipit-source-id: 2bd5fa45abd5e06a59a18960098793686376d9e9

commit a98bef4aabc2342c8c032ba39c6f22546339e211
Author: Piotr <pwalc@agora.pl>
Date:   Tue Jun 28 17:16:32 2016 -0700

    Gradle: Removed nineoldandroids from animated-webp
    
    Summary:
    https://github.com/facebook/fresco/commit/362573b00360af2ba99d0b840ca1fb64d1dda619
    Closes https://github.com/facebook/fresco/pull/1327
    
    Reviewed By: kirwan
    
    Differential Revision: D3494070
    
    Pulled By: oprisnik
    
    fbshipit-source-id: 299a67593b1966d1575ed844ca413710b6f48561

commit 79fac091903f8797b3a891c321df48abd37a0d37
Author: Massimo Carli <maxcarli@fb.com>
Date:   Tue Jun 28 06:25:48 2016 -0700

    Fixed Fibonacci algo
    
    Reviewed By: kirwan
    
    Differential Revision: D3488418
    
    fbshipit-source-id: 8f9b7e11bfd31da202db6d783b9b2086fd9a4ec2

commit eae1b03b3369071b542eab9f815f277169a8a0e3
Author: Massimo Carli <maxcarli@fb.com>
Date:   Mon Jun 27 08:29:13 2016 -0700

    Added Postprocessor option
    
    Reviewed By: kirwan
    
    Differential Revision: D3488150
    
    fbshipit-source-id: 139c36237a88c1f0d5f2ee507f7a2b60d8c5eee1

commit 2878449fc52e0dc579f8f2545c6d6548e45437b2
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Mon Jun 27 07:13:31 2016 -0700

    CircleCI: More memory for Gradle
    
    Summary:
    Added GRADLE_OPTS according to https://circleci.com/docs/oom/ to give Gradle more memory, which fixes the build, see https://circleci.com/gh/oprisnik/fresco/30
    Closes https://github.com/facebook/fresco/pull/1323
    
    Reviewed By: kirwan
    
    Differential Revision: D3488250
    
    Pulled By: oprisnik
    
    fbshipit-source-id: 9ade9310b6a43896e9b1421ecb15f11b59ffcc14

commit dd9130d2ba557cadf1089437ee9ef2654fa1ba86
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Mon Jun 27 05:55:32 2016 -0700

    Reverted build tools version to fix CircleCI
    
    Summary:
    We've switched CircleCI to use Ubuntu 14.04 but this causes Android NDK problems since it is not installed per default (see https://discuss.circleci.com/t/android-ndk-installation-and-configuration-on-circleci/3816).
    We're reverting back to Ubuntu 12.04, which only has Android Build Tools 23.0.2 - so we have to revert to a supported version.
    
    Reviewed By: kirwan
    
    Differential Revision: D3488154
    
    fbshipit-source-id: a08ac4be41106d0f2ee042c2b48163fec469d0b7

commit 7e42f5213024e2405fffb93fe613f35238e384c1
Author: Massimo Carli <maxcarli@fb.com>
Date:   Mon Jun 27 05:32:20 2016 -0700

    Fixed duplicate code
    
    Reviewed By: oprisnik, aagnes
    
    Differential Revision: D3488136
    
    fbshipit-source-id: 1ffa677ea123008a479cf88aba223c5b20db8cfd

commit c80216908da2ff0724d2238adefbeeb3712be38a
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Sat Jun 25 12:32:16 2016 -0700

    Add memory hooks into DraweeHolder
    
    Reviewed By: plamenko
    
    Differential Revision: D3476005
    
    fbshipit-source-id: a986e8a4dedcb6b971ada2f3936ea0094b627cae

commit 0bac0a6e23f9edbcd717a7419187b660224670a8
Author: Alvin Portillo <alvinp@fb.com>
Date:   Fri Jun 24 10:13:20 2016 -0700

    Include better error checks for uri to file path utility method
    
    Differential Revision: D3463730
    
    fbshipit-source-id: 2fe8e947e1799464e2ab8966408dc13450eec5bd

commit 362573b00360af2ba99d0b840ca1fb64d1dda619
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Fri Jun 24 03:06:53 2016 -0700

    Gradle: Removed nineoldandroids from animated-base
    
    Summary: We do not use nineoldandroids in animated-base any more. There is animated-base-support for that
    
    Reviewed By: kirwan
    
    Differential Revision: D3477163
    
    fbshipit-source-id: c2898cbe1e70e2dd7e030769c6e355dbd803f038

commit 1ed4a6b824f214e9587ec706a04ebfd6c537bfc2
Author: Artur Rodrigues <arturhoo@fb.com>
Date:   Thu Jun 23 09:33:21 2016 -0700

    Fresco: Rename ImageType to CacheChoice
    
    Reviewed By: aagnes
    
    Differential Revision: D3458433
    
    fbshipit-source-id: 70996b364f00d8d0a3ea56fae30e08cb5a2d3ebb

commit 0ee4591e970b59ef8add6d7ddee2b14d376f45ed
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Wed Jun 22 10:45:39 2016 -0700

    Remove comments and unused code
    
    Reviewed By: oprisnik
    
    Differential Revision: D3469239
    
    fbshipit-source-id: ab9f380c0602c7d0b9b5418320d93c5ffd38eb7d

commit 046dde1dbf5b7e5bd2fd8bb6f98b3baef3d46fbc
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Wed Jun 22 06:31:37 2016 -0700

    Reverted incomplete upgrade to libjpeg-turbo 1.5.0
    
    Summary:
    The update to libjpeg-turbo 1.5.0 was committed before all necessary changes were made.
    
    This reverts that change to fix CI while we make all the necessary changes.
    
    Reviewed By: oprisnik
    
    Differential Revision: D3469319
    
    fbshipit-source-id: 4c4204d340142e93f70d7c6baada130065822a48

commit 2c19791a6a24f62f807459dd965d33801a5ae3c0
Author: Gaurav Lochan <gauravl@fb.com>
Date:   Tue Jun 21 18:09:36 2016 -0700

    Change Fresco prefetch to request at MEDIUM instead of LOW priority
    
    Reviewed By: kirwan
    
    Differential Revision: D3461237
    
    fbshipit-source-id: 9fbbf2db3d1c08feee516ba6c67443a7841b300b

commit 51c78a08ebb62ca0a81d1316d7da4acd85379f04
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Tue Jun 21 13:54:38 2016 -0700

    ZoomableDraweeView: Only allow parent view pager touch events if image is not zoomed
    
    Summary: For now, we're disabling parent view pager touch events when the image is zoomed since the current version sometimes accidentally forwards the touch event to the parent view pager.
    
    Reviewed By: plamenko
    
    Differential Revision: D3464269
    
    fbshipit-source-id: a241eca5c1784ae5538e8455ac91c248dbbaf9da

commit 6db71566731a87c39168b8b9eb53c55b29fb42e9
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Tue Jun 21 11:46:23 2016 -0700

    Updated Android SDK Build Tools to v23.0.3
    
    Reviewed By: aagnes
    
    Differential Revision: D3462889
    
    fbshipit-source-id: 4a2cb4daf04784f279aa75bb8f29ca045a6426fa

commit fc57c147380de732db61799880f6a7ceaa080aff
Author: Massimo Carli <maxcarli@fb.com>
Date:   Tue Jun 21 10:31:51 2016 -0700

    Immediate check into MemoryCache at the Controller layer
    
    Reviewed By: plamenko
    
    Differential Revision: D3366235
    
    fbshipit-source-id: 686574df35d0ffb52e389b631994b004c8a59faa

commit 598903304388b60a2af93e9a9c763631898481ae
Author: Ognjen Dragoljevic <plamenko@fb.com>
Date:   Tue Jun 21 10:01:33 2016 -0700

    zoomable fix - was transformed without correction
    
    Differential Revision: D3463412
    
    fbshipit-source-id: 96f2947a43152c78d69d4a90224a43c926b88db6

commit f256be3f2cde88c7c924d04e18e031b196c55744
Author: Junkun <junkun.hjk@alibaba-inc.com>
Date:   Tue Jun 21 07:28:53 2016 -0700

    Fix bug: A IllegalArgumentException caused by file length 0 (get filelength failed!)
    
    Summary:
    Fix bug: A IllegalArgumentException caused by file length 0 (get filelength failed!)
    https://github.com/facebook/fresco/issues/1315
    Closes https://github.com/facebook/fresco/pull/1316
    
    Reviewed By: aagnes
    
    Differential Revision: D3462772
    
    Pulled By: oprisnik
    
    fbshipit-source-id: edc87bc49d1528266fb4a653af50f2a7d59a8c81

commit 0d0c5757ff40eb9e9f23533c9798dcdde095ce86
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Tue Jun 21 05:24:22 2016 -0700

    Don't strip AnimatedFactoryImpl and AnimatedFactoryImplSupport constructors
    
    Summary:
    `AnimatedFactoryImpl` and `AnimatedFactoryImplSupport` currently have the `DoNotStrip` annotation.
    However, ProGuard strips their constructors since they are not used directly (we use reflection to instantiate them).
    By manually addin `DoNotStrip` to these constructors, we make sure that they are not stripped.
    
    Reviewed By: massimocarli, kirwan
    
    Differential Revision: D3458359
    
    fbshipit-source-id: b5f020138ad82dc3225b99a55544edf939f206f2

commit 1ed36ff2818b6ff777ceb5c561184a10eddf51c1
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Tue Jun 21 02:57:33 2016 -0700

    Upgrade libjpeg_turbo version to 1.5.0
    
    Summary:
    Google Play is now warning at publish time about using libjpeg_turbo prior to 1.4.2 due to a vulnerability which has been found.
    
    This brings us to the most recent version, 1.5.0.
    
    Reviewed By: oprisnik
    
    Differential Revision: D3462687
    
    fbshipit-source-id: 0bfe07636b7d385081f49e33e321d4a0eacdfdbb

commit e771b67463b40ecc42d14bb6757cae8e891c776e
Author: Massimo Carli <maxcarli@fb.com>
Date:   Mon Jun 20 06:05:52 2016 -0700

    Added round as circle options
    
    Reviewed By: aagnes
    
    Differential Revision: D3430801
    
    fbshipit-source-id: a42e372c852ac155116b9699721b76d8e255bf34

commit 142ef3f3eda0248634c7ea5a2eec5882d017a803
Author: Massimo Carli <maxcarli@fb.com>
Date:   Mon Jun 20 04:01:45 2016 -0700

    Add option for rounded corners in settings
    
    Reviewed By: kirwan
    
    Differential Revision: D3430755
    
    fbshipit-source-id: ccda107fc370199379456fdbea0472c98131bfe9

commit 06dec30178247e3382d53e4fe015b4eff4fa5757
Author: Alvin Portillo <alvinp@fb.com>
Date:   Sun Jun 19 11:42:33 2016 -0700

    Refactor Uri to file path utility method
    
    Reviewed By: kirwan
    
    Differential Revision: D3428269
    
    fbshipit-source-id: b4e9c5be0adc48180aa4a46668bd5007951eb2b4

commit b47d665f287c9f5250f547f8d26e476f85928c16
Author: Massimo Carli <maxcarli@fb.com>
Date:   Thu Jun 16 01:35:24 2016 -0700

    Removed indirect string for keys
    
    Reviewed By: aagnes
    
    Differential Revision: D3425131
    
    fbshipit-source-id: f0af9baee7fcd0dca779d47e63f2263fd3cd3c49

commit 76e0202459bef9e09a16eb86e4081c9698d76f53
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Wed Jun 15 01:44:33 2016 -0700

    Update external demo build flavors to use 0.11.0
    
    Summary: This tests the new 0.11.0 release to ensure the artifacts are now available from JCenter.
    
    Reviewed By: aagnes
    
    Differential Revision: D3432708
    
    fbshipit-source-id: 888907729032463fd3cbe3a87656a989b0194e8c

commit 5f00a72db8b94d1ffcc7958443d3e48f8d4c4b81
Author: Massimo Carli <maxcarli@fb.com>
Date:   Tue Jun 14 10:10:08 2016 -0700

    Created Utility class for common code
    
    Differential Revision: D3424857
    
    fbshipit-source-id: 6fbc985689fa94cab4f473c58c697c4695aa7d13

commit da9b7f162bb31f538bda2f34e83ac505f0e67a39
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Tue Jun 14 07:20:06 2016 -0700

    Stop DecodeProducer reporting progress is complete until decoded
    
    Summary:
    Due to cases where decoding animated GIFs can take a noticeable amount of time after download, this change has the progress value passed from the network fetcher reduced by a small amount and only reports 100% completion once the decode is complete too.
    
    I've also added progress bars to the demo app to see the effect.
    
    Reviewed By: massimocarli
    
    Differential Revision: D3425257
    
    fbshipit-source-id: 00812c81b20d0c2ba1bf21bc041537e06a758c5b

commit 601db5f1fedbaa50104023ea01e95df2340c5f6e
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Tue Jun 14 02:06:22 2016 -0700

    Add cache size to events
    
    Summary:
    Adds the current total cache size to write and eviction events (the two times when this by definition should change).
    
    The current cache limit is also included in eviction events when the cause of eviction is size.
    
    Reviewed By: massimocarli
    
    Differential Revision: D3398780
    
    fbshipit-source-id: 34024216da113a951360a932ad5e2270dfb69069

commit 7aeaedc99c9b7c38e0aec8966dd84f402c7a1cb2
Author: Adam Norton <anorton@fb.com>
Date:   Mon Jun 13 07:49:04 2016 -0700

    Make SettableCacheEvent Public
    
    Reviewed By: kirwan
    
    Differential Revision: D3417616
    
    fbshipit-source-id: 60630d837e3bdc0f4e91c559d835dbe90b6926c1

commit 1235cbaa28c7fcddc6a505988881afa73cd3d56c
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Mon Jun 13 07:39:25 2016 -0700

    Bump version to 0.11.0
    
    Reviewed By: oprisnik
    
    Differential Revision: D3424659
    
    fbshipit-source-id: e798b58edab9a42df7f2772f2e958203abace5e3

commit 682f84d5dc17d3934081da989552581a136273f6
Author: Rexee <Rexee@users.noreply.github.com>
Date:   Mon Jun 13 04:02:51 2016 -0700

    Samples->Comparison. Add Picasso OkHttp version 3 support
    
    Summary:
    Current version of Picasso does not support OkHttp3, that cause runtime error.
    Added temporary fix according to this: https://github.com/square/picasso/issues/1256
    Closes https://github.com/facebook/fresco/pull/1291
    
    Reviewed By: oprisnik
    
    Differential Revision: D3424317
    
    Pulled By: kirwan
    
    fbshipit-source-id: c4ab21a1b6fddbb10f6aee25adac73d4747ae4b9

commit e4d5bfbbf027de67d620d4cfa5b4071b0799d8c5
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Fri Jun 10 13:19:20 2016 -0700

    Updated Gradle plugin version to 2.1.2
    
    Reviewed By: kirwan
    
    Differential Revision: D3412780
    
    fbshipit-source-id: df6caae3cc3ecb08ad9b4ea93fad0e5758e98975

commit 0c81765999d1495acc056cea5065cda2c6db1f96
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Thu Jun 9 06:30:56 2016 -0700

    Encapsulate CacheEventListener parameters in CacheEvent
    
    Summary: To avoid risk of future listener changes further breaking the public API, this encapsulates the parameters in a new `CacheEvent` class.
    
    Reviewed By: massimocarli
    
    Differential Revision: D3405176
    
    fbshipit-source-id: 54c38af4360b2dcb2e734b34d571e6a129e9a18d

commit 8e8825d971e7244e2e3162dd6fca39bdda78c7f4
Author: Massimo Carli <maxcarli@fb.com>
Date:   Thu Jun 9 03:34:30 2016 -0700

    Added Const class
    
    Reviewed By: oprisnik
    
    Differential Revision: D3405089
    
    fbshipit-source-id: b8f42368e878575ce091377e71f9810cf4b4c47f

commit 4bc0aed74088b7ba3583ab71b1322c12f4aab7a6
Author: Massimo Carli <maxcarli@fb.com>
Date:   Thu Jun 9 03:18:49 2016 -0700

    Creates SizeUtil with duplicate code
    
    Reviewed By: kirwan
    
    Differential Revision: D3405076
    
    fbshipit-source-id: 846d9d56e130ff011d7eb8317cc1d8574cfdaa65

commit caac55397c3c675cfa18274ef26d59b3a357acf1
Author: Massimo Carli <maxcarli@fb.com>
Date:   Wed Jun 8 10:30:35 2016 -0700

    Added OldController option to ListView
    
    Reviewed By: kirwan
    
    Differential Revision: D3405070
    
    fbshipit-source-id: 1da706e87edbe805d10936cc5fbae33d989782e4

commit f0f8fc1e310f707bad4ee9afc6a8d6aba24652be
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Wed Jun 8 10:28:23 2016 -0700

    Allow client to extend ImageDecoderOptions
    
    Reviewed By: kirwan
    
    Differential Revision: D3405417
    
    fbshipit-source-id: 06853ad687015f055de24ec73cd99f5d5e027175

commit 285204e0a3df4a6ca717cde36bdbb6c194fbc493
Author: Nick Tuckett <ntuckett@fb.com>
Date:   Wed Jun 8 09:49:57 2016 -0700

    Implemented pre-key lookup
    
    Differential Revision: D3385100
    
    fbshipit-source-id: bbc9cacb8bc0e01b453a015018bb6be6c93bf63c

commit 6ce399231eb46148472bfb537033816bbf7f13b1
Author: Massimo Carli <maxcarli@fb.com>
Date:   Wed Jun 8 09:39:57 2016 -0700

    Added ListView implementation
    
    Reviewed By: aagnes
    
    Differential Revision: D3405046
    
    fbshipit-source-id: d64ee5deb9b0e5ec34cc2af57b88988b01df4b01

commit 2b267e1b619a40decd43e87edfd07c5a3312e7f7
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Tue Jun 7 11:35:54 2016 -0700

    Add more detail to the CacheEventListener events
    
    Reviewed By: oprisnik
    
    Differential Revision: D3384706
    
    fbshipit-source-id: b0c49f4eaab1c6160368003c6be3b3ea89c740d4

commit 920b680319fcc41656b83a4cc2e6bc41feba68f0
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Tue Jun 7 11:35:51 2016 -0700

    Pass caller context when creating disk cache keys
    
    Summary:
    This passes the caller context when creating the disk and encoded cache keys, just as they already are for bitmap cache keys.
    
    The default implementation ignores this but there is now also a `DebuggingCacheKey` which holds the value for later reference.
    
    Reviewed By: aagnes
    
    Differential Revision: D3359535
    
    fbshipit-source-id: 5135209d16984377bc23ca31c39db13c89fcc7ee

commit b9f23fc890a32ebe853028e107a79d94629d6303
Author: Massimo Carli <maxcarli@fb.com>
Date:   Tue Jun 7 06:19:20 2016 -0700

    Implementation of SimpleAdapter for local Photos
    
    Reviewed By: kirwan
    
    Differential Revision: D3392831
    
    fbshipit-source-id: ca510778316ca1ecc18ec62de189f2ef063bb37f

commit 4b94f604e0a98a999dcc1357992f8cb34b1b83b6
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Tue Jun 7 05:43:39 2016 -0700

    Add onAttach/Detach to DraweeView
    
    Reviewed By: plamenko
    
    Differential Revision: D3372676
    
    fbshipit-source-id: 9992c00b714397e6a0523774ebd8a67f2fdf1f6b

commit 09d600f51a8ae0da9f10945cb9ed77b10dcbabf2
Author: Jie Wang <jiew@fb.com>
Date:   Fri Jun 3 08:39:31 2016 -0700

    uri cannot be null for requesting if inBitmapMemoryCache
    
    Reviewed By: oprisnik
    
    Differential Revision: D3365446
    
    fbshipit-source-id: 17e6b91ac1b142e52a3b1715a7e3ddffd5f6a3be

commit 3ac771762dfcd521a53dbf566a1968b4410c9af2
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Thu Jun 2 10:11:19 2016 -0700

    ImageRequestBuilder: Enable chaining for disableDiskCache()
    
    Reviewed By: kirwan
    
    Differential Revision: D3378811
    
    fbshipit-source-id: 51611bbd46b5664fc5055e1653404a7ac61b1ef1

commit d4c4d8848b256f91d0698ff9550e3610292d82d3
Author: Ognjen Dragoljevic <plamenko@fb.com>
Date:   Thu Jun 2 09:00:52 2016 -0700

    Properly handle requestDisallowInterceptTouchEvent
    
    Summary:
    If the current gesture performed on our ZoomableDraweeView haven't caused the transform to be corrected, we request our parent to not intercept events as we are going to hndle them. If on the other hand the transform got corrected, it means we tried to scroll past the bounds and we will let our parent intercept the events in case it wants to.
    
    As a consequence we can zoom-in, pan the image around, and once we reach the edge, the parent will take over and perform paging, as the user would expect. With this fix I hope we solved issues with ZoomableDraweeView within another scrollable containers such as ViewPager, etc.
    Closes https://github.com/facebook/fresco/pull/1243
    
    Reviewed By: balazsbalazs
    
    Differential Revision: D3360024
    
    Pulled By: plamenko
    
    fbshipit-source-id: 40f6fb1f2c6002a79e37e18d7e3518d29665eef6

commit 504eaaca27c3e09dbdd0cafc5a99f9970e57ace7
Author: Ognjen Dragoljevic <plamenko@fb.com>
Date:   Thu Jun 2 09:00:51 2016 -0700

    Fix long press in ZoomableDraweeView
    
    Summary:
    Tested that before this diff a false long-press would be triggered if user taps while the image is not loaded yet. Tested that this does not happen with this fix, and that long-press properly gets detected once the image gets loaded.
    Closes https://github.com/facebook/fresco/pull/1242
    
    Reviewed By: balazsbalazs
    
    Differential Revision: D3371736
    
    Pulled By: plamenko
    
    fbshipit-source-id: f55611cafd5127a09a4845d39f785de61e1b804e

commit b7bb486ab1cb2cb9f001919f109afc105b658094
Author: Ognjen Dragoljevic <plamenko@fb.com>
Date:   Thu Jun 2 09:00:48 2016 -0700

    Add zoomable sample app
    
    Summary:
    This sample app has a ViewPager with 3 pages, each containing one ZoomableDraweeView. This will allow us to test touch logic when zoomable view is in a container that also handles gestures.
    Closes https://github.com/facebook/fresco/pull/1241
    
    Reviewed By: balazsbalazs
    
    Differential Revision: D3362876
    
    Pulled By: plamenko
    
    fbshipit-source-id: cc07b86cc386e90ba2c9ad2f80b6ddbba9092256

commit f02ed7a80f4f3a612fd78ef6ce6d7cc9bd16b7a7
Author: Ognjen Dragoljevic <plamenko@fb.com>
Date:   Thu Jun 2 08:59:15 2016 -0700

    Always reserve space for a background and an overlay
    
    Summary:
    This achieves two things:
    * It allows us to dynamically change backgrounds and overlays
    * It saves memory as we removed 5 instance integers and added only 2 instance null-references (two null elements in the array of the fade drawable)
    
    An additional change is that multiple backgrounds are from now on deprecated. Context:
    This improvement required a small interface change between GenericDraweeHierarchy and its builder. In particular, GenericDraweeHierarchy now has only one layer dedicated for a background. Multiple backgrounds are still supported via builder, but this gets emulated by wrapping them with an ArrayDrawable. In theory this should work fine, with one caveat. Rounding no longer works for multiple backgrounds. This would be relatively easy to support, but given that multiple backgrounds are rarely used feature (if ever), instead of introducing additional complexity we decided to deprecate it instead.
    In case where there is only one or no background, everything should work as it was before.
    Closes https://github.com/facebook/fresco/pull/1246
    
    Reviewed By: kirwan
    
    Differential Revision: D3371737
    
    Pulled By: plamenko
    
    fbshipit-source-id: 73b3843631090564f445aab8117f2754e5bc2cb1

commit 45f1cfadee1f34a9001ad187fab3b1b742604f77
Author: Massimo Carli <maxcarli@fb.com>
Date:   Thu Jun 2 06:45:14 2016 -0700

    Moved tests for imageformat
    
    Reviewed By: kirwan
    
    Differential Revision: D3375214
    
    fbshipit-source-id: e39aecbdba983dc17f5db9dbcb974fe7bed8bb53

commit 96b1f0b8b384b34cecb1486c9e74fc86c43a0bd5
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Wed Jun 1 04:10:10 2016 -0700

    Add new protected methods to DraweeView
    
    Reviewed By: aagnes
    
    Differential Revision: D3365849
    
    fbshipit-source-id: 2112f162481f783cfb391fd37a610383b15a54f4

commit 0b339707de3d9b6d543194dd8b80b64d4d087d37
Author: s1rius <tangchangzhi@gmail.com>
Date:   Fri May 27 09:53:21 2016 -0700

    Fix GIF not display with EOF error
    
    Summary: Closes https://github.com/facebook/fresco/pull/1220
    
    Reviewed By: kirwan
    
    Differential Revision: D3334782
    
    Pulled By: tyronen
    
    fbshipit-source-id: 24b3ac949c8946b0162616445d5e0dbd0ea7bfe6

commit fbac7dbfb3fb1e383b605d4938844c67bd0c025a
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Fri May 27 09:53:19 2016 -0700

    Restore animated-gif support to the comparison app
    
    Reviewed By: kirwan
    
    Differential Revision: D3358612
    
    fbshipit-source-id: 2791c3e77022ad5ca3eff33a109e1b6d673bf6e1

commit d11e2647dcc11e2339fd7d423cc2c47a11b2a7b1
Author: neosu <280097765@qq.com>
Date:   Thu May 26 06:09:25 2016 -0700

    Add actualImageUri attribute
    
    Summary:
    add attr placeholderImageUri and demo
    
    can write image uri directly like this
    
    ```xml
        <com.facebook.drawee.view.SimpleDraweeView
            android:id="@+id/placeholderImageUri"
            android:layout_width="match_parent"
            android:layout_height="0dp"
            android:layout_weight="1"
            fresco:actualImageScaleType="fitCenter"
            fresco:placeholderImageUri="http://www.smemo.info/icon.png" />
    ```
    
    when we use android databinding ,like this
    
    ```xml
        <com.facebook.drawee.view.SimpleDraweeView
            android:id="@+id/placeholderImageUri"
            android:layout_width="match_parent"
            android:layout_height="0dp"
            android:layout_weight="1"
            fresco:actualImageScaleType="fitCenter"
            fresco:placeholderImageUri="@{imageBean.imageUrl}" />
    ```
    Closes https://github.com/facebook/fresco/pull/1079
    
    Reviewed By: oprisnik
    
    Differential Revision: D3328578
    
    Pulled By: kirwan
    
    fbshipit-source-id: 467063436f0acedf6ee2a27750995ef034663503

commit 0500ede4e3310aa04bff6a826732d9d6a6f32230
Author: Massimo Carli <maxcarli@fb.com>
Date:   Thu May 26 01:00:26 2016 -0700

    Added reuse old controller setting
    
    Reviewed By: oprisnik
    
    Differential Revision: D3343848
    
    fbshipit-source-id: 7226705d2dda34af490c1b4161f6c3e0fff14ffb

commit 2cd94b0db18cb537c04f9b6cec3912b370a0f2ef
Author: Massimo Carli <maxcarli@fb.com>
Date:   Wed May 25 10:28:52 2016 -0700

    Added Decorator in order to have all distinct Uri for infinite simple adapter
    
    Reviewed By: oprisnik
    
    Differential Revision: D3334294
    
    fbshipit-source-id: 5acde0b45f5c64566e5e30600a43a748edf5cb0d

commit 613ae0a85456cdc3dee78394e231ac9f1db6ec5a
Author: Massimo Carli <maxcarli@fb.com>
Date:   Wed May 25 09:11:54 2016 -0700

    Added infinite SimpleAdapter
    
    Reviewed By: kirwan
    
    Differential Revision: D3333476
    
    fbshipit-source-id: 132ddeb4d58d72b4e794906c32632949284b300e

commit 965cc0f12fff88489ffcd8a7c4a7bcfd4b3ba2e2
Author: Massimo Carli <maxcarli@fb.com>
Date:   Wed May 25 08:42:26 2016 -0700

    Added First simple Fresco implementation to RecyclerView
    
    Reviewed By: aagnes
    
    Differential Revision: D3333465
    
    fbshipit-source-id: 07087ade8878ed510ac60930001ae44e7923e2ac

commit cf00d7d9b773134adf94511bd81a9892ca391999
Author: chthai64 <chthai64@gmail.com>
Date:   Wed May 25 07:32:37 2016 -0700

    Update gradle plugin version from 1.5.0 to 2.1.0
    
    Summary:
    Shouldn't we update the gradle version to 2.1.0?
    Closes https://github.com/facebook/fresco/pull/1191
    
    Reviewed By: aagnes
    
    Differential Revision: D3339876
    
    Pulled By: kirwan
    
    fbshipit-source-id: 9a28a0703ce80fb6e6d493c9a5dc383c0cf28969

commit a490e1671e4258ff8ffee104535da7c61a6dd1a3
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Tue May 24 11:45:29 2016 -0700

    Fix #1180 OkHttp non-200 response not closed
    
    Summary:
    OkHttp has added an error message in cases where the reponse body is not closed.
    
    Issue #1180 reported such a scenario which turned out to be related to the addition of an Interceptor to the OkHttpClient.
    
    This change ensures the body is closed even if the response was unsuccessful.
    
    Reviewed By: oprisnik
    
    Differential Revision: D3311688
    
    fbshipit-source-id: 6ac8046be199ba27a3bb3b9c4f932fd684801f41

commit e0df7056c799c7a02c72c121e18877e4f014df2e
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Tue May 24 10:55:58 2016 -0700

    Disable pre-dex for Circle CI builds
    
    Summary:
    Pre-dexing is of no value in a CI environment likes Circle CI's which builds from a clean folder each time.
    
    Disabling it should speed up the build and reduce its memory footprint.
    
    Reviewed By: aagnes
    
    Differential Revision: D3340565
    
    fbshipit-source-id: b8a4a45e094a294ca938545d815309fd8c0e6989

commit 7386fe6fd173ae7643cb5e8f65f089327ef97afc
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Tue May 24 09:35:36 2016 -0700

    Standardize scrollperf configuration
    
    Reviewed By: kirwan
    
    Differential Revision: D3340454
    
    fbshipit-source-id: 37ae2ceeb807aa87a50242177d5ad00c691486d7

commit 1d7e47524a3223e8f3e93fe53aeb27b6b1c583a4
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Tue May 24 08:51:40 2016 -0700

    Make demo build against internal modules
    
    Summary:
    Since I changed the Fresco demo to build against the remote modules it's become clear that is not intuitive. It's also created a problem for anyone who wants to demonstrate a now feature in the demo.
    
    This change makes the internal build flavor active again while leaving the remote build flavors commented out so they are still available for testing new releases but don't get in the way of development between releases.
    
    This will fix our current CI build failure.
    
    Reviewed By: oprisnik
    
    Differential Revision: D3340477
    
    fbshipit-source-id: 06707093aa2783f5efb89c41341a2f24d438fe52

commit ced566d981e1158c498506e5a8d86bca7fb1917f
Author: Massimo Carli <maxcarli@fb.com>
Date:   Tue May 24 07:16:14 2016 -0700

    Changed min sdk for animated-base
    
    Reviewed By: kirwan
    
    Differential Revision: D3340087
    
    fbshipit-source-id: b58dce885758912d9b2f57342ecf69578edd9238

commit c70eeb301f15d8778c3450b2f4fbbcf840523d16
Author: Gahl Saraf <gahl@fb.com>
Date:   Mon May 23 10:47:28 2016 -0700

    Mark target SDK on AnimatedDrawableClass
    
    Reviewed By: kirwan
    
    Differential Revision: D3334156
    
    fbshipit-source-id: 6c1f141921f681e93b2a841a574e2a29edda5fde

commit 469d5237b0ae12a5c4c95bf9b9c1772230cddf25
Author: Ognjen Dragoljevic <plamenko@fb.com>
Date:   Mon May 23 10:23:07 2016 -0700

    Add support for dynamically changing backgrounds and overlays
    
    Summary:
    Allows backgrounds and overlays to be changed dynamically. Note, DraweeHierarchy space for backgrounds and overlays need to be preallocated in advance in order to be changed.
    Closes https://github.com/facebook/fresco/pull/1230
    
    Reviewed By: oprisnik
    
    Differential Revision: D3328662
    
    Pulled By: kirwan
    
    fbshipit-source-id: 06520d3b4f5b7b8e375cad25424856d79993ac19

commit 62cf1201242e71823d66a655c56f4ec4140ee26f
Author: Massimo Carli <maxcarli@fb.com>
Date:   Mon May 23 09:00:25 2016 -0700

    Fixed missing local.properties
    
    Reviewed By: kirwan
    
    Differential Revision: D3322886
    
    fbshipit-source-id: 8dd5817a572825dcaef719061434c0579caa36ff

commit 63532215f9b22b36d7d369af251dffd58150fca5
Author: Daniel Grech <dgrech@fb.com>
Date:   Mon May 23 07:35:09 2016 -0700

    Added support for forcing GIF images to be decoded as static images
    
    Reviewed By: plamenko
    
    Differential Revision: D3331333
    
    fbshipit-source-id: 34cb6e1dfcb36eb6592f8a79882bd5054ed0e5eb

commit 6740577c38059745f13e177a940a52eb2c1adc9f
Author: Massimo Carli <maxcarli@fb.com>
Date:   Mon May 23 06:50:06 2016 -0700

    Added ignore warning on okhttp3
    
    Reviewed By: kirwan
    
    Differential Revision: D3334365
    
    fbshipit-source-id: 2caefbacf30a345c809c8d22a625397882fab7fb

commit f7d4869c02ee87f4e63600221258cd954109644b
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Fri May 20 09:54:00 2016 -0700

    Fix comparison app to use Stetho with OkHttp 3
    
    Reviewed By: aagnes
    
    Differential Revision: D3328312
    
    fbshipit-source-id: 8523380a792fe14168b4b5d29025dc2e5c27ec69

commit ffdb8842f63c93eeff703af038f82cbe84633f01
Author: dmitry.chistyakov <dmitry0208@gmail.com>
Date:   Fri May 20 09:09:21 2016 -0700

    Drawee scaletype transition
    
    Summary:
    As mentioned in #22 ChangeImageTransform for DraweeViews is not working correctly, when ScaleType is changing during transition. This pull request resolve this issue by added custom DraweeTransition, which animates ScaleType transition correctly
    
    InterpolatingScaleType is changed by adding start and end values of parentBounds. In pervious version it used parameter parentBounds, which changing every animation frame and it caused wrong animation behaviour.
    
    Transition sample is changed due to use DraweeTransition. Also background was added in sample image, to show how animation works
    Closes https://github.com/facebook/fresco/pull/1225
    
    Reviewed By: plamenko
    
    Differential Revision: D3322074
    
    Pulled By: kirwan
    
    fbshipit-source-id: 1da6aee40b2e15d39bfc699e41488905fa2a08c0

commit 02d82c85bc152b4e040b9c5e430d746ef31cc437
Author: Massimo Carli <maxcarli@fb.com>
Date:   Thu May 19 08:31:37 2016 -0700

    Fixed build on Android Studio
    
    Reviewed By: kirwan
    
    Differential Revision: D3322321
    
    fbshipit-source-id: 3121f64f51ae5507b2cc990370521f8325681a18

commit 9bff1d3db79e34e2a406f38c0ef61a09493778cb
Author: Massimo Carli <maxcarli@fb.com>
Date:   Thu May 19 08:26:53 2016 -0700

    Added different layouts for ListView and RecyclerView
    
    Reviewed By: aagnes
    
    Differential Revision: D3304756
    
    fbshipit-source-id: 863851bcbf223b90518a6b79a5ef96f448d243d9

commit 22d9d6973a06d2ae8eeba185563d54bfdc8f5ce0
Author: Massimo Carli <maxcarli@fb.com>
Date:   Thu May 19 07:02:14 2016 -0700

    Added Data Source abstraction
    
    Reviewed By: kirwan
    
    Differential Revision: D3258464
    
    fbshipit-source-id: eb7dc642c2678bbb76166ec89499a2facc2f7d8b

commit c3929076ba0a0349d76ae93a260e63848c9dbce9
Author: Massimo Carli <maxcarli@fb.com>
Date:   Thu May 19 06:40:11 2016 -0700

    Gradle build for comparison app fixed
    
    Reviewed By: oprisnik
    
    Differential Revision: D3316401
    
    fbshipit-source-id: 1e32d01644e09d4e58c1272a46ca9b178a626b61

commit 45ba93eae5e824ae5da3125ccbccae589220462a
Author: Massimo Carli <maxcarli@fb.com>
Date:   Wed May 18 15:18:40 2016 -0700

    Fix Rounded
    
    Reviewed By: oprisnik
    
    Differential Revision: D3316596
    
    fbshipit-source-id: 590f1854c594636d29f289088387edba7612ca67

commit 6537fdf91734900834dfce33695636c38c3a79af
Author: Jie Wang <jiew@fb.com>
Date:   Wed May 18 13:48:40 2016 -0700

    log when item is in BitmapMemoryCache
    
    Reviewed By: kirwan
    
    Differential Revision: D3316788
    
    fbshipit-source-id: 69798ad43d205ee8bfad3d7ea40347272ffb311b

commit 5690f144ef7d7390aa83fe6107e190c10a300b62
Author: Massimo Carli <maxcarli@fb.com>
Date:   Wed May 18 07:14:38 2016 -0700

    Fixed package name
    
    Reviewed By: oprisnik
    
    Differential Revision: D3316390
    
    fbshipit-source-id: cd769e343c61f9169cc7a07f6b28d5dd5edbdc3c

commit a82c2ca19acc82a7bdd20322f0813d6999665030
Author: Konstantin Raev <bestander@fb.com>
Date:   Wed May 18 06:14:56 2016 -0700

    Reverted fresco-okhttp2 bindings deleted in D3292375
    
    Reviewed By: kirwan
    
    Differential Revision: D3316389
    
    fbshipit-source-id: 5a2730b88479b8a4d2dbf9d97cc98ee565a244f2

commit f20a3a754650929778c3ceb2a4b997399a191788
Author: Gahl Saraf <gahl@fb.com>
Date:   Wed May 18 03:51:55 2016 -0700

    Protect use of APIs that don't exist in SDK version=9
    
    Reviewed By: kirwan
    
    Differential Revision: D3311151
    
    fbshipit-source-id: f754e5cbabecace928c45dff0953fd44a0339054

commit 360177fcbd7a619ddc24b00b675c85c2c5a58b91
Author: Andrew Jack <me@andrewjack.uk>
Date:   Tue May 17 12:37:50 2016 -0700

    Upgrade to OkHttp3
    
    Summary:
    Update to [OkHttp](https://github.com/square/okhttp) to [OkHttp3](https://publicobject.com/2015/12/12/com-squareup-okhttp3/)
    
    We must also update:
    - Fresco to 0.10.0
    - okio to 1.8.0
    
    **Motivation**
    Reasons for upgrading:
    * Issue #4021
    * "We discovered that RN Android sometimes fails to connect to the latest stable version of NGINX when HTTP/2 is enabled. We aren't seeing errors with other HTTP clients so we think it's specific to RN and OkHttp. Square has fixed several HTTP/2 bugs over the past eight months." - ide
    * OkHttp3 will be maintained & improved, but OkHttp2 will only receive [security fixes](https://publicobject.com/2016/02/11/okhttp-certificate-pinning-vulnerability/)
    * Cleaner APIs - "Get and Set prefixes are avoided"
    * Deprecated/Removed - HttpURLConnection & Apache HTTP
    * React Native apps are currently being forced to bundle two versions of OkHttp (v2 & v3), if another library uses v3
    * Improved WebSocket performance - [CHANGELOG.md](https://github.com/square/okhttp/blob/master
    Closes https://github.com/facebook/react-native/pull/6113
    
    Reviewed By: andreicoman11, lexs
    
    Differential Revision: D3292375
    
    Pulled By: bestander
    
    fbshipit-source-id: 7c7043eaa2ea63f95854108b401c4066098d67f7

commit fb0f3f4bb056cf48bbdf290bd9e5b6626d27e42c
Author: Massimo Carli <maxcarli@fb.com>
Date:   Mon May 16 02:07:24 2016 -0700

    Merge bitmaps.so and memchunk.so as static library into imagepipeline.so for Gradle
    
    Reviewed By: oprisnik
    
    Differential Revision: D3298645
    
    fbshipit-source-id: 7fc40ec16308a10666281357fdade6282b335eb4

commit cb06c1c54e0ddce3fd549f0b7128c11e43860831
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Fri May 13 10:16:29 2016 -0700

    Adding Volley as a imagepipeline backend
    
    Reviewed By: kirwan
    
    Differential Revision: D3297842
    
    fbshipit-source-id: 2d231d48884f9de192c242977e0de6b4bed9dc70

commit 96d67ba663e7c07d9bf27c3c2f02f3986eff0c76
Author: Jie Wang <jiew@fb.com>
Date:   Thu May 12 03:49:35 2016 -0700

    Add callercontext to stetho logging
    
    Reviewed By: massimocarli
    
    Differential Revision: D3288676
    
    fbshipit-source-id: 9a3feb02452f61b0b39e2d0aeaa262f77239d4e0

commit 1def03031775b10fd719460f0fd0f776686ab43a
Author: Jie Wang <jiew@fb.com>
Date:   Thu May 12 03:49:33 2016 -0700

    Add callercontext to BitmapCacheKey
    
    Reviewed By: massimocarli
    
    Differential Revision: D3264114
    
    fbshipit-source-id: 1b4bbab202d061c04f05960b1427e5eaa78ea2b8

commit 6b58e667cedac153b0e688687a532888f4dc05c2
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Mon May 9 13:37:02 2016 -0700

    Merge libmemchunk.so into libimagepipeline.so
    
    Reviewed By: michalgr
    
    Differential Revision: D3276132
    
    fbshipit-source-id: 24644581a4dfa117c2a66351d399b99ed7ba75a1

commit fcbaf535016c833c4be3dfc44d25626e71ecb4ff
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Mon May 9 13:36:59 2016 -0700

    Merge libbitmaps.so into libimagepipeline.so
    
    Reviewed By: michalgr
    
    Differential Revision: D3275816
    
    fbshipit-source-id: 0883ac33a90549cf735bfa9dc933dc1b6dd9a96b

commit e260d9040bcad8aa6081d2ff7bdfbb188d251f14
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Thu May 5 04:06:28 2016 -0700

    Exposed isHolderAttached for DraweeHolder
    
    Reviewed By: aagnes
    
    Differential Revision: D3178974
    
    fb-gh-sync-id: dad7e8bbeb8e276248114ba3a9d482952d00f2fa
    fbshipit-source-id: dad7e8bbeb8e276248114ba3a9d482952d00f2fa

commit abeb080ce8135326a450e65b2e00b95f9dacd876
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Thu May 5 02:31:21 2016 -0700

    Add ImagePipelineExperiments
    
    Summary:
    This creates an area within the ImagePipelineConfig where we can clearly place new config options while we experiment with them.
    
    The intention is for these configuration options to be volatile, liable to change and sensible to avoid for open source users unless they have a strong desire otherwise.
    
    This will allow us to move faster on such experimentation without the same worry of whether we're breaking public APIs.
    
    Reviewed By: massimocarli
    
    Differential Revision: D3253101
    
    fb-gh-sync-id: c696fc4ce3e157123d8f24aa738af9ff0962c7d4
    fbshipit-source-id: c696fc4ce3e157123d8f24aa738af9ff0962c7d4

commit 7173ad7f4b40b689cb09bc5ec7f812967274d101
Author: Jasper Fung <jmfung@fb.com>
Date:   Wed May 4 19:27:57 2016 -0700

    Recycle thumbnail DraweeHierarchy
    
    Reviewed By: DanielGrech
    
    Differential Revision: D3238951
    
    fb-gh-sync-id: 6c1b54772117cc925b9d9e3ccae52f73e8aba248
    fbshipit-source-id: 6c1b54772117cc925b9d9e3ccae52f73e8aba248

commit a80a7ec2e68c7e21531d9d49b0eb042a04e52b20
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Wed May 4 09:00:53 2016 -0700

    Fixed failing test after BOLTS version update
    
    Reviewed By: kirwan
    
    Differential Revision: D3258441
    
    fb-gh-sync-id: 62f504f4f6b3b86f3a171fae3bbb0a87f51168de
    fbshipit-source-id: 62f504f4f6b3b86f3a171fae3bbb0a87f51168de

commit 2a696d728aa9c8be29b370823fb72af9ec85b18b
Author: Massimo Carli <maxcarli@fb.com>
Date:   Wed May 4 07:53:00 2016 -0700

    Created Skeleton for Preferences and Conf object
    
    Reviewed By: kirwan
    
    Differential Revision: D3256127
    
    fb-gh-sync-id: ae8945b1e42b74148beeaf63aeeb33e5b64733b4
    fbshipit-source-id: ae8945b1e42b74148beeaf63aeeb33e5b64733b4

commit bc81f9bb2cda8549c5d671a1739f799c5b03b7c0
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Wed May 4 06:56:49 2016 -0700

    Avoid allocating a list to get the first item
    
    Reviewed By: oprisnik
    
    Differential Revision: D3235071
    
    fb-gh-sync-id: f0fafeef78e0527f27b34e1f703421c2dd62b01e
    fbshipit-source-id: f0fafeef78e0527f27b34e1f703421c2dd62b01e

commit 7a4e56cf4af8cd758d7daf4ccb99f7ee6928a50e
Author: Gael Ribes <ribesg@gmail.com>
Date:   Tue May 3 12:13:42 2016 -0700

    Add resource ID based setters to GenericDraweeHierarchy and associated Builder
    
    Summary:
    * Add resource ID based setters for drawables in GenericDraweeHierarchy
    * Add resource ID + ScaleType setters for drawables in GenericDraweeHierarchy
    * Add ability to use resource IDs in GenericDraweeHierarchyBuilder (mirroring Drawable based setters)
    
    Fixes #1178.
    
    This was written on Github directly and not in an actual IDE, please check for any typo.
    Closes https://github.com/facebook/fresco/pull/1187
    
    Reviewed By: kirwan
    
    Differential Revision: D3252716
    
    Pulled By: oprisnik
    
    fb-gh-sync-id: d3abd3f1bf0759cf64dc21f221d1c3c59717e619
    fbshipit-source-id: d3abd3f1bf0759cf64dc21f221d1c3c59717e619

commit 607b03243d36a4e6192a9709e8ad7d58663bb27d
Author: Massimo Carli <maxcarli@fb.com>
Date:   Tue May 3 05:48:47 2016 -0700

    Created demo project skeleton
    
    Reviewed By: kirwan
    
    Differential Revision: D3238105
    
    fb-gh-sync-id: edd6928b68bb535877908ec8dda4d23a47d468ba
    fbshipit-source-id: edd6928b68bb535877908ec8dda4d23a47d468ba

commit 67e52927fbcc6634ab18d93ef421beac2d2081ce
Author: Massimo Carli <maxcarli@fb.com>
Date:   Fri Apr 29 09:01:16 2016 -0700

    LightBitmapDrawable Experiment on AbstractDraweeController
    
    Reviewed By: kirwan
    
    Differential Revision: D3199283
    
    fb-gh-sync-id: 4762bf64217a1ceed395ce6086b647ccb56d7829
    fbshipit-source-id: 4762bf64217a1ceed395ce6086b647ccb56d7829

commit 153430ec9e43d0e470ded15973b2e65aa5ba5226
Author: Nikita Lutsenko <nlutsenko@fb.com>
Date:   Thu Apr 28 22:31:52 2016 -0700

    Update Bolts-Tasks to 1.4.0.
    
    Reviewed By: kirwan
    
    Differential Revision: D3160363
    
    fb-gh-sync-id: 98a94c41fcfb6be32ba135648535980998969f83
    fbshipit-source-id: 98a94c41fcfb6be32ba135648535980998969f83

commit 67cafcee9e2c903ca42c665062790ddd8815d8fa
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Thu Apr 28 03:51:22 2016 -0700

    Fixed sample app build error
    
    Summary:
    The summary app now has a variant to use the jCenter version of Fresco.
    The sample app was changed in https://github.com/facebook/fresco/pull/1038, which breaks the jCenter build variant since the new API is not available yet.
    
    Reviewed By: aagnes
    
    Differential Revision: D3234955
    
    fb-gh-sync-id: 62929659d19fee9281c37de6bd75a38d1d0be8e3
    fbshipit-source-id: 62929659d19fee9281c37de6bd75a38d1d0be8e3

commit 19fc8fc84b488d0e703ebc4be97b8e8c52ee466b
Author: Nikita Borodikhin <eliterr@gmail.com>
Date:   Wed Apr 27 15:56:00 2016 -0700

    Fix leaked reference in LocalExifThumbnailProducer.buildEncodedImage()
    
    Summary:
    Closes https://github.com/facebook/fresco/issues/314
    
    The original reference is not closed explicitly and gets closed when garbage-collected.  The following test proves that:
    ```java
      Test
      public void testFindExifThumbnail() {
        mTestLocalExifThumbnailProducer.produceResults(mConsumer, mProducerContext);
        mTestExecutorService.runUntilIdle();
        // Should have 3 references open: The reference that is used in the producer, the cloned
        // reference when the argument is captured and one more that is created when getByteBufferRef is
        // called on EncodedImage
        assertEquals(
            3,
            mCapturedEncodedImage.
                getByteBufferRef().getUnderlyingReferenceTestOnly().getRefCountTestOnly());
    
        //////////////////////////////////////////
        // garbage collection test
        System.gc();
        try {
          Thread.sleep(1000);
        } catch (Exception e) {
        }
        assertEquals(
            2,
            mCapturedEncodedImage.
                getByteBufferRef().getUnderlyin
    Closes https://github.com/facebook/fresco/pull/1040
    
    Reviewed By: massimocarli
    
    Differential Revision: D3230172
    
    Pulled By: oprisnik
    
    fb-gh-sync-id: f406c90369fd1fdbd8d752e08a459cf95e74d9ee
    fbshipit-source-id: f406c90369fd1fdbd8d752e08a459cf95e74d9ee

commit dfe010375df3c09373b7c5fbaa70f4ad0b713a4e
Author: vojta udrzal <udrzalv@gmail.com>
Date:   Wed Apr 27 12:22:27 2016 -0700

    Added SimpleDraweeView.setImageURI(@Nullable String) method
    
    Summary:
    also changed one example in demo app to show the new method
    Closes https://github.com/facebook/fresco/pull/1038
    
    Reviewed By: kirwan
    
    Differential Revision: D3229768
    
    Pulled By: oprisnik
    
    fb-gh-sync-id: b9570228ad85298278e013a791168d5fed620801
    fbshipit-source-id: b9570228ad85298278e013a791168d5fed620801

commit cb8efe8dfe14bb6893a348bb2a84b6993af5acd9
Author: Sagar Trehan <trehanrocks@gmail.com>
Date:   Wed Apr 27 09:10:11 2016 -0700

    Fix for #912 Not able to set hotspot on "overlayImage" drawable set i‚Ä¶
    
    Summary:
    ‚Ä¶n xml
    
    - Overridden setHotspot(float x, float y)  method in ForwardingDrawablea and ArrayDrawable for passing touch event to drawee layers to make ripple hot spot work with SimpleDraweeView "overlayImage" attribute.
    Closes https://github.com/facebook/fresco/pull/967
    
    Reviewed By: plamenko
    
    Differential Revision: D3229605
    
    Pulled By: oprisnik
    
    fb-gh-sync-id: 74e84e8fb0af27ed3853cf1735fd0f7a96fb0779
    fbshipit-source-id: 74e84e8fb0af27ed3853cf1735fd0f7a96fb0779

commit 96fc6a1dede4dd84cd1dd5ee2bba75b576125f50
Author: Satyarth Sampath <satyarth@wooplr.com>
Date:   Tue Apr 26 16:40:33 2016 -0700

    Changed ArrayList to ArrayDeque so that the runnables are FIFO-ed
    
    Summary:
    So this is based on the discussion in #512
    
    Consider a list of network fetched images:
     - When the user pauses,you want the image that he is current viewing to be loaded first.
     - Currently since the methods are synchronized,it would not make sense implementing Thread Safety.
     - However if you plan to make this multi-threaded ,I can work on the thread safe implementation here(I would be implementing a multi thread environment for my purpose).
     - I realize the change is pretty negligible :) ,sorry about that.
    Closes https://github.com/facebook/fresco/pull/1086
    
    Reviewed By: kirwan
    
    Differential Revision: D3218939
    
    Pulled By: oprisnik
    
    fb-gh-sync-id: 395ac7f5e09f67c0c866ec466cab19f131417562
    fbshipit-source-id: 395ac7f5e09f67c0c866ec466cab19f131417562

commit b8ff9ec886f18e7f5f4bd575df81ff31396ede0d
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Tue Apr 26 16:36:16 2016 -0700

    Removed unused imports for AnimatedFactory
    
    Reviewed By: kirwan
    
    Differential Revision: D3225096
    
    fb-gh-sync-id: a8d7524c2dd733d40a4326dc1e8fdee8b03fabf3
    fbshipit-source-id: a8d7524c2dd733d40a4326dc1e8fdee8b03fabf3

commit 42dcd93d7071be943e986e5ba755866ebd467c58
Author: Jie Wang <jiew@fb.com>
Date:   Tue Apr 26 09:55:48 2016 -0700

    Visibility change to Decoder
    
    Reviewed By: kirwan
    
    Differential Revision: D3219115
    
    fb-gh-sync-id: d3a227988e49caba08465f36abf96fe9e2d7cc58
    fbshipit-source-id: d3a227988e49caba08465f36abf96fe9e2d7cc58

commit ce9f165363d5c9dcda37c92dc5ac7b4a7b2d91e8
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Tue Apr 26 09:07:44 2016 -0700

    Added automated Maven Central Sync for Bintray uploads
    
    Summary: We want to release on both Bintray (which syncs to jCenter) and Maven Central.
    
    Reviewed By: kirwan
    
    Differential Revision: D3207592
    
    fb-gh-sync-id: b54b634be95a411bd5d63ecb31241f187e846418
    fbshipit-source-id: b54b634be95a411bd5d63ecb31241f187e846418

commit b3c1a9643d901457c5db1af33320926622270f77
Author: Massimo Carli <maxcarli@fb.com>
Date:   Tue Apr 26 08:43:20 2016 -0700

    Fixed null for WebpTranscoder
    
    Reviewed By: aagnes, kirwan
    
    Differential Revision: D3212728
    
    fb-gh-sync-id: 4abedf45ff0d62c3e6685d298628b6287fe41152
    fbshipit-source-id: 4abedf45ff0d62c3e6685d298628b6287fe41152

commit 349fa8f814305e28c22b1f2b5798562229d20b11
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Mon Apr 25 10:15:13 2016 -0700

    Updated version in README
    
    Reviewed By: aagnes
    
    Differential Revision: D3219314
    
    fb-gh-sync-id: 4d7c504cff3fa8cfd680c4f9048aa54d53877455
    fbshipit-source-id: 4d7c504cff3fa8cfd680c4f9048aa54d53877455

commit dde7fe3b1fdfbd76e31ed30db2bcb589b893446e
Author: Chethan N <chethan.n@myntra.com>
Date:   Mon Apr 25 10:03:49 2016 -0700

    Added support for synchronous disk cache check
    
    Summary:
    Added a support to check in disk cache synchronously. The call will block the caller thread.
    This is useful when you want to manually check if an image is present in disk cache inside a async callback, this prevents nesting of callbacks.
    Closes https://github.com/facebook/fresco/pull/1124
    
    Reviewed By: oprisnik
    
    Differential Revision: D3218762
    
    Pulled By: kirwan
    
    fb-gh-sync-id: 9258384b46d5da9f80874936a06d53ccfb2645d2
    fbshipit-source-id: 9258384b46d5da9f80874936a06d53ccfb2645d2

commit 6c7e68b9c548a6d3170827909bfebcbe797a8af3
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Fri Apr 22 02:29:30 2016 -0700

    Make demo app clearer about which image uses which format
    
    Reviewed By: oprisnik
    
    Differential Revision: D3207265
    
    fb-gh-sync-id: b0b10d26a89f43d4a4f4a85922768b73d8c24f6a
    fbshipit-source-id: b0b10d26a89f43d4a4f4a85922768b73d8c24f6a

commit d7aa308fd6419e1a72a5c064a26a88aa5c059690
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Fri Apr 22 02:29:28 2016 -0700

    Make demo app get remote dependencies to test optional modules
    
    Reviewed By: oprisnik
    
    Differential Revision: D3201656
    
    fb-gh-sync-id: 3b0becd802c797a162c421dcd0dc9c359eb54447
    fbshipit-source-id: 3b0becd802c797a162c421dcd0dc9c359eb54447

commit 9caa0fe12aafba7383816e7f48abbf4a883e34f3
Author: Massimo Carli <maxcarli@fb.com>
Date:   Thu Apr 21 08:13:27 2016 -0700

    Buck module created to exclude nineoldandroid from closed source
    
    Reviewed By: oprisnik
    
    Differential Revision: D3163203
    
    fb-gh-sync-id: 7befbed09f179d3efdb4f79976488f5285cf0822
    fbshipit-source-id: 7befbed09f179d3efdb4f79976488f5285cf0822

commit ed58c337ec5ce3044e5dc4a720262ced84d7f30c
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Wed Apr 20 11:59:28 2016 -0700

    Fixed wrong filenames for Bintray artifacts
    
    Reviewed By: kirwan
    
    Differential Revision: D3202051
    
    fb-gh-sync-id: fe39b64d2f239e6f659b7a930d8857fe4bf81f31
    fbshipit-source-id: fe39b64d2f239e6f659b7a930d8857fe4bf81f31

commit ec14b85e032bb1bd1a1ce299d2f42bbd30ed039f
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Tue Apr 19 11:37:29 2016 -0700

    Added support for Bintray upload
    
    Reviewed By: massimocarli
    
    Differential Revision: D3173928
    
    fb-gh-sync-id: a65a18473a01ad48aec638464844f7871a32369f
    fbshipit-source-id: a65a18473a01ad48aec638464844f7871a32369f

commit af2c837bed4f2edfa2cac159678c3ff45a9eec5a
Author: Massimo Carli <maxcarli@fb.com>
Date:   Tue Apr 19 04:19:00 2016 -0700

    Use LightBitmapDrawable in RoundedBitmapDrawable
    
    Reviewed By: plamenko
    
    Differential Revision: D3087029
    
    fb-gh-sync-id: 2e30fba84e7e33d81412798065b589888918eac3
    fbshipit-source-id: 2e30fba84e7e33d81412798065b589888918eac3

commit 8a8bba4cf5471b8eba0608b8cca7b6961aecaf42
Author: Ian Childs <ianc@fb.com>
Date:   Tue Apr 19 01:55:35 2016 -0700

    Force configureBounds when setting new drawable in ScaleTypeDrawable and MatrixDrawable
    
    Reviewed By: kirwan, plamenko
    
    Differential Revision: D3191255
    
    fb-gh-sync-id: 21d5605a2b758e773df2b1091beac8c3744162af
    fbshipit-source-id: 21d5605a2b758e773df2b1091beac8c3744162af

commit 40e763c2deba96becdad5fd5b50e7f2342c11817
Author: Alex Nalivko <alexnalivko@fb.com>
Date:   Mon Apr 18 15:38:58 2016 -0700

    Adding custom request priority for disk prefetches
    
    Summary: Not all prefetches are equal, and some are more important than others. Adding custom priority settings so the clients can better express the difference between image requests.
    
    Differential Revision: D3186311
    
    fb-gh-sync-id: f7740f11e14fbaa96fd8c544986fc57f4a431aa8
    fbshipit-source-id: f7740f11e14fbaa96fd8c544986fc57f4a431aa8

commit 35863c66c4c1bb9e3f5a33a02a450101891b5727
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Mon Apr 18 09:35:00 2016 -0700

    Bump version to 0.10.0
    
    Reviewed By: kirwan
    
    Differential Revision: D3191023
    
    fb-gh-sync-id: 58b294de3637e58fd947a90bd64b8631f0ca3fa4
    fbshipit-source-id: 58b294de3637e58fd947a90bd64b8631f0ca3fa4

commit 6220436277a4f16581ee1852943a26dfbf85f4de
Author: Massimo Carli <maxcarli@fb.com>
Date:   Tue Apr 12 09:13:21 2016 -0700

    Implemented a light version of BitmapDrawable
    
    Reviewed By: plamenko
    
    Differential Revision: D3052858
    
    fb-gh-sync-id: e5d53028361c1ad8e58e15d3855c8260fa00570d
    fbshipit-source-id: e5d53028361c1ad8e58e15d3855c8260fa00570d

commit 1bdf4a386233a21042cd56b66489f7eabf1d8209
Author: Ian Childs <ianc@fb.com>
Date:   Fri Apr 8 01:47:26 2016 -0700

    Copy properties from parent drawable in ForwardingDrawable
    
    Reviewed By: kirwan, plamenko
    
    Differential Revision: D3144754
    
    fb-gh-sync-id: cd3b6cc24ccc0a94eb028132767fc4940c78ce49
    fbshipit-source-id: cd3b6cc24ccc0a94eb028132767fc4940c78ce49

commit 3b501d202cebe37fb28f9e61b69ec5a5fad896c8
Author: Ian Childs <ianc@fb.com>
Date:   Wed Apr 6 10:24:10 2016 -0700

    Use copyProperties in ArrayDrawable
    
    Reviewed By: kirwan
    
    Differential Revision: D3144719
    
    fb-gh-sync-id: 73d0a6a71d3dd35780b83175fdebd3ff62580c88
    fbshipit-source-id: 73d0a6a71d3dd35780b83175fdebd3ff62580c88

commit 24b1f88c593d42d859ccc4819cd032529fc354f3
Author: Massimo Carli <maxcarli@fb.com>
Date:   Tue Apr 5 09:57:56 2016 -0700

    Removed leak
    
    Reviewed By: oprisnik
    
    Differential Revision: D3138760
    
    fb-gh-sync-id: efddd1e535afcb8a9994a419ba0caf8a3fd8b52e
    fbshipit-source-id: efddd1e535afcb8a9994a419ba0caf8a3fd8b52e

commit c4a5effe2d056abd15864cce38d3b7469d24b646
Merge: 542cdcc fc7ecc9
Author: Alexander Oprisnik <alexoprisnik@gmail.com>
Date:   Tue Apr 5 17:18:29 2016 +0100

    Merge pull request #1109 from oprisnik/rm_lastsync
    
    Removed .lastsync

commit fc7ecc95c231e8b93024955bffb5527df2fc1c45
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Tue Apr 5 16:13:05 2016 +0100

    Removed .lastsync

commit 542cdcc14fc6bbfe13c613f787835c794d42f397
Author: Adam Norton <anorton@fb.com>
Date:   Mon Apr 4 16:06:32 2016 -0700

    Remove Dependency on DiskStorageCache Class
    
    Reviewed By: kirwan
    
    Differential Revision: D3122045
    
    fb-gh-sync-id: c27b16902a4cab0ee269c9a21319e97072b3fc70
    fbshipit-source-id: c27b16902a4cab0ee269c9a21319e97072b3fc70

commit c7bec4ae930d5918b4a8aba48c1a111b0d5c329b
Author: Massimo Carli <maxcarli@fb.com>
Date:   Mon Apr 4 10:13:32 2016 -0700

    Fixed Gradle build
    
    Reviewed By: kirwan
    
    Differential Revision: D3133674
    
    fb-gh-sync-id: 32bbcfe951978abb2712c51faaaa479d508fae72
    fbshipit-source-id: 32bbcfe951978abb2712c51faaaa479d508fae72

commit e8e33eade34afe5c6073bc9800c6d542753fcd0f
Author: Massimo Carli <maxcarli@fb.com>
Date:   Mon Apr 4 07:59:38 2016 -0700

    Animation Sample Project Created
    
    Summary:This is a demo application to test animations with and without GB support.
    
    Depends on D3052819
    
    Reviewed By: kirwan
    
    Differential Revision: D3059458
    
    fb-gh-sync-id: 6d1f4800f6a112a11040be325616d4529d9fc0ad
    fbshipit-source-id: 6d1f4800f6a112a11040be325616d4529d9fc0ad

commit 31c98a2fc024b890c151ec98de67b0ce75032791
Author: Massimo Carli <maxcarli@fb.com>
Date:   Mon Apr 4 07:16:23 2016 -0700

    Load Support version of AnimatedDrawableFactoryImpl if available
    
    Reviewed By: kirwan
    
    Differential Revision: D3052819
    
    fb-gh-sync-id: 07096aabd5e8212c82ee8f4dfa057f2e4336f0bf
    fbshipit-source-id: 07096aabd5e8212c82ee8f4dfa057f2e4336f0bf

commit ffea033af85dca30b31cc061cab4b3e8b5e08dfb
Author: Massimo Carli <maxcarli@fb.com>
Date:   Mon Apr 4 06:19:14 2016 -0700

    Removed nine old androids dependencies from closed source
    
    Reviewed By: kirwan
    
    Differential Revision: D3052812
    
    fb-gh-sync-id: 46cfa9ba5f863534d8e30fc21c45ec024a8c98be
    fbshipit-source-id: 46cfa9ba5f863534d8e30fc21c45ec024a8c98be

commit c69efde9bf312bc9e02c5fc90d529e984c21c3d8
Author: Massimo Carli <maxcarli@fb.com>
Date:   Mon Apr 4 04:29:19 2016 -0700

    Created AnimatedBaseSupport module
    
    Summary: This is the first step in the process of nineoldandroid removal. This module differs from the animated-base just because it uses nineoldandroid classes. In the next diff I'm going to remove the dependency of the animated-base from the nineoldandroid classes. In the third diff I'll implement a way to use the support classes if present in the classpath. If not the classes from the animated-base will be used.
    
    Reviewed By: kirwan
    
    Differential Revision: D3052791
    
    fb-gh-sync-id: cb7507bacec5e05edfad29e4dace5e4d0107fd0b
    fbshipit-source-id: cb7507bacec5e05edfad29e4dace5e4d0107fd0b

commit 99c180b1d2963dfaedf1098e7ebc1d6289fc137f
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Mon Apr 4 02:53:47 2016 -0700

    CircleCI: copy test reports to CircleCI test reports directory
    
    Summary: Closes https://github.com/facebook/fresco/pull/1107
    
    Reviewed By: kirwan
    
    Differential Revision: D3127494
    
    Pulled By: oprisnik
    
    fb-gh-sync-id: 090d38a032e77a240f9c5cd7a6845f1ee3121660
    fbshipit-source-id: 090d38a032e77a240f9c5cd7a6845f1ee3121660

commit 60ce67d0928dedb0761af388d342272add584da8
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Fri Apr 1 08:46:11 2016 -0700

    Allow image requests to disable disk cache for network URIs
    
    Summary: This creates the possibility of disabling disk caching for an image request, in cases where the contents are considered too sensitive to leave on the phone's storage.
    
    Reviewed By: oprisnik
    
    Differential Revision: D3120696
    
    fb-gh-sync-id: c3a706b3f2d11b00c8e71e8be28829eed31f6dad
    fbshipit-source-id: c3a706b3f2d11b00c8e71e8be28829eed31f6dad

commit 7577e967f66627b6d02cf65a07a1d55207ddb813
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Fri Apr 1 06:42:16 2016 -0700

    Added CircleCI badge to README
    
    Summary:Looks like this: https://github.com/oprisnik/fresco/tree/add_circle_badge
    Closes https://github.com/facebook/fresco/pull/1105
    
    Differential Revision: D3126280
    
    Pulled By: balazsbalazs
    
    fb-gh-sync-id: b51e5d888df05bdadcfc2e1d90c74ec7e40603ac
    fbshipit-source-id: b51e5d888df05bdadcfc2e1d90c74ec7e40603ac

commit 1b860e2da91ae4ad024bdba482e67562830831a6
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Fri Apr 1 04:20:30 2016 -0700

    CircleCI: Ignore gh-pages
    
    Summary: We do not want to run on CircleCI for github pages changes.
    
    Reviewed By: kirwan
    
    Differential Revision: D3126194
    
    fb-gh-sync-id: 5ed97069b9179f3558a1d7aca3f5ba166133ff08
    fbshipit-source-id: 5ed97069b9179f3558a1d7aca3f5ba166133ff08

commit 59daf73666100f131809f94042e3eb7ea5873905
Author: jwilson <jwilson@squareup.com>
Date:   Wed Mar 30 09:58:40 2016 -0700

    Upgrade to OkHttp 3.
    
    Summary: Closes https://github.com/facebook/fresco/pull/875
    
    Reviewed By: balazsbalazs
    
    Differential Revision: D3109573
    
    Pulled By: oprisnik
    
    fb-gh-sync-id: cf846760786be625267c7d9c97e3543b3131eaea
    fbshipit-source-id: cf846760786be625267c7d9c97e3543b3131eaea

commit 110cac61ca590597dcecb00e94066b8bca516187
Author: Alexander Oprisnik <oprisnik@fb.com>
Date:   Thu Mar 24 04:40:13 2016 -0700

    Added circle.yml for CircleCI
    
    Summary:In order for the build to pass on CircleCI, we need to add the Android NDK to the path - so I added a simple `circle.yml` file.
    Also, CircleCI does not support v23.0.0 for the Android build tools, so I updated them to v23.0.1.
    Closes https://github.com/facebook/fresco/pull/1068
    
    Reviewed By: kirwan
    
    Differential Revision: D3076236
    
    Pulled By: oprisnik
    
    fb-gh-sync-id: d972266fa4d8e8ca7239307592367e0aa1814f9f
    fbshipit-source-id: d972266fa4d8e8ca7239307592367e0aa1814f9f

commit 2e2f176a68a5701adb975911849129b7402ce138
Author: Tim Wright <timwr@fb.com>
Date:   Thu Mar 24 04:17:59 2016 -0700

    remove internal task number from DraweeView javadocs
    
    Reviewed By: tyronen
    
    Differential Revision: D3041077
    
    fb-gh-sync-id: 2a69920a35647a396c382ac6bd8e3a41731e7456
    fbshipit-source-id: 2a69920a35647a396c382ac6bd8e3a41731e7456

commit db6af7e6cf45c03a2cdc4f297d4bc87669eadf83
Author: Alex Nalivko <alexnalivko@fb.com>
Date:   Tue Mar 22 18:02:03 2016 -0700

    Adding ExperimentalPrefetcher to test a bit different approach on fetch scheduling
    
    Reviewed By: SeyelentEco
    
    Differential Revision: D3080488
    
    fb-gh-sync-id: b06dcc411d51a641dc31f6fb139e063c9fef3b8d
    fbshipit-source-id: b06dcc411d51a641dc31f6fb139e063c9fef3b8d

commit 01da3cd78d0d8738f65e2daecf9da25d74c3d3fb
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Mon Mar 21 11:01:49 2016 -0700

    Fallback to next thumbnail if not big enough
    
    Reviewed By: massimocarli
    
    Differential Revision: D3059245
    
    fb-gh-sync-id: 1d02dc89a4eb59bf124f93143709c176dc934bfe
    fbshipit-source-id: 1d02dc89a4eb59bf124f93143709c176dc934bfe

commit a175df7a455cca36c4107a45f4c9886211949fc5
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Mon Mar 21 11:01:47 2016 -0700

    Add ThumbnailBranchProducer to factories
    
    Reviewed By: massimocarli
    
    Differential Revision: D3041339
    
    fb-gh-sync-id: bae6be52daccc9e7d2617e33bd8c0346cad5653c
    fbshipit-source-id: bae6be52daccc9e7d2617e33bd8c0346cad5653c

commit 87667150b735e279e3bb7b35e285fd0ba7814505
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Mon Mar 21 11:01:46 2016 -0700

    Implement ThumbnailProducer
    
    Reviewed By: oprisnik
    
    Differential Revision: D3035406
    
    fb-gh-sync-id: 70e05c2146c867bd1882ac119c49579cc86d560d
    fbshipit-source-id: 70e05c2146c867bd1882ac119c49579cc86d560d

commit 9f5c147b8d6ebbae3590acfb5ad006da22369395
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Mon Mar 21 11:01:44 2016 -0700

    Create ThumbnailBranchProducer
    
    Reviewed By: plamenko
    
    Differential Revision: D3023777
    
    fb-gh-sync-id: 7d7aa7b0f22418cc782b8f0d3bead1138a340f84
    fbshipit-source-id: 7d7aa7b0f22418cc782b8f0d3bead1138a340f84

commit eedf8ca8019a7bbf8c8b902c5be5013fb46d3587
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Mon Mar 21 11:01:37 2016 -0700

    Split thumbnails from LocalContentUriFetchProducer
    
    Reviewed By: massimocarli
    
    Differential Revision: D3000619
    
    fb-gh-sync-id: 2314f00dfd8c4853b68b095ac1ae4b468315ea3d
    fbshipit-source-id: 2314f00dfd8c4853b68b095ac1ae4b468315ea3d

commit 611dcd3d39f3c8e96a2077307a4a641453a0cc45
Author: Ognjen Dragoljevic <plamenko@fb.com>
Date:   Thu Mar 17 13:23:22 2016 -0700

    Use MultiCacheKey instead of List<CacheKey>
    
    Summary: Poluting several of the core ImagePipeline classes and its public API for a temporary change was a bad idea. This diff cleans up the mess.
    
    Reviewed By: tyronen, kirwan
    
    Differential Revision: D3047568
    
    fb-gh-sync-id: 9677064893701f731f42b9ec4f3dd0a218a83646
    fbshipit-source-id: 9677064893701f731f42b9ec4f3dd0a218a83646

commit 89477f77af3b6954f57dc39b8c572b4b8eb4e84a
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Wed Mar 16 07:16:20 2016 -0700

    Replace EnumSet with int and IntDef for zooming limits
    
    Reviewed By: plamenko
    
    Differential Revision: D3052657
    
    fb-gh-sync-id: 6802256f623afa02d0ae4626503d6df1eb41bfbf
    fbshipit-source-id: 6802256f623afa02d0ae4626503d6df1eb41bfbf

commit 09dc44cfa43a26b001224ceea1ab55bb51f5019a
Author: Helios Alonso Cabanillas <heliosalonso@fb.com>
Date:   Tue Mar 15 16:01:42 2016 -0700

    Remove unneeded DiskStorage.getResourceId
    
    Reviewed By: tyronen
    
    Differential Revision: D3045873
    
    fb-gh-sync-id: 360a2e5288681158cdf174fe465bd515e273061d
    fbshipit-source-id: 360a2e5288681158cdf174fe465bd515e273061d

commit 135814ad10f0d6fc647dfb4d910f3d68c985ade3
Author: Massimo Carli <maxcarli@fb.com>
Date:   Tue Mar 15 04:14:34 2016 -0700

    Fix gradle build after animation refactoring
    
    Summary:Fixed Gradle removing a dependency into a test
    Depends on D3023854
    
     This diff fixes the build with Gradle. Each modules can be built separately now.
    
    Reviewed By: kirwan
    
    Differential Revision: D3035606
    
    fb-gh-sync-id: 715a1ff87fb74257e2f47dcf9acba7f95f709eed
    fbshipit-source-id: 715a1ff87fb74257e2f47dcf9acba7f95f709eed

commit 7ede13b36ca5083bfbc29257ae1dfed9d58392e7
Author: Massimo Carli <maxcarli@fb.com>
Date:   Mon Mar 14 05:56:57 2016 -0700

    Animated into proper module
    
    Reviewed By: kirwan
    
    Differential Revision: D3023854
    
    fb-gh-sync-id: 15ac9dda5b4be91d4cb43bf2601219692b5220d9
    fbshipit-source-id: 15ac9dda5b4be91d4cb43bf2601219692b5220d9

commit a7d47b60a87ae1b3095df5af4a0c60f73e86d2f4
Author: Ognjen Dragoljevic <plamenko@fb.com>
Date:   Fri Mar 11 12:11:44 2016 -0800

    Extract and fix animation zoomable logic
    
    Reviewed By: kirwan
    
    Differential Revision: D2991974
    
    fb-gh-sync-id: cbfc39ac6cde8c8767f1fea9d7f03b4c609b88d8
    fbshipit-source-id: cbfc39ac6cde8c8767f1fea9d7f03b4c609b88d8

commit caabf9525c2b0a7179e99891b4bca5d1fc129304
Author: Ognjen Dragoljevic <plamenko@fb.com>
Date:   Wed Mar 9 12:26:12 2016 -0800

    kill MediaGalleryZoomableController
    
    Reviewed By: kirwan
    
    Differential Revision: D2991616
    
    fb-gh-sync-id: b1e57cef07ab4fe19d47da9dbecd52d32f815ac6
    fbshipit-source-id: b1e57cef07ab4fe19d47da9dbecd52d32f815ac6

commit b991d3fdcfcac6dafeda2c13f726bcfe61b61f99
Author: Ognjen Dragoljevic <plamenko@fb.com>
Date:   Wed Mar 9 08:37:32 2016 -0800

    Minor additions to DefaultZoomableController
    
    Summary:Added `isIdenity` method and boolean switch to `limitScale`.
    Fix limitTranslation when using a scaletype that positions the image center out of the view center.
    
    Reviewed By: kirwan
    
    Differential Revision: D2991606
    
    fb-gh-sync-id: e516e836b30de3bcd25ab310ccbed62e9dfc89b5
    fbshipit-source-id: e516e836b30de3bcd25ab310ccbed62e9dfc89b5

commit a5c86675ec20f9eb5468cdd037f6efac5e13d4a1
Author: Ognjen Dragoljevic <plamenko@fb.com>
Date:   Wed Mar 9 08:37:31 2016 -0800

    Minor refactor in multi-pointer gesture detector
    
    Summary:* Chnge internal state to `started` only after the listener is notified. This makes the contract more consistent and avoids some problems along the road.
    * Start gesture immediately on tap-down, instead of on first move. This was originally done in move event in case we'd like to start gesture only after pointer moves over some threshold, but this is still possible (if ever needed) and it is cleaner this way.
    * Keep information about `newCount` so that `onGestureStop` listener can know both the number of taps before and after. This information is useful for zoomable controller.
    * Other than that, some code is extracted to methods.
    
    Reviewed By: kirwan, aagnes
    
    Differential Revision: D2991569
    
    fb-gh-sync-id: fb388c791c458eeb861fb058981a6c329f6632d2
    fbshipit-source-id: fb388c791c458eeb861fb058981a6c329f6632d2

commit c3f92c82aac0722c2fe26f4006b054434d8f1f58
Author: Massimo Carli <maxcarli@fb.com>
Date:   Mon Mar 7 05:24:26 2016 -0800

    Renamed duplicated test classes
    
    Summary:Renamed duplicated test classes
    
     We had to split these classes in order to manage tests with AnimatedDrawable. Here we need to change the class name in order to avoid build errors with Gradle
    
    Reviewed By: kirwan
    
    Differential Revision: D3018163
    
    fb-gh-sync-id: 24c868bfec273a453ae0ac2e142fbd656f0c989a
    fbshipit-source-id: 24c868bfec273a453ae0ac2e142fbd656f0c989a

commit 5fcb5e63bef6a7ff04e4527c4de96112e4c89981
Author: Patrick Theisen <theisenp@fb.com>
Date:   Fri Mar 4 11:01:31 2016 -0800

    Fix touch handling in the ZoomableDraweeView
    
    Reviewed By: kirwan
    
    Differential Revision: D3009688
    
    fb-gh-sync-id: 145c5f9049c429ed1633f360b136b9f2f12573e3
    fbshipit-source-id: 145c5f9049c429ed1633f360b136b9f2f12573e3

commit 8844b29f3fd5fc5999ee8fada56bce396a9daead
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Fri Mar 4 04:44:21 2016 -0800

    Fix AnimatedFactoryImpl constructor
    
    Reviewed By: balazsbalazs
    
    Differential Revision: D3011403
    
    fb-gh-sync-id: 5ee37b044d443509922b23c1e876d433f1e73319
    fbshipit-source-id: 5ee37b044d443509922b23c1e876d433f1e73319

commit 674f7fb8d4ff0ca4e23872e10a332932e6eeec2a
Author: Aakash Anuj <aakashanuj@fb.com>
Date:   Tue Mar 1 13:27:44 2016 -0800

    Added null check for drawee in DraweeHolder
    
    Reviewed By: plamenko
    
    Differential Revision: D2971123
    
    fb-gh-sync-id: bf94a18e1491b690e107ea05dedf460017d861ed
    fbshipit-source-id: bf94a18e1491b690e107ea05dedf460017d861ed

commit 280e3af5d770edae6783c15640432f316fdd5124
Author: Ognjen Dragoljevic <plamenko@fb.com>
Date:   Mon Feb 29 16:27:35 2016 -0800

    Add tap-listener support to zoomable view
    
    Reviewed By: aagnes
    
    Differential Revision: D2909893
    
    fb-gh-sync-id: 09183152ad6b26a233817781550e30ce195bafd2
    fbshipit-source-id: 09183152ad6b26a233817781550e30ce195bafd2

commit 8cf75d9f512add507a533c75f0c158cb6f24790a
Author: Ognjen Dragoljevic <plamenko@fb.com>
Date:   Mon Feb 29 09:51:20 2016 -0800

    Javadoc and minor refactor of zoomable logic
    
    Reviewed By: aagnes
    
    Differential Revision: D2909892
    
    fb-gh-sync-id: 9e6cc7ae13e386d3af3dfc3c16fff295ca1ea617
    fbshipit-source-id: 9e6cc7ae13e386d3af3dfc3c16fff295ca1ea617

commit 5c12f110d7a33db75df615dc59b009fd1293b26e
Author: Aakash Anuj <aakashanuj@fb.com>
Date:   Fri Feb 26 04:10:20 2016 -0800

    Add API to create ByteBuffers from Bitmaps
    
    Reviewed By: aagnes
    
    Differential Revision: D2965673
    
    fb-gh-sync-id: de0fd054e79bc2b0b9967b771d48b73fc71349c3
    fbshipit-source-id: de0fd054e79bc2b0b9967b771d48b73fc71349c3

commit 4442fc976a6d6d1b8c9e2e0a4f44d777a7ab043f
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Thu Feb 25 08:29:11 2016 -0800

    Fix instacrash due to conflicting experiments
    
    Reviewed By: massimocarli
    
    Differential Revision: D2976584
    
    fb-gh-sync-id: 45791de64dc8694ddf5328a9446db07bbc2ef37c
    fbshipit-source-id: 45791de64dc8694ddf5328a9446db07bbc2ef37c

commit aa258af65e55c15ce2ba9a036b51176f76c40ba1
Author: Massimo Carli <maxcarli@fb.com>
Date:   Thu Feb 25 08:17:50 2016 -0800

    Created AnimatedImageFactory abstraction - The BIG one
    
    Summary:In this diff we want to abstract the AnimatedImageFactory from its optional implementation. This is the main diff of the series and basically creates interfaces into a module which could be implemented by implementation in the optional modules. In the specific:
    
    imagepipeline-base
    -----------------------
    Contains all the interfaces for abstractions
    AnimatedDrawableFactory
    AnimatedFactory (new interface to abstract all the animated*** classes)
    AnimatedImageFactory
    
    AnimatedFactory is the interface which will be implemented into the animated-base module if some animations are present. The animated-gif and animated-webp have animated-base as dependency so adding one of them will add animated-base as well.
    AnimatedFactoryProvider is the class responsible to check for the presence of AnimatedFactory implementation.
    
    animation-base
    -----------------------
    This modules contains the implementation for the AnimatedFactory which basically is responsible to check if implementation of the AnimatedImageDecoder interface are present for Gif and Webp. The AnimatedImageDecoder is the interface which abstract the decoding of animated image for Gif and Webp.
    The
    
    animated-webp
    ------------------
    This contains the implementation of the AnimatedImageDecoder interface for Webp Images. This is an optional module the presence is checked into the animated-base module
    
    animated-gif
    ------------------
    This contains the implementation of the AnimatedImageDecoder interface for Gif Images. This is an optional module the presence is checked into the animated-base module
    
    Unfortunately It's difficult to split this into other diffs.
    This builds also on gradle
    
    UPDATE: Talking to tyronen, we agreed we can reduce dependencies with animation abstracting more the AnimatedDrawable objects. I will be doing this into a new diff [11bis/12].
    
     ImagePipelineFactory refactoring for optional animation support
    
    Depends on D2878272
    
    Reviewed By: kirwan
    
    Differential Revision: D2881173
    
    fb-gh-sync-id: 7b5ce9dc65f883c1db01bfbace121154eeb9e52e
    fbshipit-source-id: 7b5ce9dc65f883c1db01bfbace121154eeb9e52e

commit b001575b6bad4ea62ab9d6653651beb51f47785e
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Wed Feb 24 03:41:34 2016 -0800

    Ignore BUCK files in test resource folders
    
    Reviewed By: massimocarli
    
    Differential Revision: D2966047
    
    fb-gh-sync-id: d720c9283589d4c7689d64979e27817023a7b72a
    fbshipit-source-id: d720c9283589d4c7689d64979e27817023a7b72a

commit 49baf3f032f79d5c60afab2c06dfd7983c52825b
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Wed Feb 24 03:16:53 2016 -0800

    Fix Gradle build
    
    Reviewed By: massimocarli
    
    Differential Revision: D2965914
    
    fb-gh-sync-id: f6e6f9af059d41f8fc6ecc7d1f5207a6a5219f2a
    fbshipit-source-id: f6e6f9af059d41f8fc6ecc7d1f5207a6a5219f2a

commit 6409a6140ee7f5672ab7c5c623d0ac1d83637b98
Author: Massimo Carli <maxcarli@fb.com>
Date:   Tue Feb 23 04:06:58 2016 -0800

    --gc-sections flag added in gradle build
    
    Reviewed By: kirwan
    
    Differential Revision: D2960351
    
    fb-gh-sync-id: 29e735fc0acea3abe3216b1d7c254ccc555681e2
    fbshipit-source-id: 29e735fc0acea3abe3216b1d7c254ccc555681e2

commit e0da47ea520b5bfb1431810dee6e5f433d684fdc
Author: Ognjen Dragoljevic <plamenko@fb.com>
Date:   Mon Feb 22 06:49:05 2016 -0800

    Rename some internal GDH methods
    
    Reviewed By: balazsbalazs
    
    Differential Revision: D2954750
    
    fb-gh-sync-id: 7afd6264f95791b2a78e45583c6626424c86089f
    fbshipit-source-id: 7afd6264f95791b2a78e45583c6626424c86089f

commit 240ce6d2e65e87842fc9cb331f0a71991568c696
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Fri Feb 19 13:52:15 2016 -0800

    Simplify drawee inflation
    
    Reviewed By: plamenko
    
    Differential Revision: D2949810
    
    fb-gh-sync-id: 71890f3b5a74798724ac31f0e629690986d5ff0b
    fbshipit-source-id: 71890f3b5a74798724ac31f0e629690986d5ff0b

commit 6136cf2adb6121b890709535bbfdd180a60332f2
Author: Ognjen Dragoljevic <plamenko@fb.com>
Date:   Fri Feb 19 11:35:41 2016 -0800

    Add InterpolatingScaleType
    
    Reviewed By: balazsbalazs
    
    Differential Revision: D2898218
    
    fb-gh-sync-id: 76dc4da58e60a3b29092051ebb3f636acb4d5bc8
    fbshipit-source-id: 76dc4da58e60a3b29092051ebb3f636acb4d5bc8

commit e2113dc7fc468bf8c3cfb5a358a7cc3bce371ea8
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Fri Feb 19 04:10:36 2016 -0800

    Use Fresco logo for sample app icons
    
    Reviewed By: balazsbalazs
    
    Differential Revision: D2949483
    
    fb-gh-sync-id: b0c4e70b783beb604edf9b17ea6b2efa4e825c49
    fbshipit-source-id: b0c4e70b783beb604edf9b17ea6b2efa4e825c49

commit 7298dbc1438156983112906371ad03de04bb2a01
Author: Ognjen Dragoljevic <plamenko@fb.com>
Date:   Thu Feb 18 07:46:47 2016 -0800

    Fresco: Handle properly setting a null drawable in GDH Builder
    
    Reviewed By: kirwan
    
    Differential Revision: D2949145
    
    fb-gh-sync-id: 12f545001b8e7a73b7f8db781d199fc52be2c828
    fbshipit-source-id: 12f545001b8e7a73b7f8db781d199fc52be2c828

commit e69410a266b6739738411b6d23f6f232102314b1
Author: Massimo Carli <maxcarli@fb.com>
Date:   Wed Feb 17 04:24:28 2016 -0800

    Added delay method for release controller
    
    Reviewed By: plamenko
    
    Differential Revision: D2906096
    
    fb-gh-sync-id: fe7b752fdf89b757416193446b1df391064a36ef
    fbshipit-source-id: fe7b752fdf89b757416193446b1df391064a36ef

commit c2351c1e511641170632388af3c6a9cfd4f38b32
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Tue Feb 16 10:24:37 2016 -0800

    Force small images into the small cache
    
    Reviewed By: massimocarli
    
    Differential Revision: D2905932
    
    fb-gh-sync-id: f4bcb2f2b4aba73ef82270541012cedd7b0a45bb
    fbshipit-source-id: f4bcb2f2b4aba73ef82270541012cedd7b0a45bb

commit a94367f2e699a8bc7d71438b8d8f5fedf0c9fe38
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Tue Feb 16 10:24:35 2016 -0800

    Add an index to the disk cache
    
    Reviewed By: massimocarli
    
    Differential Revision: D2917084
    
    fb-gh-sync-id: 5b75056d835d7c05c974cd27b3557d87fea0f2d5
    fbshipit-source-id: 5b75056d835d7c05c974cd27b3557d87fea0f2d5

commit e72dc7ca75dc740d004dc63f63d2f3bae3a00f2e
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Tue Feb 16 10:24:32 2016 -0800

    Use the correct time when deciding when to evict from cache
    
    Reviewed By: aagnes
    
    Differential Revision: D2938931
    
    fb-gh-sync-id: 626c181951b07db757e9f2a404fbdc2371b2f621
    fbshipit-source-id: 626c181951b07db757e9f2a404fbdc2371b2f621

commit b8f18c80e77cf19de70f4d070ed814b5bc96f0d9
Author: Olivier Notteghem <oli@fb.com>
Date:   Tue Feb 16 10:10:30 2016 -0800

    Fix alpha in RoundedBitmapDrawable
    
    Reviewed By: balazsbalazs
    
    Differential Revision: D2937805
    
    fb-gh-sync-id: e7415cf180c4fabe1a5e3bbb184b8dcc46d5ee1d
    fbshipit-source-id: e7415cf180c4fabe1a5e3bbb184b8dcc46d5ee1d

commit 485419acdeb5f34712ff61ef272ed565e22a23e9
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Tue Feb 16 02:51:43 2016 -0800

    Update dependencies of the Fresco Gradle build
    
    Reviewed By: tyronen
    
    Differential Revision: D2931878
    
    fb-gh-sync-id: 09e6e6ed4d9e22bc43d0d20f6671bb6e505e1dda
    fbshipit-source-id: 09e6e6ed4d9e22bc43d0d20f6671bb6e505e1dda

commit 01d656ca799a72257c86dcfd94b96bf77543fe9b
Author: Ognjen Dragoljevic <plamenko@fb.com>
Date:   Mon Feb 15 08:26:43 2016 -0800

    Fix null resourceId while inflating hierarchy
    
    Reviewed By: IanChilds
    
    Differential Revision: D2937451
    
    fb-gh-sync-id: 52466790b945704f4f868b05d5057fdb491f0907
    fbshipit-source-id: 52466790b945704f4f868b05d5057fdb491f0907

commit af501f79ea654845db3dd62ee830bce8899a89e5
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Mon Feb 15 06:27:50 2016 -0800

    Use modern methods to get disk use info
    
    Reviewed By: massimocarli
    
    Differential Revision: D2916443
    
    fb-gh-sync-id: 14c89f8ce529611af7411a1f3bfd7d4d12a547c2
    fbshipit-source-id: 14c89f8ce529611af7411a1f3bfd7d4d12a547c2

commit 32946996b8170c94849fe75afbfe3f59d2d2644f
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Mon Feb 15 04:11:24 2016 -0800

    A new score-based eviction comparator
    
    Differential Revision: D2921750
    
    fb-gh-sync-id: aebe973462fcc6a46d2f2dd675163af850671430
    fbshipit-source-id: aebe973462fcc6a46d2f2dd675163af850671430

commit 99a593f41b1c22eb08e1c92879a56ee00dbd4009
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Fri Feb 12 17:09:33 2016 -0800

    Rename some of the BufferedDiskCache tests
    
    Reviewed By: aagnes
    
    Differential Revision: D2933368
    
    fb-gh-sync-id: f78e1fedc9f711326b2141fc671db9107dd3d648
    fbshipit-source-id: f78e1fedc9f711326b2141fc671db9107dd3d648

commit f5aa8c6a1c6134736645355b52d4d8fa60f6cf33
Author: Helios Alonso Cabanillas <heliosalonso@fb.com>
Date:   Fri Feb 12 17:00:51 2016 -0800

    Added ID to disk storage entry interface
    
    Reviewed By: tyronen
    
    Differential Revision: D2931706
    
    fb-gh-sync-id: 4449210c2ce1c5ad0e3f886d947f104225dc083a
    fbshipit-source-id: 4449210c2ce1c5ad0e3f886d947f104225dc083a

commit 7e02f542dcf5fbd0682617195987832250840801
Author: Ognjen Dragoljevic <plamenko@fb.com>
Date:   Fri Feb 12 12:50:54 2016 -0800

    Make ZoomableDraweeView inflatable from XML
    
    Reviewed By: balazsbalazs
    
    Differential Revision: D2906454
    
    fb-gh-sync-id: d92f29f04883f40c55922e1f03965e712272d44e
    fbshipit-source-id: d92f29f04883f40c55922e1f03965e712272d44e

commit d932c2ee62e47db5569ac7bde1df309e42d10166
Author: Ognjen Dragoljevic <plamenko@fb.com>
Date:   Thu Feb 11 14:53:09 2016 -0800

    Extract hierarchy inflation logic
    
    Reviewed By: balazsbalazs
    
    Differential Revision: D2895993
    
    fb-gh-sync-id: 327c70200a2e05c90655f6f21c6f8836bac3958c
    fbshipit-source-id: 327c70200a2e05c90655f6f21c6f8836bac3958c

commit af0ca4134b4a99a7f5bd5e95e4b97ba996023781
Author: Helios Alonso Cabanillas <heliosalonso@fb.com>
Date:   Thu Feb 11 13:37:02 2016 -0800

    Make Fresco DiskStorage instantiation customizable
    
    Reviewed By: tyronen
    
    Differential Revision: D2907536
    
    fb-gh-sync-id: 8c284f7a3986255702d72aa123419329c0916674
    fbshipit-source-id: 8c284f7a3986255702d72aa123419329c0916674

commit 52c1cf24a4bf9fc49c02d823886ac1de1429d21a
Author: Helios Alonso Cabanillas <heliosalonso@fb.com>
Date:   Wed Feb 10 20:30:16 2016 -0800

    Make the DiskStorageSupplier be just another implementation of DiskStorage
    
    Reviewed By: tyronen
    
    Differential Revision: D2907006
    
    fb-gh-sync-id: 2f219d1e22f7f57d1565fced61cfc106b8f693d3
    fbshipit-source-id: 2f219d1e22f7f57d1565fced61cfc106b8f693d3

commit b51636f70fdba2b608d569940a681d9320af2a24
Author: Denis Koroskin <dkoroskin@fb.com>
Date:   Wed Feb 10 11:38:10 2016 -0800

    Fix incorrect logging tags in com.facebook.imagepipeline.memory
    
    Reviewed By: massimocarli
    
    Differential Revision: D2919661
    
    fb-gh-sync-id: 885f9f856b054bfba61eaf139527888e6239776f
    fbshipit-source-id: 885f9f856b054bfba61eaf139527888e6239776f

commit 79fb4cd6e899d7c10cd34c1f883b2567fc9b792e
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Wed Feb 10 07:40:23 2016 -0800

    Remove private method from the DiskStorage interface
    
    Reviewed By: IanChilds
    
    Differential Revision: D2921484
    
    fb-gh-sync-id: 44abb1ecb9f06dd93eec2f91c5c360993dee62dc
    fbshipit-source-id: 44abb1ecb9f06dd93eec2f91c5c360993dee62dc

commit 357ca94b0c1ca2d93ae3a163094dd0359a1a0c44
Author: Ognjen Dragoljevic <plamenko@fb.com>
Date:   Tue Feb 9 17:46:23 2016 -0800

    Reorder methods in Zoomable
    
    Reviewed By: aagnes
    
    Differential Revision: D2909891
    
    fb-gh-sync-id: 3601e17b4f09069bd2173bc25dc4e7213a6c3a3f
    fbshipit-source-id: 3601e17b4f09069bd2173bc25dc4e7213a6c3a3f

commit 3c320bfb12fb17ed6f15e67737066ba4de90469a
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Tue Feb 9 10:54:07 2016 -0800

    Fix HttpUrlConnectionNetworkFetcherTest for Gradle
    
    Reviewed By: massimocarli
    
    Differential Revision: D2916201
    
    fb-gh-sync-id: e37657e44a3d085436018f30c9473628bc470398
    fbshipit-source-id: e37657e44a3d085436018f30c9473628bc470398

commit cb1f57e48b5a6e7fb6ced2ffc1d1fe2ccce0aca7
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Tue Feb 9 10:04:39 2016 -0800

    Fix Round sample
    
    Reviewed By: tyronen
    
    Differential Revision: D2916626
    
    fb-gh-sync-id: 4b7e42b5ad0c6296e6eaf4d5d23c7747d6d8d7ce
    fbshipit-source-id: 4b7e42b5ad0c6296e6eaf4d5d23c7747d6d8d7ce

commit bdc8a0cb3c0a0ff7f5e332222e5b2e38fedff939
Author: Helios Alonso Cabanillas <heliosalonso@fb.com>
Date:   Mon Feb 8 16:28:48 2016 -0800

    Deprecated getFilename
    
    Reviewed By: siyengar
    
    Differential Revision: D2904644
    
    fb-gh-sync-id: a84602e3a958f1ddbb0f068b1ead3722535badc9
    fbshipit-source-id: a84602e3a958f1ddbb0f068b1ead3722535badc9

commit efe75f596abbb7d7da6d409790298e1bde220464
Author: Massimo Carli <maxcarli@fb.com>
Date:   Mon Feb 8 05:18:09 2016 -0800

    Fixed gradle build for imagepipeline module
    
    Reviewed By: tyronen
    
    Differential Revision: D2878272
    
    fb-gh-sync-id: 404fa84536960baa4cfeba72a9a37f4646fa3d99
    fbshipit-source-id: 404fa84536960baa4cfeba72a9a37f4646fa3d99

commit f6573ad4e6620ec0acd497be4d817e7ff195f29e
Author: Massimo Carli <maxcarli@fb.com>
Date:   Mon Feb 8 03:07:35 2016 -0800

    Created gradle module for animated gif
    
    Reviewed By: tyronen
    
    Differential Revision: D2878261
    
    fb-gh-sync-id: a0534a3db1621fc00e6445d98a8d5fafa1ec8831
    fbshipit-source-id: a0534a3db1621fc00e6445d98a8d5fafa1ec8831

commit 414816a737e6f30438150eafd850316cc1df3807
Author: Massimo Carli <maxcarli@fb.com>
Date:   Mon Feb 8 02:34:31 2016 -0800

    Created gradle module for animated-webp
    
    Reviewed By: tyronen
    
    Differential Revision: D2878247
    
    fb-gh-sync-id: d5d3025f4903a9b0cdeb81a09ca5d95128d0b86c
    fbshipit-source-id: d5d3025f4903a9b0cdeb81a09ca5d95128d0b86c

commit 961bcb532f29467ffb0ff0b120973fe575b5f68d
Author: Helios Alonso Cabanillas <heliosalonso@fb.com>
Date:   Fri Feb 5 18:18:34 2016 -0800

    Encapsulate insertion to cache into InsertTask interface (builder pattern)
    
    Reviewed By: tyronen
    
    Differential Revision: D2902318
    
    fb-gh-sync-id: dc4df7ef72e81e97baad60687a30f6af7fde6b9e
    fbshipit-source-id: dc4df7ef72e81e97baad60687a30f6af7fde6b9e

commit 8d51b6a70d7622172c3b15f6ab88a2c58fc3ff03
Author: Ognjen Dragoljevic <plamenko@fb.com>
Date:   Fri Feb 5 11:36:30 2016 -0800

    Minor improvements to HierarchyBuilder and RoundingParams
    
    Reviewed By: balazsbalazs
    
    Differential Revision: D2895876
    
    fb-gh-sync-id: d8d42ff531b296c2963539fcb6b075f4f5557129
    fbshipit-source-id: d8d42ff531b296c2963539fcb6b075f4f5557129

commit 9a1ab37f98201ecad5f248759ed13cc7464277ed
Author: Ognjen Dragoljevic <plamenko@fb.com>
Date:   Fri Feb 5 09:56:46 2016 -0800

    Fix zoomable transform limitting
    
    Reviewed By: aagnes
    
    Differential Revision: D2906004
    
    fb-gh-sync-id: 1d3b1a12ea606890eb56e66c827329762d4975e0
    fbshipit-source-id: 1d3b1a12ea606890eb56e66c827329762d4975e0

commit f59e297e408c1034a78f8b8f4d7ca21a95a6ed47
Author: Massimo Carli <maxcarli@fb.com>
Date:   Thu Feb 4 17:06:33 2016 -0800

    Fix Gradle for animated-base
    
    Reviewed By: tyronen
    
    Differential Revision: D2878228
    
    fb-gh-sync-id: 6fca9fdd5102651cf1323130a917b7c459220656
    fbshipit-source-id: 6fca9fdd5102651cf1323130a917b7c459220656

commit 51df4fbe8d7b792cd0a5d99288ed39ccf1846460
Author: Helios Alonso Cabanillas <heliosalonso@fb.com>
Date:   Thu Feb 4 13:23:18 2016 -0800

    Minimum change to allow different implementations of DiskStorage
    
    Reviewed By: tyronen
    
    Differential Revision: D2898560
    
    fb-gh-sync-id: 72e6fff4742fef71a7ac4cc23e893f34f1c8a0a6
    fbshipit-source-id: 72e6fff4742fef71a7ac4cc23e893f34f1c8a0a6

commit cd972bd80edd3a592228ce4847460428c893cc2a
Author: Massimo Carli <maxcarli@fb.com>
Date:   Thu Feb 4 13:19:58 2016 -0800

    Moved testing classes to remove cycle dependencies
    
    Reviewed By: tyronen
    
    Differential Revision: D2878195
    
    fb-gh-sync-id: 961f9a9742df8b18ab0627a0015272f4bed76387
    fbshipit-source-id: 961f9a9742df8b18ab0627a0015272f4bed76387

commit e1cdf3897239548dc6e496655b5f4787d345221f
Author: Massimo Carli <maxcarli@fb.com>
Date:   Thu Feb 4 10:58:45 2016 -0800

    EncodedImage Moved
    
    Reviewed By: tyronen
    
    Differential Revision: D2862234
    
    fb-gh-sync-id: d8e55140798e76cf861f449d3fb22229d19cdc08
    fbshipit-source-id: d8e55140798e76cf861f449d3fb22229d19cdc08

commit 8701a865c6c4def61681fd19b59c84526c0a632c
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Wed Feb 3 08:21:32 2016 -0800

    Reject image responses with a non-successful HTTP response code
    
    Reviewed By: tyronen
    
    Differential Revision: D2832986
    
    fb-gh-sync-id: 790d54b4abee12fe81eb72a9c228cdbc52412997
    fbshipit-source-id: 790d54b4abee12fe81eb72a9c228cdbc52412997

commit 853601acaf455386078758e1dcae8e2898d8dce6
Author: Kirwan Lyster <kirwanlyster@fb.com>
Date:   Wed Feb 3 08:01:18 2016 -0800

    Remove AppCompat from transition sample
    
    Reviewed By: massimocarli
    
    Differential Revision: D2895341
    
    fb-gh-sync-id: e77c9b37bba6c1e6787a1604de429e047229e29d
    fbshipit-source-id: e77c9b37bba6c1e6787a1604de429e047229e29d

commit f81065c62330d398ddcaff3afb69c0cf7d0c1632
Author: Ognjen Dragoljevic <plamenko@fb.com>
Date:   Wed Feb 3 07:33:11 2016 -0800

    Add support for custom scale types
    
    Summary:This diff adds support for providing custom scaletypes to Drawee. The implementation for the preexisting scale types is preserved.
    This is a non-breaking change, however the old static method has been deprecated. It is advised that direct usages of `ScalingUtils.getTransform(..., scaleType)` be converted to `scaleType.getTransform(...)`.
    
    Reviewed By: balazsbalazs
    
    Differential Revision: D2892247
    
    fb-gh-sync-id: 247c745c5b55f42b38ee9e80f6e06b44e2441cf6
    fbshipit-source-id: 247c745c5b55f42b38ee9e80f6e06b44e2441cf6

commit b41e95d49e8a6b73005d5c0153f88f12c4329ea8
Author: Ognjen Dragoljevic <plamenko@fb.com>
Date:   Wed Feb 3 07:33:08 2016 -0800

    Fix 'none' scaletype
    
    Differential Revision: D2892242
    
    fb-gh-sync-id: 93b54347b3d8d988ffb488276e30e06b07176825
    fbshipit-source-id: 93b54347b3d8d988ffb488276e30e06b07176825

commit 8b871e5004d32b9a9a418f5c673f4e878c49f02f
Author: Konstantin Raev <bestander@fb.com>
Date:   Fri Jan 29 12:20:23 2016 -0800

    Reverted breaking changes
    
    Reviewed By: balazsbalazs
    
    Differential Revision: D2879926
    
    fb-gh-sync-id: 9f833c209128eaa00b111387ee57dbbc6b74fcb7
    fbshipit-source-id: 9f833c209128eaa00b111387ee57dbbc6b74fcb7

commit b769a83f9d1967a464f32ca57aef9066dc7694db
Author: Massimo Carli <maxcarli@fb.com>
Date:   Fri Jan 29 11:37:14 2016 -0800

    Memory classes moved into imagepipeline-base
    
    Reviewed By: tyronen
    
    Differential Revision: D2834343
    
    fb-gh-sync-id: ba88013774bd0a547a91b34edb2c0e07f440849c
    fbshipit-source-id: ba88013774bd0a547a91b34edb2c0e07f440849c

commit b0d150acd5aa3a0b82c13dc7af8e41f0e2a202cf
Author: Ognjen Dragoljevic <plamenko@fb.com>
Date:   Fri Jan 29 04:25:16 2016 -0800

    Add support for custom scale types
    
    Summary:This diff adds support for providing custom scaletypes to Drawee. The implementation for the preexisting scale types is preserved.
    Breaking changes should be minimal. In fact, only direct usages of `ScalingUtils.getTransform(..., scaleType)` should be converted to `scaleType.getTransform(...)`.
    
    Reviewed By: kirwan
    
    Differential Revision: D2862911
    
    fb-gh-sync-id: ab0355fd13544dc08ce4481eda87287404ea7adb
    fbshipit-source-id: ab0355fd13544dc08ce4481eda87287404ea7adb

commit 0930a7e3f8ef9049eb1ca87c7ec2b104405c585e
Author: Denis Koroskin <dkoroskin@fb.com>
Date:   Thu Jan 28 14:33:57 2016 -0800

    Properly call onFailure() when requested Uri is malformed
    
    Reviewed By: IanChilds
    
    Differential Revision: D2873787
    
    fb-gh-sync-id: f415bde7a87fdf1ae4d556e7aefdaac0e618d734
    fbshipit-source-id: f415bde7a87fdf1ae4d556e7aefdaac0e618d734

commit 8e87a6724d37d40ab523016270fbe218e0e21e0e
Author: Daniel Colascione <dancol@fb.com>
Date:   Wed Jan 27 21:55:24 2016 -0800

    Codemod realtime to CLOCK_MONOTONIC where it makes sense
    
    Reviewed By: rickbrew
    
    Differential Revision: D2860798
    
    fb-gh-sync-id: 35cd188091f6f790809afed81529531850f82d85
    fbshipit-source-id: 35cd188091f6f790809afed81529531850f82d85

commit eb628d52f7df897ae0ccef4dd504732a9c59dbf3
Author: Massimo Carli <maxcarli@fb.com>
Date:   Wed Jan 27 16:22:36 2016 -0800

    Common package moved to imagepipeline-base
    
    Reviewed By: tyronen
    
    Differential Revision: D2834158
    
    fb-gh-sync-id: ea3bb2326b805ec8f6943db17eee60ca31619825
    fbshipit-source-id: ea3bb2326b805ec8f6943db17eee60ca31619825

commit 9041dc091aa47f4bba2840f1ddf6a6cf0b9add1c
Author: Massimo Carli <maxcarli@fb.com>
Date:   Wed Jan 27 12:29:54 2016 -0800

    Moved Factory classes for animation in base module
    
    Reviewed By: tyronen
    
    Differential Revision: D2834145
    
    fb-gh-sync-id: c1d3a145a77a44fe5183aba19011417fb97aa122
    fbshipit-source-id: c1d3a145a77a44fe5183aba19011417fb97aa122

commit aa8b2f0af9f87a5299137ae1543d76dd1a7a36d5
Author: Massimo Carli <maxcarli@fb.com>
Date:   Mon Jan 25 13:03:55 2016 -0800

    Moved animated gif into its own module
    
    Reviewed By: tyronen
    
    Differential Revision: D2834132
    
    fb-gh-sync-id: d7832ccd2f57ac0b1cd7ee692d3a07db0b1025a3
    fbshipit-source-id: d7832ccd2f57ac0b1cd7ee692d3a07db0b1025a3

commit c7140de92f017a5af3ec6474a987198381adb1ab
Author: Massimo Carli <maxcarli@fb.com>
Date:   Mon Jan 25 11:16:18 2016 -0800

    Moved webp animation
    
    Reviewed By: tyronen
    
    Differential Revision: D2834077
    
    fb-gh-sync-id: 74abea45e7494e41c5223073cc482d539f088db8
    fbshipit-source-id: 74abea45e7494e41c5223073cc482d539f088db8

commit 1d929b7482821e4f9c9d33ac69130c5b7ad7b8c4
Author: Massimo Carli <maxcarli@fb.com>
Date:   Fri Jan 22 04:02:40 2016 -0800

    Animated impl moved to base
    
    Reviewed By: tyronen
    
    Differential Revision: D2834054
    
    fb-gh-sync-id: 166b822a5e576a1467a7e7d5b319fd651e80c1e3
    fbshipit-source-id: 166b822a5e576a1467a7e7d5b319fd651e80c1e3

commit 146ca45358ed0ef478426ef07ef91816fc512146
Author: Massimo Carli <maxcarli@fb.com>
Date:   Fri Jan 22 02:43:53 2016 -0800

    Moved common cache classes for animation
    
    Summary: This diff fixes the build with Gradle. Each modules can be built separately now.
    
    Depends on D2833924
    
    Reviewed By: tyronen
    
    Differential Revision: D2834049
    
    fb-gh-sync-id: 442aa72bcb9f6af57379a7f326c16af833ad806e
    fbshipit-source-id: 442aa72bcb9f6af57379a7f326c16af833ad806e

commit 4cde275b93a1a8260bf9b075b036dfb1cba7ea39
Author: Jie Wang <jiew@fb.com>
Date:   Thu Jan 21 13:05:39 2016 -0800

    enable aquery run in comparison script
    
    Reviewed By: tyronen
    
    Differential Revision: D2846480
    
    fb-gh-sync-id: 3ddb3aac7c8cb9f75225ad8b6c0cbe5f9b417656
    fbshipit-source-id: 3ddb3aac7c8cb9f75225ad8b6c0cbe5f9b417656

commit 2031139903e9c628a5c190a3e3d8b06471c8273f
Author: Massimo Carli <maxcarli@fb.com>
Date:   Thu Jan 21 06:52:25 2016 -0800

    Animation Util module moved
    
    Reviewed By: tyronen
    
    Differential Revision: D2833924
    
    fb-gh-sync-id: 1b7ee0318f5e8418a0f267d8518e3541f5d868cd
    fbshipit-source-id: 1b7ee0318f5e8418a0f267d8518e3541f5d868cd

commit 73805326a1524d3c2e504e9c7edb8ab73a32f35b
Author: Massimo Carli <maxcarli@fb.com>
Date:   Thu Jan 21 03:31:16 2016 -0800

    Created animation module with base classes
    
    Reviewed By: tyronen
    
    Differential Revision: D2833894
    
    fb-gh-sync-id: 478e9656ec44fd471d66730de1d89ca4b2a3fb56
    fbshipit-source-id: 478e9656ec44fd471d66730de1d89ca4b2a3fb56

commit 885d76a443f956debf91862f64d85321a19864be
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Sat Jan 16 15:09:25 2016 -0800

    Capacity to turn on multiple cache keys
    
    Differential Revision: D2815862
    
    fb-gh-sync-id: 011f5d4b04510afdd6ef7db668fb45e63247dbdb
    fbshipit-source-id: 011f5d4b04510afdd6ef7db668fb45e63247dbdb

commit 6eb0e62ce1501052c2d9ec1d4a73787c50a4c667
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Sat Jan 16 15:09:24 2016 -0800

    Allow a lookup of multiple cache keys from the disk cache in a single request
    
    Reviewed By: IanChilds
    
    Differential Revision: D2815850
    
    fb-gh-sync-id: 7a6a4ede238635d4784d5b29e41e91c7d8ea46ba
    fbshipit-source-id: 7a6a4ede238635d4784d5b29e41e91c7d8ea46ba

commit 1a1f5653fc02553f48da03eae8f78548d17a27f4
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Sat Jan 16 15:09:22 2016 -0800

    Move getCacheKeySourceUri out of CacheKeyFactory interface
    
    Reviewed By: IanChilds
    
    Differential Revision: D2830932
    
    fb-gh-sync-id: 65883711e8fa3973e3720e7e13f3c23d8662a71e
    fbshipit-source-id: 65883711e8fa3973e3720e7e13f3c23d8662a71e

commit 3fe1941b42d0bdd92c61c985eebf2f303373154e
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Sat Jan 16 15:09:21 2016 -0800

    Switch the remove-cache methods to use CacheKey.containsUri
    
    Reviewed By: IanChilds
    
    Differential Revision: D2830930
    
    fb-gh-sync-id: b26b7913f2c10c8b8fa600f0bb594c5fcbef2688
    fbshipit-source-id: b26b7913f2c10c8b8fa600f0bb594c5fcbef2688

commit 9e849ff6c816d2a228e9954eed540854e57d3e30
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Sat Jan 16 15:09:16 2016 -0800

    Add a containsUri method to CacheKey
    
    Reviewed By: IanChilds
    
    Differential Revision: D2830927
    
    fb-gh-sync-id: fc6737833b134e284b01453e3f31272bbcce10bb
    fbshipit-source-id: fc6737833b134e284b01453e3f31272bbcce10bb

commit df2854a76786f58e044a71617309cc3c0a0c358c
Author: Tyrone Nicholas <tyrone.nicholas@gmail.com>
Date:   Fri Jan 15 11:17:57 2016 +0000

    Update .lastsync

commit 71845c98b3cc462d81454535b09096ccdeca70c1
Author: Pasquale Anatriello <pasqualea@fb.com>
Date:   Thu Jan 14 17:33:16 2016 -0800

    Add equals/hashCode to RoundingParams

commit 6abd727c90ef398cbc6c991d23a1171d7efbbdc9
Author: Ognjen Dragoljevic <plamenko@fb.com>
Date:   Thu Jan 14 13:07:28 2016 -0800

    Simplify PostprocessedBitmapMemoryCacheProducer

commit 745f3033e1df54debca6659fbcd0424d269d749c
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Mon Jan 11 09:03:34 2016 -0800

    Move default disk cache parameters into DiskCacheConfig

commit f2f7c493f65083a7d762d34ef9ed24b8b2a8c5a0
Author: Jie Wang <jiew@fb.com>
Date:   Fri Jan 8 04:41:24 2016 -0800

    Move AspectRatio logic from GenericView to View

commit cb9bf4b058330464c869ccd42a9a42184748ce5d
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Tue Jan 5 10:33:25 2016 -0800

    Log image type

commit b3b1983aa38ada7d4794639897167b1eb7114265
Author: Ian Childs <ianc@fb.com>
Date:   Tue Jan 5 09:56:30 2016 -0800

    Remove unnecessary fields

commit e908033cdf3934f3408fa44c5d352841f06c18a4
Author: Gerald Nash <g.nash.dev@gmail.com>
Date:   Mon Jan 4 09:36:09 2016 -0800

    Two fixed typos in Java source files.

commit 1ad1938600472074e7d35712d331b11022e79b22
Author: Daniel Hugenroth <hugenroth@fb.com>
Date:   Mon Jan 4 08:29:34 2016 -0800

    optimized attribute parsing

commit b89e89a1b1bb0e1fa9c730e578d5fc41a6e0e079
Author: Alex Nalivko <alexnalivko@fb.com>
Date:   Sat Jan 2 16:02:28 2016 -0800

    Pulling eviction logic into a configurable interface

commit f167160bbcf6eeb8ec3d1ae56a7ea0a40b05acd5
Author: Andras Biczo <abiczo@fb.com>
Date:   Mon Dec 28 12:03:10 2015 -0800

    Make convertToHex public

commit 18609e582acc921bf28f9a1c7bfac894c48e87d7
Author: Ognjen Dragoljevic <plamenko@fb.com>
Date:   Tue Dec 22 07:19:59 2015 -0800

    Simplify RoundedBitmapDrawable.shouldRound

commit db58718f0e912f74369491a3aceeb94dcf53b158
Author: Ognjen Dragoljevic <plamenko@fb.com>
Date:   Mon Dec 21 13:56:57 2015 -0800

    Fix an edge case in leaf rounding

commit cfd0ee7feeea9197191c28818605d7edcedd9de5
Author: Denis Koroskin <dkoroskin@fb.com>
Date:   Thu Dec 17 12:38:28 2015 -0800

    Don't call DeferredReleaser.cancelDeferredRelease() from AbstractController ctor

commit 5ffa6074938b4319a726d0e0a0ccde6f6a704562
Author: Ognjen Dragoljevic <plamenko@fb.com>
Date:   Thu Dec 17 12:15:17 2015 -0800

    Add getters to rounded interface

commit a03506da4fe63439ee1fc4c9c99212df93dea02c
Author: Ognjen Dragoljevic <plamenko@fb.com>
Date:   Thu Dec 17 09:07:11 2015 -0800

    Clean up GenericHierarchyTest

commit cfac39ecc8d4006959b652ac2403c94f16ed857e
Author: Ognjen Dragoljevic <plamenko@fb.com>
Date:   Thu Dec 17 05:11:17 2015 -0800

    Move controller overlay to RootDrawable

commit 0cefc0987ae1864b2923265ec525f7ef4fd435c5
Author: Ognjen Dragoljevic <plamenko@fb.com>
Date:   Wed Dec 16 16:33:44 2015 -0800

    Simplify GenericHierarchy construction

commit 0c34763a73b35e51384b9f733e74db9114d27b83
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Wed Dec 16 11:20:22 2015 -0800

    Add animation to zoomables

commit 64daf1ef58f59f8c90f28263db89bee143faf287
Author: Massimo Carli <maxcarli@fb.com>
Date:   Wed Dec 16 11:04:09 2015 -0800

    Created gradle files for static-webp

commit 3e333939693ebd2899c891f02022c78aa4842f8b
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Wed Dec 16 08:25:15 2015 -0800

    Add histogram of image sizes to Stetho plugin

commit 87258282da0496f01ed3c7a6445351913f0c0a28
Author: Massimo Carli <maxcarli@fb.com>
Date:   Wed Dec 16 07:30:42 2015 -0800

    Created abstraction for WebpTranscoder

commit 73dcf63d50e30cd2dfc9e09047603936354c0517
Author: Ognjen Dragoljevic <plamenko@fb.com>
Date:   Tue Dec 15 17:21:23 2015 -0800

    Extract RootDrawable and WrappingUtils from GenericHierarchy

commit bbf1c662757bbe0b53be7277e104735d3b37c1e7
Author: Ognjen Dragoljevic <plamenko@fb.com>
Date:   Tue Dec 15 14:44:29 2015 -0800

    Fix small colorFilter issue

commit bdc33afdea14a296670f5537cd630b7fd991f6f2
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Tue Dec 15 08:40:56 2015 -0800

    Add open-source -Stetho to the comparison app

commit 27b6f40dd281e59174fa349508fdc52c68f4f0f0
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Tue Dec 15 08:40:55 2015 -0800

    Open-source the Stetho plugin

commit 015cfd6a0ec3f601281260174cbee6be208ee401
Author: Ognjen Dragoljevic <plamenko@fb.com>
Date:   Tue Dec 15 04:16:18 2015 -0800

    Simplify layer handling in GenericHierarchy

commit d49707caa294ca2d3d31ff826e07fac56b368092
Author: Ognjen Dragoljevic <plamenko@fb.com>
Date:   Mon Dec 14 19:01:14 2015 -0800

    Remove empty drawables from hierarchy

commit 1046c0e831cf948ed6225c17fb65a4289632777b
Author: Ognjen Dragoljevic <plamenko@fb.com>
Date:   Mon Dec 14 17:34:25 2015 -0800

    Add ArrayDrawable.getDrawableParentForIndex method

commit a46ba8ff22f121f7eeecc3878d85507e4783679b
Author: Massimo Carli <maxcarli@fb.com>
Date:   Mon Dec 14 10:46:39 2015 -0800

    Renamed SettableDataSource in fbcore

commit f63879478df56e0dcbd976655a117bd188cc5369
Author: Ognjen Dragoljevic <plamenko@fb.com>
Date:   Fri Dec 11 10:27:46 2015 -0800

    Remove SettableDrawable and add DrawableParent interface

commit ce9fc62968353a58a53ee96e60d6b26316f18d6d
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Wed Dec 9 04:11:15 2015 -0800

    Changes to the zoomable system to support MediaGallery

commit 58d983502df28c53166da5ab4b15c87ec7930c92
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Tue Dec 8 11:03:19 2015 -0800

    Eliminate last usage of Guava

commit df50431d46df716b6e299f315a33e2f96f874ed6
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Tue Dec 8 10:14:25 2015 -0800

    Upgrade OkHttp to 2.6

commit 0f73e6fb9d4f5d2a337a6a8081c5db0cf815387d
Author: Massimo Carli <maxcarli@fb.com>
Date:   Mon Dec 7 08:16:57 2015 -0800

    Moved BitmapReleaser to fix gradle build for animation-base

commit f0a37a74cc274954018ac56d895b402ac6e5a7fa
Author: David Alves <dalves@fb.com>
Date:   Fri Dec 4 17:56:38 2015 -0800

    FLog.wtf() was incorrectly calling FLog.e() in a few places

commit f93a3b6f688d3486de7806f7edd4928477758e9b
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Fri Dec 4 09:48:32 2015 -0800

    Expose the filename of a given resource id

commit 2858b0b30a24b4ac9671d0b035171350658bb166
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Fri Dec 4 09:48:25 2015 -0800

    Switch to using FileBinaryResource

commit bddf069dbf0429548b957ee69979d17d870f4905
Author: Massimo Carli <maxcarli@fb.com>
Date:   Fri Dec 4 02:48:50 2015 -0800

    imageformat module moved to imagepipeline-base

commit 6d3d481f102bcf6e6950b623ffc7aff70ced614b
Author: Daniel Colascione <dancol@fb.com>
Date:   Thu Dec 3 22:35:46 2015 -0800

    Make leaf libraries static

commit 0dfe593218458bb354c761a66b04ad5f12ba1a24
Author: Massimo Carli <maxcarli@fb.com>
Date:   Thu Dec 3 07:45:18 2015 -0800

    Move closeable images to imagepipeline-base

commit 2617cef699ed544ee1cf27d1978af0a910435b24
Author: Massimo Carli <maxcarli@fb.com>
Date:   Thu Dec 3 04:53:33 2015 -0800

    Removed ImageFileExtensionMap class

commit edc7dbcd20d38954b5c5900ca0c70350a4d84e96
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Wed Dec 2 11:00:14 2015 -0800

    Switch to error logging on a read exception

commit d2a9a77a70216f5f5478450030132761df711da3
Author: Yimin Chen <yimin@fb.com>
Date:   Tue Dec 1 18:38:52 2015 -0800

    use try/finally to close cursor

commit 15cf68de2a19ed91e61ad8d7a1e94eec7f69825e
Author: Massimo Carli <maxcarli@fb.com>
Date:   Tue Dec 1 11:20:38 2015 -0800

    Created gradle file for imagepipeline-base

commit bca2e73cedb05f80c9444043c1a4e06dacb13064
Author: Massimo Carli <maxcarli@fb.com>
Date:   Tue Dec 1 11:20:30 2015 -0800

    Moved imageutils to imagepipeline-base

commit 39fdb6e3a01175d28c64f9eb94e82a0ec8cc3dff
Author: Massimo Carli <maxcarli@fb.com>
Date:   Tue Dec 1 10:01:12 2015 -0800

    Moved drawable to imagepipeline-base

commit 7115d07388333f09b40b4b36535b6cdf28546fcb
Author: Massimo Carli <maxcarli@fb.com>
Date:   Tue Dec 1 03:12:11 2015 -0800

    Added cache to imagepipeline-base

commit 30d7d6070cd50a3030874b211b5500cc9cd0e167
Author: Massimo Carli <maxcarli@fb.com>
Date:   Mon Nov 30 09:08:10 2015 -0800

    Version 0.9.0

commit e7f5a1a7cb62366d48ac1fe89ec1864441a00c35
Author: Massimo Carli <maxcarli@fb.com>
Date:   Mon Nov 30 06:00:23 2015 -0800

    Moved binaryresource to imagepipeline-base module

commit 36517731742b601b66101ca79735f18063dbadee
Author: Andrei Diaconu <None>
Date:   Thu Nov 26 08:05:28 2015 -0800

    When using RoundingParams, placeholder image no longer loses Paint properties

commit a3db2c8395d09e3e3b3f042e569a6b6d361ed04e
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Thu Nov 26 02:29:03 2015 -0800

    Rename OrchestratorTest at last

commit e7300a050afec239e8fd04ef3a2eed26a9bfeb35
Author: Balazs Balazs <balazsbalazs@fb.com>
Date:   Wed Nov 25 05:49:40 2015 -0800

    Removing a unit test which was incomplete + doesn't add much value

commit d8690acde639f439db888f3b3341a927165616de
Author: Balazs Balazs <balazsbalazs@fb.com>
Date:   Tue Nov 24 15:40:36 2015 -0800

    Fix RoundedbitmapDrawable bounds

commit 29ad3abbbeb0ab90f95e0ff0753358bf81390599
Author: Andrei Diaconu <andreidiaconu@users.noreply.github.com>
Date:   Tue Nov 24 07:19:49 2015 -0800

    Fix for OkHttp backend caching 404 responses as images

commit e76c5db9298f790acbe6258cdff7d912d2764217
Author: Massimo Carli <maxcarli@fb.com>
Date:   Mon Nov 23 07:02:05 2015 -0800

    Fixed .gitignore for static-webp

commit 36a55893f4beeb46e70501477eca56b7bf65cc7e
Author: Massimo Carli <maxcarli@fb.com>
Date:   Mon Nov 23 07:02:00 2015 -0800

    Changed library name in gradle

commit f6bb0dc624eecccdf603ebcecdf20287b5ddea58
Author: Massimo Carli <maxcarli@fb.com>
Date:   Mon Nov 23 04:29:23 2015 -0800

    Renamed webpsupport module to static-webp

commit b9e55c195225d9811fe6087f4742cb3a568008c0
Author: Oleksandr Stashuk <sashko@fb.com>
Date:   Fri Nov 20 14:17:38 2015 -0800

    Fix file descriptor commit

commit 420927e711a41b721eb2bae180f3e2ff973a1288
Author: Yimin Chen <yimin@fb.com>
Date:   Fri Nov 20 12:42:47 2015 -0800

    throw IOException (instead of NullPointerException) if no contact photo is present

commit 2d94df01708ccec90bebf7a24e85dbc1bb2af8e0
Author: Oleksandr Stashuk <sashko@fb.com>
Date:   Fri Nov 20 07:28:58 2015 -0800

    Enable webp back with single temp storage

commit da4399803025f70379faa660248b1fcab41a09a8
Author: Jon Lawlor <lawlor@fb.com>
Date:   Wed Nov 18 13:51:37 2015 -0800

    Fix the how the roundingBorderPadding attribute is defined

commit 32d457a3774e013659889f81d8caec86cd476479
Author: Massimo Carli <maxcarli@fb.com>
Date:   Wed Nov 18 10:23:40 2015 -0800

    Added .gitignore file

commit 287f3f933ff099a9fbc7a95573ad7048a2600008
Author: Jie Wang <jiew@fb.com>
Date:   Tue Nov 17 07:48:38 2015 -0800

    Restore reverted commit

commit 27cdc34805f280cafe40bdf95a856bd77d65bb1a
Author: Al Sutton <alsutton@fb.com>
Date:   Fri Nov 13 16:19:10 2015 +0000

    Revert earlier commit

commit dfcb2111ba62e012bf61e4ff4f4ba9d9ee235917
Author: Massimo Carli <maxcarli@fb.com>
Date:   Fri Nov 13 05:55:40 2015 -0800

    Removed unused import

commit 3138ec9c3e6543dec9f11d7512e8332980ad3d26
Author: Jie Wang <jiew@fb.com>
Date:   Fri Nov 13 04:31:05 2015 -0800

    Add proper equals/hashCode to ImageRequest

commit 1099989db9a67cdd8a3afad8663c6d4e72608566
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Fri Nov 13 03:04:02 2015 -0800

    Use correct color value in ImageDecodeOptions builder

commit fde9dbdd393f84a8d71c236562419642eb7704fe
Author: Massimo Carli <maxcarli@fb.com>
Date:   Thu Nov 12 08:35:11 2015 -0800

    WebpSupport is optional

commit 8b22ac43c99aefd7fb1f5eae09a3f2366f1ab105
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Thu Nov 12 08:34:02 2015 -0800

    Add a proper toString method to ImageDecodeOptions

commit fb0e64dbfda7c1701c5454c464ab9a5d4665531b
Author: Massimo Carli <maxcarli@fb.com>
Date:   Thu Nov 12 05:37:02 2015 -0800

    Added test for check if available

commit 414f73bfdf1aa9773a54337c43a9432557b451f4
Author: Massimo Carli <maxcarli@fb.com>
Date:   Wed Nov 11 11:43:53 2015 -0800

    Create gradle build file for webp

commit 786bd66581fdf781dfd1f5d3561b69ef6e93f683
Author: Massimo Carli <maxcarli@fb.com>
Date:   Wed Nov 11 06:53:23 2015 -0800

    Moved webpsupportstatus in fbcore

commit 11db32723afef1aac976be7b28dc1927943bab6d
Author: Oleksandr Stashuk <sashko@fb.com>
Date:   Mon Nov 9 05:14:18 2015 -0800

    WebpBitmapFactory opts were ignored for originalDecodeByteArray

commit 5c0c7ad1fafd49424069dfdc7b7748b94c57d8f1
Author: Oleksandr Stashuk <sashko@fb.com>
Date:   Mon Nov 9 05:02:43 2015 -0800

    Fix WebpBitmapFactoryHack hooks

commit a7f4b7c15a004dadfdad8c9a9cc8eef654436740
Author: Massimo Carli <maxcarli@fb.com>
Date:   Wed Nov 4 08:50:04 2015 -0800

    Make WebpSupport optional

commit 92e23c32a6023b20588de7d34d31067961d86c2d
Author: Kumar Rangarajan <krangarajan@fb.com>
Date:   Tue Nov 3 23:09:01 2015 -0800

    Do not strip RealtimeSinceBootClock

commit 76e5daa80d4ba8d9d14c785262c2d02b54545535
Author: s1rius <s1rius@users.noreply.github.com>
Date:   Tue Nov 3 08:13:27 2015 -0800

    Added another path to draw border

commit 5503f2748fbcaf3360fb318292c9486747912435
Author: Massimo Carli <maxcarli@fb.com>
Date:   Tue Nov 3 08:05:18 2015 -0800

    Fixed build on gradle

commit bd5f40441c90787f30d63481a428ee79f62b714a
Author: Dmitry Shatrov <shatrov@gmail.com>
Date:   Tue Nov 3 07:39:19 2015 -0800

    call isFinished() early to avoid race condition in BaseDataSubscriber

commit c3253ba2367fd3c956e2877a9aa528e66092836c
Author: Theodor-Cosmin Didii <theodordidii@fb.com>
Date:   Mon Nov 2 09:37:41 2015 -0800

    Remote image loading

commit 774481349eee40b88211e322d8d80b909354e850
Author: Jie Wang <jiew@fb.com>
Date:   Fri Oct 30 09:42:54 2015 -0700

    Dummy commit

commit 2ed3a9dd56e14d7211f328c9952d114118b6598f
Merge: c08495a 20bf5b2
Author: Balazs Balazs <balazs.balazs80@gmail.com>
Date:   Thu Jan 7 11:21:11 2016 +0000

    Merge pull request #775 from cazador4/master
    
    Add CircleProgressBar

commit 20bf5b261277d66687dcc45ca7fd213c0c32387f
Author: cazador4 <cazador4@gmail.com>
Date:   Tue Nov 17 18:15:28 2015 -0300

    Add CircleProgressBar

commit c08495a312ceffe15a815304b42db8fe24f6fde0
Author: Tyrone Nicholas <tyrone.nicholas@gmail.com>
Date:   Fri Oct 30 14:01:29 2015 +0000

    Update .lastsync

commit 7f086ecf86c366a2af6839738ec8cc7912b870e1
Author: Massimo Carli <maxcarli@fb.com>
Date:   Thu Oct 29 10:27:11 2015 -0700

    Removed the hack classes

commit 9574f756848115ca85e1b3e86d35eba2dea8586e
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Thu Oct 29 07:46:36 2015 -0700

    Bump to 0.8.1

commit 170067bd03db7174df7643ea5bd5f7c7d7078500
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Thu Oct 29 07:19:11 2015 -0700

    New clean build script

commit a292059cb42e2ceebe05789a449a79d7b0ebb428
Author: Massimo Carli <maxcarli@fb.com>
Date:   Thu Oct 29 04:29:09 2015 -0700

    Fix the import of DoNotStrip

commit 4efe5f4b55c634233c036e9f95a679feece45f3e
Author: Massimo Carli <maxcarli@fb.com>
Date:   Thu Oct 29 04:28:55 2015 -0700

    Changed tests for Galaxy 5 like phones

commit 45ccae26a39ad725bdd7f327896b3cb0d8ae6701
Author: Massimo Carli <maxcarli@fb.com>
Date:   Thu Oct 29 04:28:39 2015 -0700

    Fix the webpsupport class

commit cef3e5b9041c4523b37fca3081d615de3ae84751
Author: Kevin McCray <kmccray@fb.com>
Date:   Wed Oct 28 07:56:10 2015 -0700

    fix clang warning

commit e3851c36b309e9f88c4a8b0234238e4c9a6abde5
Author: Jia Li <jial@fb.com>
Date:   Sat Oct 24 11:40:06 2015 -0700

    fix NPE due to group user tile not checking datasource

commit 86ef15e33b7c1cd911b91bac2a3bf765d92d08b2
Author: Micha≈Ç Gregorczyk <michalgr@fb.com>
Date:   Thu Oct 22 04:13:45 2015 -0700

    Throw if DeferredReleaser is called on non-ui thread

commit f691a741109c27c4c8175232d4b237d311e46f9c
Author: Tyrone Nicholas <tyrone.nicholas@gmail.com>
Date:   Fri Oct 30 14:04:40 2015 +0000

    Add config to enable use of MemoryFile

commit fbeeea1c203a40ee582525a45b28b1c7c4b3a468
Author: Tyrone Nicholas <tyrone.nicholas@gmail.com>
Date:   Fri Oct 30 14:03:41 2015 +0000

    Restore 0.8.0 back

commit d590dcd2f3e0465a942560cdca83a9cdb98aec88
Author: Tyrone Nicholas <tyrone.nicholas@gmail.com>
Date:   Thu Oct 29 13:21:19 2015 +0000

    Revert back to 0.7.0

commit 94ce1dee0733300fe2c029382e0c454169db81b8
Author: Tyrone Nicholas <tnicholas@tnicholas-pro.dhcp.thefacebook.com>
Date:   Mon Oct 19 15:22:55 2015 +0100

    Update .lastsync

commit 24619b659f4b40d93f4d8241deb4d500504dad62
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Mon Oct 19 03:44:45 2015 -0700

    Use same tools version for all sample apps

commit a025bc982064dcc0a8ce2010cc09edca6b11c507
Author: Jie Wang <jiew@fb.com>
Date:   Sat Oct 17 08:26:25 2015 -0700

    alphabetic imagepipelineconfig

commit b1f83c9d9d441da96b637a3c55e04348a12ee49e
Author: Jie Wang <jiew@fb.com>
Date:   Sat Oct 17 08:15:19 2015 -0700

    local exif thumbnail bug for images

commit 2d903353530d11525780012833197de0047a5e1e
Author: Massimo Carli <maxcarli@fb.com>
Date:   Fri Oct 16 09:28:29 2015 -0700

    Fixed problem on Contact photo Uri

commit 4e0a8dadc88eb8c8d3fe96b43d147f8d9a0fd59b
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Fri Oct 16 08:35:28 2015 -0700

    Bump to v0.8.0

commit 188e8c343c9ebd61dc481a8c9ead12a79f8e2742
Author: Jie Wang <jiew@fb.com>
Date:   Thu Oct 15 10:14:58 2015 -0700

    alphabetical order for attributes in imagepipeline

commit 81b20b384600ffa5a3aac6ab15b4bdcf07a8c399
Author: Jie Wang <jiew@fb.com>
Date:   Wed Oct 14 05:26:35 2015 -0700

    fix overflow issue in basepool canAllocate

commit 2428410ae2c5431160bf4fe0383ae316d9834146
Author: Jie Wang <jiew@fb.com>
Date:   Tue Oct 13 09:10:16 2015 -0700

    Fix the inputstream converting issue

commit 374a874d6fd9e4244a2baa279bb5962dca7fa5f6
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Tue Oct 13 06:27:08 2015 -0700

    Fix OOM problem in JB and below

commit 2a7e863897435dc6667377f684f80ca4a325d5d9
Author: Massimo Carli <maxcarli@fb.com>
Date:   Tue Oct 13 05:54:33 2015 -0700

    Fixed problem on ExifThumbnail

commit eb579e8c5c10f5bd634e8a2130923e106d7e0eeb
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Mon Oct 12 14:42:14 2015 -0700

    Fix Gradle tests

commit be03b15a618cbcaa8e3018e3a9004c636569331f
Author: Jie Wang <jiew@fb.com>
Date:   Mon Oct 12 10:58:34 2015 -0700

    fix overflow issue which causes multi-frame animated images oom when creating bitmap

commit b63ec6c5b6c1a0afff78d64094fdc4ec62f5706b
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Mon Oct 12 09:58:59 2015 -0700

    Upgrade to Gradle 2.7

commit 2f07e603de656837ec1fce8ca0282e9c02f675b3
Author: Jie Wang <jiew@fb.com>
Date:   Mon Oct 12 02:39:43 2015 -0700

    qe for filedescriptor for kitkat when decoding purgeable bitmaps

commit 20637f9119e289bc00cf79cf4342e3d26a6f60e8
Author: Massimo Carli <maxcarli@fb.com>
Date:   Mon Oct 12 03:03:12 2015 -0700

    Fixed folder for test

commit 026214d27c55b6911db807424545670e44780344
Author: Jie Wang <jiew@fb.com>
Date:   Fri Oct 9 18:33:11 2015 -0700

    refactor platform bitmap factory

commit 94df8153284d3b04966f4c34a0795f43d1dbbada
Author: Massimo Carli <maxcarli@fb.com>
Date:   Thu Oct 8 07:09:22 2015 -0700

    upgraded to 23 build tools and sdk

commit 00c6a98e4dd1a8f00ef00dc7105e61c0b83d80c4
Author: Massimo Carli <maxcarli@fb.com>
Date:   Thu Oct 8 04:31:09 2015 -0700

    WebpBitmapfactory for GingerBread

commit aa4a0b8f465911c2f014d9243147d8afb822b273
Author: Massimo Carli <maxcarli@fb.com>
Date:   Wed Oct 7 10:23:56 2015 -0700

    Created example for transition

commit e3a3f5277675fe906f0afda05ef04207f07e5da7
Author: Massimo Carli <maxcarli@fb.com>
Date:   Wed Oct 7 09:18:46 2015 -0700

    Migrated Roboletric to 3.0

commit 7562670f56ab24764c178d8dfa26ce0c1f9ecafc
Author: Massimo Carli <maxcarli@fb.com>
Date:   Mon Oct 5 10:43:56 2015 -0700

    Step 1 - Moved WebpBitmapFactory files to libraries/fresco

commit da37e303a888611a3340b82bfb131757c2c86d47
Author: Jie Wang <jiew@fb.com>
Date:   Mon Oct 5 07:30:53 2015 -0700

    fix the broken comparison app due to change in SimpleControllerBuilder

commit e12ce5cb4f609b285c33731f0e26328303aa0ef9
Author: Aakash Anuj <aakashanuj@fb.com>
Date:   Fri Oct 2 08:06:48 2015 -0700

    Doing a null check for empty strings

commit 5c109699975979f45cb98ed28f597afaed404f5e
Author: Jie Wang <jiew@fb.com>
Date:   Thu Oct 1 11:47:16 2015 -0700

    Replace byte-array decoding with MemoryFile

commit e27901754f0f115c7a5c63756b90770c80702d07
Author: Aakash Anuj <aakashanuj@fb.com>
Date:   Thu Oct 1 06:36:48 2015 -0700

    Add another setUri method

commit a2ada0d0709c088e009b81e0a0618133849c3fdc
Author: Jie Wang <jiew@fb.com>
Date:   Wed Sep 30 07:30:36 2015 -0700

    Preallocate 16K memory for measuring bitmap height and weight

commit 5847ecac0686139c68ba1e3aacb0756912158d19
Author: Pasquale Anatriello <pasqualea@fb.com>
Date:   Tue Sep 29 11:07:46 2015 -0700

    fixed problem with errors instantiating views from xml

commit 36efbb9c14db1ca182e2e0f71c71a4990fe77995
Author: Pasquale Anatriello <pasqualea@fb.com>
Date:   Mon Sep 28 10:49:03 2015 -0700

    added support for variable Bitmap.Config

commit 2f643c198d62907246998ff373269deb103404f5
Author: Ian Childs <ianc@fb.com>
Date:   Sun Sep 27 01:59:25 2015 -0700

    Fix scale type when changing placeholder image

commit d494a1935bff6c1360e2889dc5697b6b8ca708a2
Author: Pasquale Anatriello <pasqualea@fb.com>
Date:   Fri Sep 25 12:13:16 2015 -0700

    animations now respect the loop count parameter

commit 8a6bc9537bb621dcb057bde8e0c20afc7a75a9b4
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Fri Sep 25 07:09:10 2015 -0700

    Refactor animations code.

commit 4db40e7525875bfb7cefe17892270335a9e5fa14
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Fri Sep 25 07:09:10 2015 -0700

    Allow conversion of CSBs to bitmap references

commit bec7ce0b4f218fc503993f260a9203d354a6fae0
Author: Ian Childs <ianc@fb.com>
Date:   Thu Sep 24 06:35:43 2015 -0700

    Fix NPE in ArrayDrawable

commit f6dbb25d7385a87cc9661266d989292805f069d9
Author: Ian Childs <ianc@fb.com>
Date:   Thu Sep 24 04:04:29 2015 -0700

    dynamically change failure, retry and progress bar images

commit d360008adc105f406504170b3def53e8ab389471
Author: Ian Childs <ianc@fb.com>
Date:   Thu Sep 24 04:04:28 2015 -0700

    Let FadeDrawable have null layers

commit fbc512bc10a304a58e721065d43a3a6fcffc5250
Author: Don Yu <dyu@fb.com>
Date:   Mon Sep 21 10:58:07 2015 -0700

    Add in null check for layoutParams since it could be null if view has no parent

commit fb85cafea0f02b93cdf5309890a49adb118cc83c
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Fri Sep 18 20:17:47 2015 -0700

    Make the simple bitmap releaser its own class

commit b57fa34afffef1b0936d33229dff83d78cf5c1d2
Author: Massimo Carli <maxcarli@fb.com>
Date:   Fri Sep 18 17:24:39 2015 -0700

    Changed download plugin version to 2.0.0

commit 635f0bf6028f5f658c156bab09d3c59763263fd3
Author: Pasquale Anatriello <pasqualea@fb.com>
Date:   Thu Sep 17 13:27:19 2015 -0700

    Removed UiThreadExecutorService

commit 4d6146168d84d3b3981fd8adcc0f20906309f0e5
Author: Oleksandr Stashuk <sashko@fb.com>
Date:   Mon Sep 14 09:14:04 2015 -0700

    Extract webp support status to a separate buck module

commit fdb8c2ec9e995b3bc20448e62122cdfeda8b8797
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Thu Sep 10 08:15:21 2015 -0700

    Use the number of processors to build

commit 73c023310cb65e5260456564ce51e23fa9d0fb32
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Thu Sep 10 07:04:25 2015 -0700

    Add AnimatedFrameCache

commit 7598941e76a910b514027ea49693ac1a1785bf00
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Thu Sep 10 07:04:25 2015 -0700

    Add reusing support to CountingMemoryCache

commit b5c4e985e61f3e76294dffae6a618f7b856475a4
Author: Massimo Carli <maxcarli@fb.com>
Date:   Thu Sep 10 04:01:07 2015 -0700

    Implemented FactoryMethod pattern for PlatformBitmapFactory

commit 69c43d195db0ef4d13f26ed4ffb215a0bb5cb9ad
Author: Massimo Carli <maxcarli@fb.com>
Date:   Wed Sep 9 11:44:32 2015 -0700

    renamed nextProducer into inputProducer

commit 16ca6015a671b8414d645d74271605f6c8e9adad
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Wed Sep 9 07:46:11 2015 -0700

    Upgrade to Gradle 2.6

commit 7098530392d3fee2f9c0e4af6a8602253cefe493
Author: Jie Wang <jiew@fb.com>
Date:   Tue Sep 8 03:19:19 2015 -0700

    Fix the issue of tintColor doesn't work when borderRadius is not set

commit 3fc1f1ccf66fa886c9c5c8f50ab2629f724a34c4
Author: Oleksandr Stashuk <sashko@fb.com>
Date:   Fri Sep 4 00:20:10 2015 -0700

    Bump libwebp 0.4.2 to 0.4.3

commit 92f40076bf3e724f4ae18df8c23ec46812204127
Author: Ishtiaq Hossain <ishtiaq@fb.com>
Date:   Thu Sep 3 20:04:05 2015 -0700

    Typeahead refactor part 2

commit e4317dee49b277d2cf057d1c22ef194a06f776e4
Author: Jie Wang <jiew@fb.com>
Date:   Thu Sep 3 06:54:13 2015 -0700

    Simplify disk cache API

commit 59b0b6728bef648f864690adacf5f50d9d9a4dd4
Author: Jie Wang <jiew@fb.com>
Date:   Thu Sep 3 06:36:38 2015 -0700

    Fix for android:tint not taking affect above 5.0

commit 8b81a481d37834ba0b5b203ed5441e4d97fbe8b2
Author: Manish Burman <mburman@fb.com>
Date:   Mon Aug 31 19:41:50 2015 -0700

    Dummy implmentations of immutable maps/sets/lists

commit 0077e026b8767c3b05c5b0d78565809208054daf
Author: Jie Wang <jiew@fb.com>
Date:   Thu Aug 27 12:01:34 2015 -0700

    Add AQuery to the comparison app

commit 84d69851819997388a753d7fe661e45506985ddb
Author: Tyrone Nicholas <tnicholas@tnicholas-pro.dhcp.thefacebook.com>
Date:   Mon Oct 19 12:09:41 2015 +0100

    Update .lastsync

commit 0f3d52318631f2125e080d2a19f6fa13a31efb31
Author: Tyrone Nicholas <tyrone.nicholas@gmail.com>
Date:   Mon Aug 10 13:10:22 2015 +0100

    Update .lastsync

commit cc43c869cbf47431fc4461c28a2df10a9cfb56c0
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Thu Aug 27 04:53:30 2015 -0700

    Go by pipeline first, then by source

commit 5536e3517cb83e83da8985e1a82d6bfbed288a38
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Thu Aug 27 04:53:20 2015 -0700

    Enable downsampling in comparison app

commit 66a830fa006247c5c783d25e9afc873088253ae2
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Thu Aug 27 04:53:11 2015 -0700

    Use Imgur's size options in the comparison app

commit 9689960148faf8f91108e05d500417313787fc4e
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Thu Aug 27 04:53:01 2015 -0700

    Move method to comparison app base class

commit c21930da133a25bf9dd5cf9021f21a61fd6d1644
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Thu Aug 27 04:52:51 2015 -0700

    Get rid of pooyak

commit 6fd7925057edcc5dfbe332184a412948c109ab2b
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Thu Aug 27 04:52:43 2015 -0700

    Remove redundant overrides

commit d7f6ac75257c6eb8e6ac09cf7da5f8249a002505
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Wed Aug 26 12:03:07 2015 -0700

    Build files for the gestures and zoomable libraries

commit 920ee559674c7240154bd6c6a6f009c0f2ff9914
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Wed Aug 26 12:10:14 2015 -0700

    Bump to 0.7.0

commit ebd3479eb492a4d7f542a210d4b522375761e0af
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Wed Aug 26 11:26:41 2015 -0700

    Make RecyclerView implementation more consistent with previous GridView

commit 801c42aa1092f8d9618d604c8e5753921d888686
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Wed Aug 26 11:26:30 2015 -0700

    Prevent comparison app from infinite scrolling

commit c9d560a11494073dc66ff33e20e3814be79e1e6d
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Wed Aug 26 10:51:12 2015 -0700

    Update sdk versions

commit 109d8f8f7e2ce6560b3f7c4648b706bb6cfa220d
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Wed Aug 26 10:50:36 2015 -0700

    Upgrade some dependencies

commit 1de24e22a8c030247d54bab7a6f6a1729539ab73
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Wed Aug 26 07:30:27 2015 -0700

    Have the comparison script handle app failure gracefully

commit 243fb07bfe78720c03d9d3ce83ed3fec98a01488
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Wed Aug 26 07:31:18 2015 -0700

    Updated instructions for comparison app

commit bf3ed31f1c489866f14fe71300b95f577349beb9
Author: Massimo Carli <maxcarli@fb.com>
Date:   Wed Aug 26 03:49:08 2015 -0700

    Tests work on gradle

commit ca65e20bfdce318abe6da9a5da587886c77b010e
Author: Jie Wang <jiew@fb.com>
Date:   Wed Aug 26 02:32:54 2015 -0700

    Expose Cached Files

commit 6366987968fab1758051fb811c01c19b6aa51143
Author: Micha≈Ç Gregorczyk <michalgr@fb.com>
Date:   Wed Aug 26 01:53:50 2015 -0700

    Sample app displaying whatever uri you want

commit 55d64c52f7254a357a5546e988663c996b30ce05
Author: Jie Wang <jiew@fb.com>
Date:   Wed Aug 26 00:24:16 2015 -0700

    Add cache probing API

commit 51ef75f23f42f5d0780be570a35da12c46d58a6b
Author: Sriram Ramasubramanian <sriramramani@fb.com>
Date:   Tue Aug 25 19:43:36 2015 -0700

    Add fitEnd to scaletype enum

commit d024b527252c3db4980d97975f579c5c85b58603
Author: Sriram Ramasubramanian <sriramramani@fb.com>
Date:   Tue Aug 25 13:47:59 2015 -0700

    Use enum scale type values for drawee attrs

commit 4ca835f122f738cf12e3c0da56e5d182f92530e1
Author: Boris Korogvich <b.korogvich@gmail.com>
Date:   Tue Aug 25 08:44:32 2015 -0700

    Remove redundant modifiers from interfaces

commit 7c2a06d0a9d48ad5f896e5be4576291d3b38148c
Author: Vladislav Bauer <bauer.vlad@gmail.com>
Date:   Tue Aug 25 08:45:13 2015 -0700

    Remove unused imports

commit 163b8a89bbc37d5aa05bd7cfdfba6525285151f8
Author: Ognjen Dragoljevic <plamenko@fb.com>
Date:   Sat Aug 22 12:19:54 2015 -0700

    Properly get the bitmap size in bytes in BitmapCounter

commit ebdd2d2fc597aaf1d85f105f249ab0bdf1df7691
Author: Ognjen Dragoljevic <plamenko@fb.com>
Date:   Sat Aug 22 12:20:52 2015 -0700

    Make bitmap-cache-only requests optional when using multiple requests

commit 4cbcd33873ba6d5495baa23fdec759c587907887
Author: Ronak Patel <roneypatel@fb.com>
Date:   Sat Aug 22 10:37:43 2015 -0700

    Fixed the issue where the failure was not getting propagated down the line of getting decoded bitmap from disk cache

commit ec40084e11ca175ce2d481b924da74f48269d726
Author: Ronak Patel <roneypatel@fb.com>
Date:   Fri Aug 21 18:33:44 2015 -0700

    Showing last available image on failure

commit be11f063d4024be60035d88f097e067cc5140d59
Author: Ognjen Dragoljevic <plamenko@fb.com>
Date:   Thu Aug 20 06:34:42 2015 -0700

    Improve allocations in DrawableProperties

commit 80b9ed848582c331f1e00302c896d0be8d11d625
Author: Massimo Carli <maxcarli@fb.com>
Date:   Thu Aug 20 03:41:52 2015 -0700

    Added check for null for Holder

commit cebc2731754be8fefe03edb49eebff91d830a528
Author: Alvin Portillo <alvinp@fb.com>
Date:   Wed Aug 19 14:55:46 2015 -0700

    Added DataSourceSupplier Accessor for Encoded Images

commit 073957fc3c941575bfa7cad19a9885eff2630ed9
Author: Ronak Patel <roneypatel@fb.com>
Date:   Fri Aug 14 14:08:34 2015 -0700

    Fixed bug where the some of the drawable properties was getting reset unnecessarily

commit 5fa36a2ec25ed3c1ac572713efaa0f0471cd3196
Author: Tyrone Nicholas <tyrone.nicholas@gmail.com>
Date:   Tue Aug 25 18:25:22 2015 -0400

    Fix crash in comparison script

commit a4b31359fc9aec5aabd9315ede170b632f1deede
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Thu Aug 6 10:43:20 2015 -0700

    Use List instead of ArrayList in ListDataSource

commit d229e94ec8e1ae341dadd665b4d6d314eb1c79b2
Author: Massimo Carli <maxcarli@fb.com>
Date:   Wed Aug 5 23:54:24 2015 -0700

    Open-source imagepipeline tests

commit e58561de5b3ca613d2647d4d8cc55c344d5cc579
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Mon Aug 10 05:19:56 2015 -0700

    Bump to 0.6.1

commit 8d95348dd213f2634adbaba97fc69a20271b7bb7
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Sun Aug 9 16:59:34 2015 -0700

    Handle all exceptions in OkHttp, not just IOExceptions

commit 3aa0b6ac6c615cfb704ba406ddc27a644f10884a
Author: Lucas Moscovicz <lmoscovicz@fb.com>
Date:   Fri Aug 7 07:37:35 2015 -0700

    Changed OrientedBitmapDrawable to extend ForwardingDrawable instead of BitmapDrawable

commit 0ca41c4b9b627f893fa60f85a4d9e78dc372dd00
Author: Lucas Moscovicz <lmoscovicz@fb.com>
Date:   Thu Aug 6 09:35:23 2015 -0700

    Fixed rounded corners for OrientedDrawable

commit f984559e8fac318c26dfed64d5c54af254db3099
Author: Ognjen Dragoljevic <plamenko@fb.com>
Date:   Wed Aug 5 08:18:59 2015 -0700

    Fix intrinsic dimensions calculation in Array/Fade drawable

commit f6bc3e0286d954a3547339d40e1511bb281e00d6
Author: Massimo Carli <maxcarli@fb.com>
Date:   Tue Aug 4 10:08:34 2015 -0700

    Fixed test class for run_comparison script

commit faf830b52ccc93ed54faf19f753d457b5a3a3dd2
Author: Lucas Moscovicz <lmoscovicz@fb.com>
Date:   Tue Aug 4 08:16:19 2015 -0700

    Change DefaultExecutorSupplier to use a fixed pool with background priority for decodes, background and light background tasks

commit 1e1b0fce007ed5b4a1e6bb9e528cf23aae07bb11
Author: Lucas Moscovicz <lmoscovicz@fb.com>
Date:   Tue Aug 4 08:16:10 2015 -0700

    Added PriorityThreadFactory

commit c7377e589018fc942d6d99e098bb72aa819987a5
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Tue Aug 4 08:05:02 2015 -0700

    Attempted fix for circle-as-square bug

commit 44ca7a113ce7f31999a77f2178abff3d502db72b
Author: Massimo Carli <maxcarli@fb.com>
Date:   Mon Aug 3 07:20:35 2015 -0700

    Replaced ListView with RecyclerView

commit 7243f011fa45910c784d66b46e4a82675816aff6
Author: Massimo Carli <maxcarli@fb.com>
Date:   Mon Aug 3 07:05:44 2015 -0700

    Moved classes from animated/testing to /testing in imagepipeline

commit 48bdf5457db9613c2322008bcf554cae0f6f37c2
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Thu Jul 30 17:05:45 2015 -0700

    Close EncodedImage streams

commit 4f3824e72e2cdf154390f259ea565a7ee3f647ae
Author: Eric Dorman <edorman@fb.com>
Date:   Thu Jul 30 16:04:41 2015 -0700

    Avoid NPE in BitmapUtil#getSizeInBytes

commit f51602b9ebd587d3bedab651fb35e11f0ed8a32a
Author: Lucas Moscovicz <lmoscovicz@fb.com>
Date:   Thu Jul 30 03:43:21 2015 -0700

    Remove getDimensions methods from utils

commit 87155bbfb2924d8f8bf397724c3909ee3658cc88
Author: YongzhiWang <YongzhiWang@users.noreply.github.com>
Date:   Wed Jul 29 08:56:08 2015 -0700

    Fix the null pointer exception

commit 307a51f47c08baa88c0ea3e289f546128d8d64a7
Author: Lucas Moscovicz <lmoscovicz@fb.com>
Date:   Wed Jul 29 08:20:54 2015 -0700

    Changed pipeline to use decodeDimensions

commit 6bad490bd8120023ebbbd1f7f891d6b8e7da29ba
Author: Lucas Moscovicz <lmoscovicz@fb.com>
Date:   Wed Jul 29 03:29:56 2015 -0700

    Added decodeDimensions to BitmapUtil

commit 6ea509841d2542bbbbc0990ddba4456931d75b1b
Author: Massimo Carli <maxcarli@fb.com>
Date:   Wed Jul 29 03:08:41 2015 -0700

    Added chance to interrupt Postprocessor using the value of isLast

commit 89c0ae408c27e7d10d3166605c789029b52345aa
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Mon Jul 27 03:49:50 2015 -0700

    Don't resize at all if downsampling is on

commit ded83af5d1e53907f99228c4f763c8afafe77366
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Wed Jul 22 19:03:34 2015 +0100

    Make sure each bucket can hold an entry per thread

commit 454160e02a2239ed2b186bff6df0d57f5d9af283
Author: Lucas Moscovicz <lmoscovicz@fb.com>
Date:   Fri Jul 24 06:57:22 2015 -0700

    Removed downsampleEnabled from the bitmap factories

commit a617d2e300b9de389e7f6f9d0e8e1f560d5cabe7
Author: Lucas Moscovicz <lmoscovicz@fb.com>
Date:   Fri Jul 24 06:57:13 2015 -0700

    Moved sample size calculations to DecodeProducer only

commit 41183501c24442222a7ab51e89efa371d1a8671a
Author: Lucas Moscovicz <lmoscovicz@fb.com>
Date:   Fri Jul 24 02:46:25 2015 -0700

    Removed FileInputStream Supplier from EncodedImage

commit dc9493c719dda371c45e6d59f41afc3ab372e1cc
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Thu Jul 23 09:54:52 2015 -0700

    Have comparison script do uninstall first

commit 132da018312a4a3349b6676a230016e544dfadea
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Wed Jul 22 04:35:33 2015 -0700

    Fix Gingerbread MR1

commit 9755c1f4d20398e004f9fd3764b40ecf599d410e
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Tue Jul 21 10:21:22 2015 -0700

    Fix comment in Gingerbread

commit 920539d9443bc3979fbd838ecd64d3356b735ee0
Author: Tyrone Nicholas <tyrone.nicholas@gmail.com>
Date:   Mon Jul 20 21:24:18 2015 +0100

    Update .lastsync

commit a3a8ed00deb0a4dbc80c0d9d1643e45e898f8967
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Mon Jul 20 01:37:24 2015 -0700

    Bump to 0.6.0

commit c961371bbe2e91a327109b9ab9165bed5124aeac
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Fri Jul 17 02:37:43 2015 -0700

    Eliminate UI thread from JobScheduler

commit d71cff42114f0b4fbc63cace9ad23b7d04813f1b
Author: Mihaela Ogrezeanu <mihaelao@fb.com>
Date:   Fri Jul 17 03:23:20 2015 -0700

    ImageFormatExtension class for getting file extension

commit 2ce8313c2a6fd1577a145388e6aa5df7e8bc28fd
Author: Lucas Moscovicz <lmoscovicz@fb.com>
Date:   Thu Jul 16 10:52:56 2015 -0700

    Changed PipelineController to use OrientedBitmapDrawable

commit 79a193d01152d60718ea8a7f0b036b7ffaabe200
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Thu Jul 16 09:04:33 2015 -0700

    Kill SerialDelegatingExecutor by fire

commit 20079bb19ff22bf0ecb7a31e116beae91a10307d
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Thu Jul 16 09:04:32 2015 -0700

    Turn on multi-thread decode

commit 3c885d8056cb59f5077e17771fe0e16de57ad1df
Author: Lucas Moscovicz <lmoscovicz@fb.com>
Date:   Thu Jul 16 08:02:38 2015 -0700

    Added rotation to thumbnails

commit e0ece2a5b44c38cedb381eacf8c697615e464db8
Author: Lucas Moscovicz <lmoscovicz@fb.com>
Date:   Thu Jul 16 08:02:32 2015 -0700

    Added getFileBackedEncodedImage method

commit 9d7cced2e3691e54d56eb9ab9d6d78cd89408983
Author: Lucas Moscovicz <lmoscovicz@fb.com>
Date:   Thu Jul 16 07:58:14 2015 -0700

    Added OrientedBitmapDrawable class

commit aa8686eb678ef77133ece96a743a4bf5772f52ed
Author: Lucas Moscovicz <lmoscovicz@fb.com>
Date:   Thu Jul 16 02:22:51 2015 -0700

    Changed DefaultExecutorSupplier to use an unbounded ThreadPoolExecutor with a SynchronousQueue for background and decode operations

commit 3ce4e16f482768d81eeea3579d6ee97fd7a9e030
Author: Lucas Moscovicz <lmoscovicz@fb.com>
Date:   Thu Jul 16 02:21:57 2015 -0700

    Update pipeline code to use copyMetaDataFrom method

commit aa8bd4f857b7641c48c1cf43a2267e4223b4c3dd
Author: Lucas Moscovicz <lmoscovicz@fb.com>
Date:   Thu Jul 16 02:21:56 2015 -0700

    Added copyMetaDataFrom method to EncodedImage

commit d069613de0b3269711e65f7a5291cc32cc77c172
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Wed Jul 15 10:49:27 2015 -0700

    Honor the isLast setting

commit 863275b6c5abf6400f8afd014398c7435839830c
Author: Lucas Moscovicz <lmoscovicz@fb.com>
Date:   Wed Jul 15 09:38:06 2015 -0700

    Added interval for thumbnail selection

commit aa3c2dbe09bf880b9deb784c0c59da3fbe996a0a
Author: Lucas Moscovicz <lmoscovicz@fb.com>
Date:   Wed Jul 15 09:20:35 2015 -0700

    Added check in parseMetaData before setting rotation angle

commit 6e1fef374bacec4f64bafd92f45e9eb084085722
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Wed Jul 15 08:09:16 2015 -0700

    Make PlatformBitmapFactory a true singleton

commit be644d671987a6d9d139edc92c94ff41caff83b1
Author: Massimo Carli <maxcarli@fb.com>
Date:   Wed Jul 15 07:57:23 2015 -0700

    Removed test on isLast for Postprocessor

commit 1b1103ab1beeb80115753ef53c591ce8f1c0d3b1
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Wed Jul 15 06:39:20 2015 -0700

    Don't build factories on the wrong platforms

commit edee9cc9eec07a1beff4e34f2c4bf3d8b8433df6
Author: Lucas Moscovicz <lmoscovicz@fb.com>
Date:   Wed Jul 15 06:31:29 2015 -0700

    Added ExifInterface constants in TiffUtil

commit 189a962306e57c0c02e71ddc93cf2faff77f5ed9
Author: Lucas Moscovicz <lmoscovicz@fb.com>
Date:   Wed Jul 15 06:34:01 2015 -0700

    Added downsampleEnabled to LocalFetchProducer to return memory backed encoded images when not downsampling

commit e6a8436af663eeb486166b18f7a43a722e001786
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Tue Jul 14 09:06:56 2015 -0700

    Reorder things in Config constructor

commit 0daff0a3ece6f49f37c1222bfc1ef91a5ff73d83
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Tue Jul 14 05:52:12 2015 -0700

    Expand flex byte array pool's cap

commit 96111f2bb2927c26a218731d13809da7eac2333a
Author: Massimo Carli <maxcarli@fb.com>
Date:   Tue Jul 14 03:51:20 2015 -0700

    Added caching of postprocessor output

commit cfbc7f08ef4aa2f59b6d1582cbe926a08c18f15a
Author: Massimo Carli <maxcarli@fb.com>
Date:   Tue Jul 14 01:57:59 2015 -0700

    Add evict Caching API

commit 0a8c427ae54537f277c6b91a788ad5398cc40d87
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Mon Jul 13 09:32:23 2015 -0700

    Remove synchronization from ImageDecoder

commit d7d69100bebac7600900f9e6faa08dc45cdfada8
Author: Lucas Moscovicz <lmoscovicz@fb.com>
Date:   Mon Jul 13 03:48:38 2015 -0700

    Changed LocalFetchProducer to use a memory EncodedImage for non downsampled images

commit 842e60fb8bbf13fb785c0b3109e9fe37d611060e
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Fri Jul 10 09:55:03 2015 -0700

    Close the cursor in the comparison app

commit ea12d80dd1ba5c1b42993acf5cdb4e072c1a703a
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Fri Jul 10 09:54:14 2015 -0700

    Display per-producer results in comparison script

commit 2b74e3686a994ab4311efcd7be731daf70175ba7
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Wed Jul 8 04:44:34 2015 -0700

    Bind the number of decode threads to the flex pool params

commit 735a70fe148c246d5abf9830387fecca78ffe8ac
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Wed Jul 8 04:44:25 2015 -0700

    Alphabetize PoolConfig.Builder

commit 0c7ac7c80f2d00d392c43083550273874662d533
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Wed Jul 8 04:44:17 2015 -0700

    Fold max num threads into the pool params

commit 524e8b8af9cc1fef9ceb1f1098a236ce6ce115ea
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Wed Jul 8 04:44:08 2015 -0700

    Rename SharedByteArrayParams to FlexByteArrayPoolParams

commit 0417f03b47220c5710cb0a3076f2977b01bee2f1
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Wed Jul 8 04:43:53 2015 -0700

    Replace SharedByteArray in decode with FlexByteArrayPool

commit ad0d3f82e3db7967288b0daefe5ac97c263f7065
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Mon Jul 6 16:04:02 2015 +0100

    Turn on logging in demo app

commit 5148393ad3f472c3690556175cd3fb990c5ea481
Author: Lucas Moscovicz <lmoscovicz@fb.com>
Date:   Tue Jul 7 04:16:48 2015 -0700

    Changed LocalContentUriFetchProducer to return MediaStore thumbnails when adequate

commit fb27e1c7e8aad9b07c691b88508d7709d344a5b2
Author: Lucas Moscovicz <lmoscovicz@fb.com>
Date:   Tue Jul 7 02:49:45 2015 -0700

    Changed pipeline to use PNG dimensions for downsampling

commit 42981ad97911f73b7df2b4e8ef5f6274a77eaaa8
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Fri Jul 3 17:31:06 2015 +0100

    Add queue time key to ResizeAndRotateProducer

commit 9f2ed33abf20be354e941552dfbe70fb739f31a8
Author: Massimo Carli <maxcarli@fb.com>
Date:   Fri Jul 3 09:54:31 2015 -0700

    Updated Bitmap size in bytes

commit 675dec94f40fabf9b6777bcd4354bb02ab51a4bf
Author: Lucas Moscovicz <lmoscovicz@fb.com>
Date:   Fri Jul 3 04:26:53 2015 -0700

    Changed local images to be decoded directly from FileDescriptors.

commit 8ce145ec7ab3ac2894496298039f105189ff0b20
Author: Lucas Moscovicz <lmoscovicz@fb.com>
Date:   Fri Jul 3 04:26:44 2015 -0700

    Refactored ArtBitmapFactory not to use marked InputStreams for JPEG decoding

commit c1f2d1f2a0e3e935796ee7118807643e5062beb4
Author: Lucas Moscovicz <lmoscovicz@fb.com>
Date:   Fri Jul 3 04:26:35 2015 -0700

    Moved isJpegComplete method to EncodedImage

commit 25835bf3398e12a78b2676435db53a809d95634a
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Thu Jul 2 08:28:40 2015 -0700

    Fix Picasso crashes in comparison app

commit 21ab99e8dbe7c371c8923dc2284c55d7f5db5387
Author: Lucas Moscovicz <lmoscovicz@fb.com>
Date:   Thu Jul 2 05:37:14 2015 -0700

    Changed times for scrolls in run comparison script

commit 11580f5ee67dc5b0bfd21a4a620f2a8767925f71
Author: Lucas Moscovicz <lmoscovicz@fb.com>
Date:   Thu Jul 2 03:16:08 2015 -0700

    Added method fromRequest to ImageRequestBuilder

commit 675622a99cdcbf951249c577c7bf3b682a43a2a5
Author: Lucas Moscovicz <lmoscovicz@fb.com>
Date:   Wed Jul 1 09:10:26 2015 -0700

    Changed encodedImage to take FileInputStream instead of InputStream

commit b23f81da521c0d91b7874eda3c8be2ce4b22890d
Author: Lucas Moscovicz <lmoscovicz@fb.com>
Date:   Wed Jul 1 09:10:07 2015 -0700

    Fixed small bug in EncodedImage clone

commit d4108564d6b768b4a161d17c93b9958ee45958a0
Author: Lucas Moscovicz <lmoscovicz@fb.com>
Date:   Wed Jul 1 06:33:00 2015 -0700

    Update meta data after jpeg transcoding

commit ba8f67cd9ce3fb42c256face88cf26cad605615b
Author: Lucas Moscovicz <lmoscovicz@fb.com>
Date:   Wed Jul 1 06:32:41 2015 -0700

    Moved parse metadata logic to EncodedImage

commit 9d012e656fb1eb5a6074b1b8a6922131034262bf
Author: Amir Livneh <alivneh@fb.com>
Date:   Tue Jun 30 11:14:42 2015 -0700

    Remove calls to Sets.newHashSet

commit f0df83ed6f43deef77b03908b32258abc7986ed3
Author: Lucas Moscovicz <lmoscovicz@fb.com>
Date:   Tue Jun 30 06:48:02 2015 -0700

    Fixed small bug in Config Builder

commit 58dbf22c3b966e92898a9784786643d36441bffd
Author: Amir Livneh <alivneh@fb.com>
Date:   Mon Jun 29 17:03:26 2015 -0700

    Remove calls to Maps.newHashMap from

commit 4b0c9a50f9cc196cc1cdb0058879299e05783249
Author: Amir Livneh <alivneh@fb.com>
Date:   Mon Jun 29 07:15:32 2015 -0700

    Remove calls to Lists.newArrayList

commit 7e4831d24a8f6cf30dde61dc827f18083bc9b42c
Author: Lucas Moscovicz <lmoscovicz@fb.com>
Date:   Mon Jun 29 02:32:48 2015 -0700

    Added PngUtil class

commit c5e1d4cf2c081bf871f59f70cd02e4a68950ac41
Author: Tyrone Nicholas <tyrone.nicholas@gmail.com>
Date:   Thu Jun 25 21:58:26 2015 +0100

    Update .lastsync

commit 3cb018cacd17fb23a5608724624139ca359464b7
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Fri Jun 26 12:17:40 2015 +0100

    Bump to 0.5.3

commit 06a6fa20ada93f2d4d9ca716c82b31b203240065
Author: Lucas Moscovicz <lmoscovicz@fb.com>
Date:   Thu Jun 25 07:38:37 2015 -0700

    Dummy change

commit 30d9a56e4cefcf58c54e3f14333decf37a781fd5
Author: Massimo Carli <maxcarli@fb.com>
Date:   Thu Jun 25 03:57:56 2015 -0700

    Remove time classes

commit 3a848c05e61038e78128e6d21d926106a52b07ee
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Thu Jun 25 02:33:27 2015 -0700

    Add FlexByteArrayPool to PoolFactory

commit 9614559a4c0ad9b63f0b1f357a9f2e6d8ea90c80
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Thu Jun 25 02:33:21 2015 -0700

    Add buckets to the byte array params.

commit eceacacf187cb5afbe086ac54ce63f1d0c9dcbb5
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Thu Jun 25 02:33:16 2015 -0700

    Introducing FlexByteArrayPool

commit a6bf979cb3332ea6e9a14cb4a79ccddb6cbc1606
Author: Lucas Moscovicz <lmoscovicz@fb.com>
Date:   Thu Jun 25 02:35:31 2015 -0700

    Added getEncodedImageSize to EncodedImage class

commit f29bf37b5d4fb5ef4aff913a52170b1d64580841
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Thu Jun 25 02:46:57 2015 -0700

    Require the CPU argument in comparison script

commit fd84140ce9dfa70e5579646b7898386e5c755a13
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Wed Jun 24 10:44:37 2015 -0700

    Fix crash

commit cfa7e89c43691d4e8d86503d7a96ddbb51a8f0a3
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Wed Jun 24 09:41:07 2015 -0700

    Rename CommonByteArrayPool to SmallByteArrayPool

commit d7be0dc9a2a50648b6f4d59bd205ab77184a0254
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Wed Jun 24 09:41:00 2015 -0700

    Introducing OOMSoftReferenceBucket

commit 671d59841e09227b14d734e9c8af455c235c9873
Author: Lucas Moscovicz <lmoscovicz@fb.com>
Date:   Tue Jun 23 08:27:18 2015 -0700

    Added sampleSize to ImageDecoder to support downsampling

commit 069e6eb9ac967dbf3a01444da3530fba2310dc4b
Author: Lucas Moscovicz <lmoscovicz@fb.com>
Date:   Tue Jun 23 08:27:06 2015 -0700

    Added DownsampleUtil class

commit 053f6555f9389b8159dbda692c7d69997a0e7125
Author: Lucas Moscovicz <lmoscovicz@fb.com>
Date:   Tue Jun 23 08:12:04 2015 -0700

    Removed ResizeOptions from fetchEncodedImage

commit 51f27a1436c50b41ba7bf4cb3be8b5b062204be9
Author: Lucas Moscovicz <lmoscovicz@fb.com>
Date:   Tue Jun 23 06:18:53 2015 -0700

    Removed precondition in isJpegMetaDataAvailable in EncodedImage

commit 18b5acc8da4a5ab42c86a1b1f5f7b6bbae6da89c
Author: Lucas Moscovicz <lmoscovicz@fb.com>
Date:   Tue Jun 23 05:27:24 2015 -0700

    Changed classes to use EncodedImage instead of CloseableReference<PooledByteBuffer>

commit b2c9613aa26af2168d5d68a2aa40e91c94e77e92
Author: Lucas Moscovicz <lmoscovicz@fb.com>
Date:   Tue Jun 23 05:27:07 2015 -0700

    Added setters for meta data properties in EncodedImage

commit 680ae2ee11332a7b8639ff50e54e940ed195cb9e
Author: Lucas Moscovicz <lmoscovicz@fb.com>
Date:   Tue Jun 23 05:27:01 2015 -0700

    Added InputStream Supplier to EncodedImage class to use for downsampling decodes

commit ec1c1b9049aef3a388f737586e3c7c6514f43da5
Author: Micha≈Ç Gregorczyk <michalgr@fb.com>
Date:   Mon Jun 22 08:10:59 2015 -0700

    Better log messages in CloseableImage.finalize

commit 73cbf9a905fc1ad071374cad4398996bae582e90
Author: Tyrone Nicholas <tyrone.nicholas@gmail.com>
Date:   Thu Jun 25 22:02:40 2015 +0100

    Open-source the demo app

commit 178192a2d23cab889fd5a35165004172cce2f227
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Fri Jun 19 06:06:42 2015 -0700

    Make ArtBitmapFactory thread-safe

commit dd961b446ad430ca352602b3541d46659f2bc812
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Fri Jun 19 03:29:37 2015 -0700

    Remove Volley-Drawee rounded corners

commit fece79cace313dc50a7214ce9a5d7b1cadd3b084
Author: Bernardo Rufino <bernardorufino@fb.com>
Date:   Thu Jun 18 12:52:16 2015 -0700

    Refactor DefaultZoomableController

commit dc7d307508569e4504477c776bef1fd0175818d6
Author: Micha≈Ç Gregorczyk <michalgr@fb.com>
Date:   Thu Jun 18 09:44:24 2015 -0700

    Fix artifacts in animated GIFs

commit 0788c4b39e5d4de45a5393b870898e0d4a43b961
Author: Ian Childs <ianc@fb.com>
Date:   Thu Jun 18 07:47:06 2015 -0700

    Refactor GenericDraweeHierarchy RootDrawable

commit 70979d966c2267a49ddc87a05a52e8bd73ed4f6d
Author: Lucas Moscovicz <lmoscovicz@fb.com>
Date:   Thu Jun 18 04:43:08 2015 -0700

    Changed MultiplexProducer to use any Closeable class as a generic

commit eeaf0aa8397821eab31379a06cb8009320521f2c
Author: Lucas Moscovicz <lmoscovicz@fb.com>
Date:   Wed Jun 17 06:09:19 2015 -0700

    Removed unnecesary constructor from EncodedImage

commit b6396bd8a49f85215714122b5b81726461583da8
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Wed Jun 17 04:04:39 2015 -0700

    Explicit command-line ABI in comparison script

commit b1651bf8770f482d7e331b076d1cb3d349e22a8a
Author: Micha≈Ç Gregorczyk <michalgr@fb.com>
Date:   Wed Jun 17 02:21:48 2015 -0700

    Change to imagepipeline makefile

commit 16bf74df2a9d8db96a2e2544f2dda8ea9322c7ec
Author: Micha≈Ç Gregorczyk <michalgr@fb.com>
Date:   Tue Jun 16 09:14:10 2015 -0700

    Change to libjpeg makefile

commit db0b57fcc15caaea970aff32ebbeac1fa1940222
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Tue Jun 16 08:51:15 2015 -0700

    Get length of content uri

commit 2fabd05e7a4423b90318e81f5643a40582ba0cc5
Author: Andy Street <andrews@fb.com>
Date:   Mon Jun 15 09:44:50 2015 -0700

    Don't animate in local images

commit e6e9575b4f8419298287e52f5748975f0239662e
Author: Ian Childs <ianc@fb.com>
Date:   Thu Jun 25 22:03:24 2015 +0100

    Fix changing rounding mode

commit 39aee1834c38476e66f1245ecc3b25661b7fc3aa
Author: Tyrone Nicholas <tyrone.nicholas@gmail.com>
Date:   Mon Jun 15 17:06:32 2015 +0100

    Update .lastsync

commit d102cecc4dbeb70b0a14bdd35f6792d1d3811d3f
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Fri Jun 12 09:41:06 2015 -0700

    Convert comparison app to GridView

commit 2fdd979633a3669c013a964bd55e5e0f7ccfacaf
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Fri Jun 12 09:40:02 2015 -0700

    Show more images on-screen in comparison app

commit 6d641a52d4a8f52c04aa6722741607ec5985140a
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Fri Jun 12 08:58:14 2015 -0700

    Bump to 0.5.2

commit d46309f3fe98d4ce4245ad3ead1d98707fa14fd9
Author: Lucas Moscovicz <lmoscovicz@fb.com>
Date:   Fri Jun 12 06:37:21 2015 -0700

    Removed ImageTransformMetaData class

commit 39084659ee20f12e314b6b57cc32eef82b2ce064
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Fri Jun 12 06:34:01 2015 -0700

    Adjust the roundup parameter

commit 8689cdb8f372a66bfccf63a7d51dae10c33eeb79
Author: Daniel Lo Nigro <sites+github@dan.cx>
Date:   Fri Jun 12 06:11:22 2015 -0700

    Remove FBURLs

commit e32e0a6b291b8da553a2f50998ebcc653054fb41
Author: Lucas Moscovicz <lmoscovicz@fb.com>
Date:   Fri Jun 12 03:48:29 2015 -0700

    Refactor all across to use EncodedImage class instead of Pair<PooledByteBuffer, ImageTransformMetaData>

commit 66e99ace2339549888987570bec2ad02644dcece
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Thu Jun 11 08:10:37 2015 -0700

    Resize logging

commit 4e516e75d7a2048214e2d06a1201caf4086e4a71
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Thu Jun 11 02:41:37 2015 -0700

    Open-source zoomable code

commit fcab93dff8c7543f91178c66888027bfbca383f9
Author: Ron Edelstein <rone@fb.com>
Date:   Wed Jun 10 04:08:55 2015 -0700

    Add a fuzzy relative time styling format

commit 786584940955fc9756448cf374be4efb0d956faa
Author: Lucas Moscovicz <lmoscovicz@fb.com>
Date:   Wed Jun 10 01:21:36 2015 -0700

    Added isValid static method to EncodedImage

commit 319d23161b1f89b9c92b4289e7c8528c429a1728
Author: Tom Mulcahy <tcm@fb.com>
Date:   Tue Jun 9 18:15:21 2015 -0700

    Remove FLog.isLoggable(String, int)

commit 1df0220a440149c255f7a3fa2a21e990e3060c83
Author: Lucas Moscovicz <lmoscovicz@fb.com>
Date:   Tue Jun 9 03:47:00 2015 -0700

    Added closeSafely method to EncodedImage

commit cf0ec0275779e997aed8b455dbe76a17de570547
Author: Ian Childs <ianc@fb.com>
Date:   Tue Jun 9 01:03:46 2015 -0700

    fix references that weren't getting closed

commit e72b724d911eb04e8a11e2e5fc2b3ba4b2518982
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Fri Jun 5 09:34:30 2015 -0700

    Fix for panorama images.

commit a69a2669ee0be9585bedc3f77c6efc70b49291ce
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Fri Jun 5 02:28:07 2015 -0700

    Propagate cancellations from resizes

commit 97447572e01c3fcdcb88cff962571ab3c3f2adc5
Author: Lucas Moscovicz <lmoscovicz@fb.com>
Date:   Thu Jun 4 05:47:07 2015 -0700

    Small fix to EncodedImage to avoid cloning references twice when cloning the class

commit 4db804fb282d25bca60cfc0eafecc72566e320b9
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Thu Jun 4 05:56:16 2015 -0700

    Upgrade to Gradle 2.4

commit cb87263e83c036806d90a77e7ac69f52b790f0a3
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Thu Jun 4 05:56:36 2015 -0700

    Mention Korean

commit 07af9a92571da88a0f38b0e23d92044e61f7caf8
Author: Lucas Moscovicz <lmoscovicz@fb.com>
Date:   Thu May 28 11:09:34 2015 -0700

    Changed python script to run and measure also local images test

commit 90be4641950eb781232579c10c6a9308f91354e6
Author: Lucas Moscovicz <lmoscovicz@fb.com>
Date:   Thu May 28 10:57:46 2015 -0700

    Changes to comparison app to take local images

commit 96d74f385b297f364db1f719dd6ee61fc380d0d4
Author: Mikey Rutherford <mruther@fb.com>
Date:   Wed Jun 3 19:57:34 2015 -0700

    Lazy Imagepipeline deps

commit d5f855bbff0ad01d3f2bd6b3fe3b8a7deb87a2c7
Author: Lucas Moscovicz <lmoscovicz@fb.com>
Date:   Wed Jun 3 09:07:57 2015 -0700

    Added EncodedImage Class

commit e342b22f1dd7d33b43877d79badab15f10e5fcdf
Author: Micha≈Ç Gregorczyk <michalgr@fb.com>
Date:   Wed Jun 3 05:42:54 2015 -0700

    Fix executors' assignments

commit 9a44845a1f7386f270e3f6b314cebeb4c56f55c9
Author: Ian Childs <ianc@fb.com>
Date:   Wed Jun 3 04:47:45 2015 -0700

    Fix dynamic rounding

commit ea38fa4f4cd000972f0413f719c5adbb326bdbf4
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Tue Jun 2 07:14:08 2015 -0700

    Eliminate all external dependencies from SoLoaderShim.

commit c50ff415de43e5ba868c5b122c79c4f684d6c825
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Tue Jun 2 07:06:50 2015 -0700

    Have resize options round down in the bottom quarter of an interval

commit d0ee3bf64980d5369aeb92b4ad67c0bc4b820415
Author: Micha≈Ç Gregorczyk <michalgr@fb.com>
Date:   Tue Jun 2 06:52:13 2015 -0700

    Remove potential infinite recursion in ThrottlingProducer

commit 395b7be9b7a38c40c857e49013d57101a06ea96f
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Mon Jun 1 03:36:48 2015 -0700

    Bump to 0.5.1

commit a0c7d42160ba9b66b5175f04ff7a60ec33416975
Author: Satyam Kandula <ksatyam@fb.com>
Date:   Fri May 29 18:06:07 2015 -0700

    Replaced the calls to enum values in DefaultDiskStorage with normal if-else

commit 7bda9545f8c6a226da7e6d719e45994095d55185
Author: Tyrone Nicholas <tyrone.nicholas@gmail.com>
Date:   Sun May 31 23:55:40 2015 +0100

    Update .lastsync

commit 04fb163befa45e9bc751cb25b30c43e4e1f0bef7
Author: Lucas Moscovicz <lmoscovicz@fb.com>
Date:   Thu May 28 09:25:51 2015 -0700

    Added support for static gifs to be decoded as static images instead of animated gifs.

commit 540600e29492adea571535c880b88c91d6fcb85d
Author: Lucas Moscovicz <lmoscovicz@fb.com>
Date:   Thu May 28 02:30:23 2015 -0700

    Moved resource images to common folder

commit 23b9117b9eae70bf1bc9c3dc6b834c7fd9ac8fd8
Author: Robert Wallis <smilingrob@gmail.com>
Date:   Wed May 27 08:24:26 2015 -0700

    64-bit ARM and x86_64 - updating PR #121

commit 0d6af185bb33333ddeaa5a56005de064986393bc
Author: Ian Childs <ianc@fb.com>
Date:   Wed May 27 08:32:08 2015 -0700

    [Drawee] Allow all possible RoundingParams changes

commit 6aa2f831a5d1fd0e3a507509a769972157a01b7e
Author: Lucas Moscovicz <lmoscovicz@fb.com>
Date:   Wed May 27 05:44:58 2015 -0700

    Added support for different protocol redirection on Http Requests

commit 0dae246056eb332507a5b494914dda530e0e0c62
Author: Lucas Moscovicz <lmoscovicz@fb.com>
Date:   Wed May 27 02:30:49 2015 -0700

    Adding support for bmp decoding

commit 8dffa73bebb8bd56ac35508c0345b5336a4efdeb
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Tue May 26 16:48:01 2015 -0700

    Fix formatting of pool size violations

commit fba976825b68ce892198e3695f81a6ae13b437c7
Author: Lucas Moscovicz <lmoscovicz@fb.com>
Date:   Tue May 26 09:51:42 2015 -0700

    Added splits to sample app builds

commit 0c2cd1eed35fc12604b18e09d4525d65cd0fc6da
Author: Lucas Moscovicz <lmoscovicz@fb.com>
Date:   Fri May 22 04:11:03 2015 -0700

    Updated Gradle plugin and Roboelectric Gradle plugin versions

commit e16a5c0991fd34b44665f440017bb2f10c8c1ec6
Author: Dan Yang <dsyang@fb.com>
Date:   Thu May 21 16:44:03 2015 -0700

    [RFC] control attach-ness of DraweeHolders in a MultiDraweeHolder independently

commit 3d25fccdbcee617b52a0c917983fb7a85dd38724
Author: Lucas Moscovicz <lmoscovicz@fb.com>
Date:   Wed May 20 03:48:05 2015 -0700

    Removed common internal dependency for maps

commit 10eb6c423cd85be140315e0215a09bcd0b5d71f7
Author: Lucas Moscovicz <lmoscovicz@fb.com>
Date:   Wed May 20 01:45:29 2015 -0700

    Updated readme to add get started button pointing to korean site

commit fe92915b9f731c941f4b9e32415673e303b1b7de
Author: Geoff Hackett <ghackett@fb.com>
Date:   Tue May 19 08:41:36 2015 -0700

    [PlaceTips] Use new ImmutableLocation.getBestAgeInMillis()

commit 8266a147ef41a437b1e4f99d12ac8b288d2aa8a7
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Mon May 18 08:51:20 2015 -0700

    Remove unused imports

commit 92a6c49f87b3617cc54a9c4fb5c81c484313709e
Author: Ian Childs <ianc@fb.com>
Date:   Mon May 18 03:14:14 2015 -0700

    Remove open-source Maps class

commit 137929082e6ded1b5847ed362f9980ecbb6a7988
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Fri May 15 07:11:37 2015 -0700

    Open source rounded corners sample app.

commit b8d0318f0e8231691e54d50ba4f17df0422912e6
Author: Tyrone Nicholas <tyrone.nicholas@gmail.com>
Date:   Thu May 14 21:11:57 2015 +0100

    Update .lastsync

commit 99212a306258152ffacfd829d6f34d0c2c5b0198
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Fri May 15 01:57:38 2015 -0700

    Fix sample app ProGuard

commit aaae354a32c0b93764c4b18ecf9eddada8e7b7f2
Author: Ian Childs <ianc@fb.com>
Date:   Fri May 15 00:24:34 2015 -0700

    Logging for OkHttpNetworkFetcher

commit c0c63e01be108983bda1a0c6f46035f413e4c16b
Author: Ian Childs <ianc@fb.com>
Date:   Fri May 15 00:24:28 2015 -0700

    open-source verbose logging

commit bf3df1d67a96c5fb6495ead90bf9ce67d8f16ba2
Author: Joshua Lauer <jlauer@fb.com>
Date:   Thu May 14 16:36:57 2015 -0700

    Revert "Optimize Drawable allocations by reusing one BlankDrawable instance"

commit e720a81d391eecbb024607d8ee4b8ec4cc0a2041
Author: Ian Childs <ianc@fb.com>
Date:   Thu May 14 09:12:24 2015 -0700

    Remove ImageTransformProducer

commit d7cd92bfb6ae24ca8b4db34f28cb5706890bfa77
Author: Ian Childs <ianc@fb.com>
Date:   Thu May 14 09:12:17 2015 -0700

    AddImageTransformMetaDataProducer passes intermediate results

commit 3bef4811fe90a6b62e670c71d0818d51c997a440
Author: Ian Childs <ianc@fb.com>
Date:   Thu May 14 09:12:11 2015 -0700

    Refactor WebPTransformProducer

commit 13c60f2475e71f800dd365f55c57e1f3d083918a
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Thu May 14 09:17:22 2015 -0700

    Update contributor guidelines

commit b39d88bcfe1af121314fd9df6c9d6ba28be4a1f2
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Thu May 14 08:13:32 2015 -0700

    Bump version to 0.5.0

commit 3634b9b63939f310bd288342361eeaa648226f4b
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Thu May 14 04:31:30 2015 -0700

    Allow for multiple sample apps

commit 24cff66ee793caf9b8cb5e37c9a13d7bd4161c2b
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Thu May 14 03:39:13 2015 -0700

    Add missing external deps generator

commit 5b800a13a288d0043d1328d94c58a65b1d691418
Author: Tyrone Nicholas <tyrone.nicholas@gmail.com>
Date:   Thu May 14 20:13:37 2015 +0100

    Update .lastsync

commit 50cddd6341aec49d0f24f4e135c896fc211769f7
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Wed May 13 05:52:33 2015 -0700

    Fix Drawee circles

commit 1e904eda098d7338e87a0a866580092b20037a38
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Tue May 12 14:55:48 2015 -0700

    Turn on tests in Gradle

commit 50049ff5a050328b81b52c619a1ff36d17f47dc1
Author: Ian Childs <ianc@fb.com>
Date:   Tue May 12 09:27:45 2015 -0700

    Use JobScheduler in DecodeProducer

commit b2d8a2b9e9b9634c511d4a9bc23d7fb397a415dd
Author: Ian Childs <ianc@fb.com>
Date:   Tue May 12 09:27:39 2015 -0700

    Add JobScheduler

commit b824ea387d7cb778544e7ea50d3087e84f6039bb
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Tue May 12 08:40:58 2015 -0700

    Replace loop with eraseColor

commit cc11c21a4b6c1c480743d94549e4660943cd8474
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Tue May 12 08:41:17 2015 -0700

    Fix the re-apply of rounding

commit 848af2566cd595d17ac63162217ec1ce24d76946
Author: Ian Childs <ianc@fb.com>
Date:   Tue May 12 06:28:57 2015 -0700

    Fix Memory cache producers

commit a30ce0c7c842bfe56387a1ebc419baed5f3bcfe9
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Mon May 11 14:59:22 2015 -0700

    Move FakeClock into animations test library

commit 9136fb11823e85310c19f0f7b0ce9ec6de2e1921
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Mon May 11 09:22:55 2015 -0700

    Remove round from settings

commit 063c63b1ac13141da8ee1861dded1f5425afde3c
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Mon May 11 08:23:43 2015 -0700

    Remove ObjectPool from fbcore

commit e5dfa753767a5f25c1eadbefe0509b2b183f1f5e
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Mon May 11 05:58:21 2015 -0700

    Fix drawee lint

commit 8c280079afdbefd81cac3a87be691ae13a0413d1
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Mon May 11 05:59:36 2015 -0700

    Allow dynamic disabling of bitmap-only rounded corners

commit 3f7372ad9ae8dc644d153d24868efeb04ef6afac
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Mon May 11 05:59:23 2015 -0700

    Dynamically change bitmap-only rounded corners

commit aed34899f0dab5d47bf45fa4731a054ef0b0ad30
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Mon May 11 05:46:55 2015 -0700

    Rearrange imports

commit c35cd74b353083829f39e23c5822162fa46ead4b
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Mon May 11 05:55:13 2015 -0700

    Move ImageFormatCheckerTest resources

commit 67c4757dbff1cbfc586b394a623b0991fbc17e4a
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Mon May 11 05:55:26 2015 -0700

    New files needed for tests on Gradle.

commit e41ed6f96f17c9130d9f222bda382b998f5147be
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Mon May 11 05:52:02 2015 -0700

    Clean up assorted imports

commit 22eda6e53b6a4b347ebcc13584b3373284a4970f
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Mon May 11 05:51:56 2015 -0700

    Move last remaining tests to RobolectricTestRunner

commit a8b6e0cf57976dd1809c49c4add517f609117ae0
Author: Ian Childs <ianc@fb.com>
Date:   Fri May 8 08:09:13 2015 -0700

    Fix NPE in AddImageTransformMetaDataConsumer

commit 4e3e0861e70180f4699c78b3aa11d5dd297d4236
Author: Ian Childs <ianc@fb.com>
Date:   Fri May 8 05:38:48 2015 -0700

    Use Java 7 diamond operator in fresco

commit 8fd45d0ace1f8b2d3885a32104bc4e6413a0bd32
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Fri May 8 05:38:29 2015 -0700

    Eliminate FakeClock from Drawee tests

commit e495dfb5944b4eadb50eb8e538d3b2530ce9ce99
Author: Ian Childs <ianc@fb.com>
Date:   Fri May 8 04:00:35 2015 -0700

    Fix some comments and ordering

commit 40a376e812ef46803d96e3868da3e666dad34e46
Author: Denis Koroskin <dkoroskin@fb.com>
Date:   Thu May 7 10:55:43 2015 -0700

    Optimize Drawable allocations by reusing one BlankDrawable instance

commit 149e9aa057e1282786a4d059380e8a05c090472b
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Thu May 7 07:49:19 2015 -0700

    Add data URIs to [Part 3]

commit 388c8c2fcdd961fd6d979ab0e590effd7f24035d
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Thu May 7 07:49:11 2015 -0700

    Add support for data URIs in [Part 2]

commit d614d3a7c4c0039e007e5ac4443f41425e242c4e
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Thu May 7 07:49:04 2015 -0700

    Add support for data URIs in [Part 1]

commit 6912568f3dde94d210e0581d282f247f398cb8f8
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Thu May 7 07:44:03 2015 -0700

    Common interface for the rounded drawables

commit f8316d7333d0553d6242306baafc799120d43e5d
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Thu May 7 07:10:08 2015 -0700

    Zero out the pixels in a generated bitmap before returning.

commit f0fa1e731035e3cd3852b75a087210f0ca35449b
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Thu May 7 06:56:44 2015 -0700

    Simplify local-transform sequence

commit 449d53a6e7dd20bcdb0ec337bef2c24e204d54a9
Author: Micha≈Ç Gregorczyk <michalgr@fb.com>
Date:   Thu May 7 06:22:54 2015 -0700

    Do not call callback in synchronized blocks in MultiplexProducer

commit a86a40f228d9ed4d2c649dd6ef41d7ca9553faab
Author: Rajat Kansal <rajatag12@fb.com>
Date:   Wed May 6 11:16:05 2015 -0700

    Allow focus point to be set on placeholder

commit e7da69086acadd7b51376e82d5bf83165f253dd5
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Wed May 6 06:55:15 2015 -0700

    Make most tests oss-ready

commit 8b280e36603eb283db278f013cc097af4772cce0
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Wed May 6 06:55:14 2015 -0700

    Switched to using robolectric properties file

commit d5e57becb35a42e958634b93f25c8e9918ecf732
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Wed May 6 06:55:13 2015 -0700

    RobolectricTestRunner and Powermock

commit b18638d2c33927ced6b66226d0aff98d0f1d3858
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Wed May 6 06:55:12 2015 -0700

    Start the switch to RobolectricTestRunner

commit 89fb6ba78f57e596063f6137e33af6bffa04d09b
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Wed May 6 06:35:30 2015 -0700

    Upgrade some dependent libraries.

commit 1f3241893d2d752b5f24a5b2dfe9894d3f4a9300
Author: Mikey Rutherford <mruther@fb.com>
Date:   Tue May 5 16:59:39 2015 -0700

    Remove debug logging from release builds using proguard

commit 7b3cc6cfc8b2a3665ad88b8a269bfa8ad420bbca
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Tue May 5 12:51:44 2015 -0700

    Better distinction between overlay color and bitmap-only rounding

commit 8fbd60d32a20ee7fd881ba84a30f0979b4e22d58
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Tue May 5 12:51:55 2015 -0700

    Fix Eclipse script

commit 843573235af4d88cb921414873d027898760046c
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Tue May 5 12:50:33 2015 -0700

    Fix ProGuarding of native methods

commit 65125f88c6e2c9213cd3ace35f85a976f28e2378
Author: Micha≈Ç Gregorczyk <michalgr@fb.com>
Date:   Tue May 5 05:44:19 2015 -0700

    Fix race condition in BasePool

commit def1cd0b4ba67c426f7cadbfda4d3d2f2c06c13f
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Fri May 1 07:30:41 2015 -0700

    Get rid of wait if scrolling comments

commit 0485f9f22a4931f7bc6cffb0b32642c586c167ac
Author: Micha≈Ç Gregorczyk <michalgr@fb.com>
Date:   Thu Apr 30 07:06:45 2015 -0700

    Upgrade gifimage makefiles

commit e689f37000eb2b60878bea442c4c7111a070c220
Author: Micha≈Ç Gregorczyk <michalgr@fb.com>
Date:   Thu Apr 30 07:07:18 2015 -0700

    Upgrade webpimage makefiles

commit b2becbb87bd742f550e890a33fe6cb2a079ea9c1
Author: Sebastian Roth <sebastian.roth@gmail.com>
Date:   Wed Apr 29 06:55:48 2015 -0700

    Add "NOTICE" to android.packagingOptions.exclude

commit 710065b9df447e6f1bba4019cc787a58f4f91a7b
Author: Micha≈Ç Gregorczyk <michalgr@fb.com>
Date:   Tue Apr 28 08:51:12 2015 -0700

    Upgrade libwebp makefiles

commit 62726c63caabc7632598007f94c0ee8352af648f
Author: Tyrone Nicholas <tyrone.nicholas@gmail.com>
Date:   Thu Apr 23 17:39:11 2015 +0100

    Update .lastsync

commit fff151a273bfd5b78aa356c249e19af0bb76355e
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Thu Apr 23 09:18:31 2015 -0700

    Bump to 0.4.0

commit 21406a993fd40528a9918555be759e901b21c680
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Wed Apr 22 11:58:49 2015 -0700

    Add cancellation to default network fetcher

commit 82c28d319b23cf9fb6a4673924cb5a3318242f03
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Wed Apr 22 08:56:27 2015 -0700

    Turn on ProGuard in sample apps

commit c24a72c2fc852fa1216363a3fefa4926825781c4
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Wed Apr 22 08:57:15 2015 -0700

    Clean up ImagePipelineFactory

commit df3e01b3b30c0d8eb225eb5577e770e7ed2bba38
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Wed Apr 22 06:17:07 2015 -0700

    Pass CPU to test runner script.

commit 2c78d62b0b5deef19dbc40dcb42cf126a34f5ba5
Author: Micha≈Ç Gregorczyk <michalgr@fb.com>
Date:   Tue Apr 21 11:19:05 2015 -0700

    Fix format string in BitmapMemoryCacheKey.toString

commit 5ea25285dd2415644df319286be052c4cef70a7b
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Tue Apr 21 08:12:41 2015 -0700

    Script to build Eclipse projects

commit 67ec275f0b7ba4486d4e5b26a3dafe45f885e9af
Author: Ognjen Dragoljevic <plamenko@fb.com>
Date:   Tue Apr 21 07:39:07 2015 -0700

    Make CacheKey be an interface.

commit 0287736b18176f46da3cd8fda215f07f6305219d
Author: Micha≈Ç Gregorczyk <michalgr@fb.com>
Date:   Tue Apr 21 02:57:08 2015 -0700

    Use static STL in and hide internal symbols

commit 61b11ac86c1f5aad05d9887d32241081e191a019
Author: Ognjen Dragoljevic <plamenko@fb.com>
Date:   Mon Apr 20 11:48:40 2015 -0700

    clean up counting memory cache

commit 9a95eca16a8cdfde83b4f840a35db8c1fcf38b50
Author: Patrick Theisen <theisenp@fb.com>
Date:   Mon Apr 20 09:48:38 2015 -0700

    Added aspect ratio as an XML parameter for GenericDraweeView

commit abcaf5e70a7a3cff009640b12abbcb0c5522e71e
Author: Ognjen Dragoljevic <plamenko@fb.com>
Date:   Fri Apr 17 16:00:26 2015 -0700

    Remove cache look up strategy parameter

commit dd9f77a2e2c5afea87ce110a144fc1bcfc1a08d1
Author: Ognjen Dragoljevic <plamenko@fb.com>
Date:   Fri Apr 17 11:09:17 2015 -0700

    Refactor cache trimming

commit 3a5241ce55587ee899a88b6538fb1d63b7dc7a6a
Author: Tyrone Nicholas <tyrone.nicholas@gmail.com>
Date:   Thu Apr 23 17:41:19 2015 +0100

    New test runner script

commit e46dab3c2beac3f16163e8593f8a74840606aaef
Author: Tyrone Nicholas <tyrone.nicholas@gmail.com>
Date:   Thu Apr 16 15:05:07 2015 +0100

    Update .lastsync

commit f7847eaebba54c4e4e85721fec85fc69f82148c8
Author: Micha≈Ç Gregorczyk <michalgr@fb.com>
Date:   Thu Apr 16 06:36:06 2015 -0700

    download libwebp as tar.gz rather than git-clone it

commit 57b2790b511ecce6be7943bf05379cb547ce6e8f
Author: Ian Childs <ianc@fb.com>
Date:   Thu Apr 16 05:35:40 2015 -0700

    Also round background drawable if ColorDrawable or BitmapDrawable

commit 48bb5a361061112fb8bdd2c81a6e69bd48e02073
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Thu Apr 16 02:12:39 2015 -0700

    Bump to 0.3.0

commit c46272483bc886605591f84b6135740ff343e2f0
Author: Micha≈Ç Gregorczyk <michalgr@fb.com>
Date:   Wed Apr 15 16:22:03 2015 -0700

    Build all native dependencies apart from webp statically

commit 4fa3b353e0f18dc9cce7d835e9b10d26218a6e41
Author: Micha≈Ç Gregorczyk <michalgr@fb.com>
Date:   Wed Apr 15 14:44:41 2015 -0700

    Add build flavors to sample app

commit 3066bcf54b06b0f12cfe8b2b3f40c4158ad3fde9
Author: Micha≈Ç Gregorczyk <michalgr@fb.com>
Date:   Wed Apr 15 02:05:57 2015 -0700

    Do not load gnustl in NativeMemoryChunk

commit a8ca80605e71a49d6b3603f19fdaec6ddaf2512d
Author: Tyrone Nicholas <tyrone.nicholas@gmail.com>
Date:   Wed Apr 15 18:17:09 2015 +0100

    Removed mistakenly added nativedeps

commit 29080993fce3ccfcdc83a03f1d0a533ee18f72aa
Author: Tyrone Nicholas <tyrone.nicholas@gmail.com>
Date:   Wed Apr 15 10:12:44 2015 +0100

    Update .lastsync

commit 18be280fe246a56f6ec22be7785a3994ad55aea5
Author: Ognjen Dragoljevic <plamenko@fb.com>
Date:   Tue Apr 14 07:49:29 2015 -0700

    Improve post-processing

commit 8ef45c62f47c0fb45122ee26e9d232592af938f9
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Tue Apr 14 04:01:09 2015 -0700

    Update Patent Grant

commit f3f5dae7643663faf801eef637f71b383a2efcb8
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Tue Apr 14 03:21:42 2015 -0700

    Switch from compile to provided for annotations and JSR 305

commit 74e1d1a643df2c7907b1a563d98259604e1c100c
Author: Thomas Barth√©l√©my <tbarthel-fr@users.noreply.github.com>
Date:   Mon Apr 13 10:13:44 2015 -0700

    [Supported URIs] makes local resource uri creation easier

commit 3e7003a05af4a952a605a0281dcf69ef3cfdf7ed
Author: Micha≈Ç Gregorczyk <michalgr@fb.com>
Date:   Mon Apr 13 06:33:11 2015 -0700

    Single threaded executor for image decoding

commit 0a277cadd5984ebbb9c2ac832e260728c80f8621
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Mon Apr 13 06:54:22 2015 -0700

    Make the readme file more useful.

commit b01d349d72c3f38877010d4f78e3e92c219586c4
Author: Micha≈Ç Gregorczyk <michalgr@fb.com>
Date:   Mon Apr 13 04:19:10 2015 -0700

    Remove single byte array pool instrumentation

commit 8665fbdbd181dac69d3be52379a01c80108fde1e
Author: Micha≈Ç Gregorczyk <michalgr@fb.com>
Date:   Mon Apr 13 04:19:06 2015 -0700

    Rewrite SingleByteArrayPool into SharedByteArray

commit 5bec52957d9cb9810f8b91dd28d77d86fdc8355f
Author: Micha≈Ç Gregorczyk <michalgr@fb.com>
Date:   Fri Apr 10 08:59:35 2015 -0700

    Build system improvements

commit aa6d9816f264ed9c927fb9946d395e74e32a8688
Author: Micha≈Ç Gregorczyk <michalgr@fb.com>
Date:   Fri Apr 10 07:21:19 2015 -0700

    Extract libbitmaps.so from libimagepipeline.so

commit 6c3476f6c501228fc0d26073d99bac18aa7b348b
Author: Robert Wallis <smilingrob@gmail.com>
Date:   Fri Apr 10 06:32:35 2015 -0700

    Updating README to use version 0.2.0 to match docs

commit 3ba8131381e0769038a0b868a6884567cf94dd55
Author: Andrew Chen <yongjhih@gmail.com>
Date:   Fri Apr 10 02:21:37 2015 -0700

    OkHttp: Fix NetworkOnMainThreadException while cancellation

commit 6e9b187e948874d0e0bad02c868886fe00d0d9ed
Author: Tyrone Nicholas <tyrone.nicholas@gmail.com>
Date:   Wed Apr 8 17:29:07 2015 +0100

    Update .lastsync

commit 644a31b27da4626987334c91e02edcb495fee4ee
Author: Micha≈Ç Gregorczyk <michalgr@fb.com>
Date:   Wed Apr 8 07:33:46 2015 -0700

    Bump version of Fresco lib to 0.2.0

commit ab0afde42e90cd1efa5e98c7d615aae9e0da1107
Author: Tyrone Nicholas <tyrone.nicholas@gmail.com>
Date:   Wed Apr 8 14:46:51 2015 +0100

    Update .lastsync

commit b8c15780c7de9d0f84e66f26398cec7950adc01d
Author: Micha≈Ç Gregorczyk <michalgr@fb.com>
Date:   Wed Apr 8 03:09:00 2015 -0700

    Do not fail if ndk-build cannot execute 'clean' target

commit b879c872e821d16b5127a31107eed10f46ad58a2
Author: Micha≈Ç Gregorczyk <michalgr@fb.com>
Date:   Tue Apr 7 15:46:16 2015 -0700

    Clone libwebp from github's mirror

commit 3f44708e9bdd5bc4fe6fe117b35ebd5a26f6695a
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Tue Apr 7 15:34:07 2015 -0700

    Updated docs for new network classes

commit 3de6086948241766aea6476446f6799cbcffbdb5
Author: Tyler Palsulich <tpalsulich@github.com>
Date:   Tue Apr 7 15:33:21 2015 -0700

    Fix small grammatical mistake in readme

commit 699e926bb88cf4ade7f8953c7ea5556ecf99a0e7
Author: Patrick Theisen <theisenp@fb.com>
Date:   Tue Apr 7 11:53:17 2015 -0700

    Add unit tests for MediaUtils

commit 4d03c309d0cbdb3c1cfcfc22c8793f67c13ed919
Author: Ognjen Dragoljevic <plamenko@fb.com>
Date:   Tue Apr 7 10:23:10 2015 -0700

    ImagePipeline: Don't crash the app if submit fails

commit 33097402ff5ddfa985268855ecfe0b08ec7e597b
Author: Micha≈Ç Gregorczyk <michalgr@fb.com>
Date:   Tue Apr 7 09:22:36 2015 -0700

    Make libmemchunk.so be a c library, not a c++ one.

commit bdc3f167b6be879713a4074ab983eb7b9faed687
Author: Ognjen Dragoljevic <plamenko@fb.com>
Date:   Tue Apr 7 08:58:46 2015 -0700

    Fix index out of bounds in ProducerSequenceFactory

commit 9be4f2d7ea048026913e23ceb5853cee8b0262b7
Author: Tyrone Nicholas <tyrone.nicholas@gmail.com>
Date:   Tue Apr 7 12:24:44 2015 +0100

    Update .lastsync

commit a4a82f093b5c21b5478019800bef283b7c580435
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Tue Apr 7 03:27:17 2015 -0700

    Standardize on targetApi 21

commit 79ae74ecaf87efe5a20d156fbc88014401c3be20
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Tue Apr 7 02:36:13 2015 -0700

    Fix Gradle build

commit 4d54ddeba930ce934624a0216ac78dfb753c0820
Author: Tyrone Nicholas <tyrone.nicholas@gmail.com>
Date:   Tue Apr 7 00:43:32 2015 +0100

    Update .lastsync

commit 89f71c01fe3e01603a9fcf13c09c2b2e1f5b46d4
Author: Jonathan Perlow <jdperlow@fb.com>
Date:   Thu Apr 2 13:54:30 2015 -0700

    Option to decodeAllFrames in ImageDecodeOptions.

commit c0d849ba668782b863351c958468e991a00fdd75
Author: Ognjen Dragoljevic <plamenko@fb.com>
Date:   Thu Apr 2 10:37:15 2015 -0700

    Rename NfpRequestState to FetchState

commit 427e744b42401ee76f0a6fd20dc1f4c4b6611084
Author: Ognjen Dragoljevic <plamenko@fb.com>
Date:   Thu Apr 2 09:57:50 2015 -0700

    Drawee: start/stop Animatable progress bars

commit e20f44d8d525266a249c9eef64f8bc017b60ed01
Author: Ognjen Dragoljevic <plamenko@fb.com>
Date:   Thu Apr 2 09:42:37 2015 -0700

    Use composition instead of inheritance in NetworkFetchProducer

commit a68a7b06eeecf06e67c16230b58a29c0adbb8257
Author: Ognjen Dragoljevic <plamenko@fb.com>
Date:   Thu Apr 2 08:08:30 2015 -0700

    Fix intermediate results propagation in NetworkFetchProducer

commit 9ba338e15ffde4c18fba7be1807411ca0a75ca56
Author: Ian Childs <ianc@fb.com>
Date:   Thu Apr 2 07:18:01 2015 -0700

    Support Disk Cache as lowest level

commit 2adb23764850c48ec06f907cc070265646744de3
Author: Ian Childs <ianc@fb.com>
Date:   Thu Apr 2 07:17:56 2015 -0700

    Producers themselves are responsible for stopping at lowest level

commit e1f7ad82a9c413604437279b519fb5e9e709608c
Author: Micha≈Ç Gregorczyk <michalgr@fb.com>
Date:   Thu Apr 2 05:00:30 2015 -0700

    windows build

commit 53e1317d47e0e33d9927740ad4974cc479d8cc2a
Author: Tyrone Nicholas <tyrone.nicholas@gmail.com>
Date:   Wed Apr 1 17:54:39 2015 +0100

    Update .lastsync

commit fb8da0bedcc7ab9428b08b2c7c7e7dcc00e6d470
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Wed Apr 1 09:29:04 2015 -0700

    Add Get Started button to readme

commit 41e26a12e6cd27c40eb56155eba94a4311f29a68
Author: Ian Childs <ianc@fb.com>
Date:   Wed Apr 1 07:31:36 2015 -0700

    Initialize disk cache lazily

commit 577729924f4711af68fb731185a7efea5a7761a3
Author: mbrubin56 <mbrubin56@github.com>
Date:   Wed Apr 1 06:39:32 2015 -0700

    Using "provided" rather than "compile" for annotations libraries.

commit fb1c702789d5b224a10cad6fa62e7ee8f60455bc
Author: Ian Childs <ianc@fb.com>
Date:   Wed Apr 1 05:21:47 2015 -0700

    Fix NPE in PressedStateOverlay

commit 6650c06c5bc8e3a9db5bd649c7fed9df6d739ff6
Author: Andrii Chernukha <achernukha@fb.com>
Date:   Tue Mar 31 15:51:00 2015 -0700

    Allow to set low priority for final image request.

commit 03a6b5d64bf140527440155a52888c13dd97cc30
Author: Jonathan Perlow <jdperlow@fb.com>
Date:   Tue Mar 31 13:39:07 2015 -0700

    Don't allow values of SharedReference to be finalized.

commit 8cf7267bfbde76ea5541b503d1838c65c447601b
Author: Ognjen Dragoljevic <plamenko@fb.com>
Date:   Tue Mar 31 13:13:33 2015 -0700

    Limit DecodeProducer to at most one decode per 100ms

commit 7798d8458c4f22e081a75db55536c2e849cd429b
Author: Ognjen Dragoljevic <plamenko@fb.com>
Date:   Tue Mar 31 11:40:17 2015 -0700

    Clean-up DecodeProducer

commit f6e11ded1cc15e2122037d4b025d5f5ce622e76e
Author: Ognjen Dragoljevic <plamenko@fb.com>
Date:   Tue Mar 31 10:22:33 2015 -0700

    Integrate progress [4] - Drawee

commit 1c63db3d8297c89e51b95a95d3797562acf9a702
Author: Ognjen Dragoljevic <plamenko@fb.com>
Date:   Tue Mar 31 09:03:50 2015 -0700

    Integrate progress [3] - Producers

commit 8bc71076c8ed638e99a85cb9ee13ec0a4264745d
Author: Ognjen Dragoljevic <plamenko@fb.com>
Date:   Tue Mar 31 07:46:24 2015 -0700

    Drawee: Fix SimpleDraweeView when in edit mode

commit ff2965da915164189264c4c9878966eac071bbaf
Author: Micha≈Ç Gregorczyk <michalgr@fb.com>
Date:   Tue Mar 31 07:05:59 2015 -0700

    kill PooledByteBuffer.getStream

commit a90d0b8a526e0a0e2a7c08f31c5c194e801479c9
Author: Micha≈Ç Gregorczyk <michalgr@fb.com>
Date:   Tue Mar 31 07:05:55 2015 -0700

    PooledByteBufferInputStream replaces NativeMemoryChunkInputStream

commit e045762904196178c6656acd28a8d97e7d1714f9
Author: Micha≈Ç Gregorczyk <michalgr@fb.com>
Date:   Tue Mar 31 07:05:51 2015 -0700

    Add TrivialPooledByteBuffer

commit 9feb2bd8adc9f414faa48f2d5e6ae4aa0172e6bb
Author: Micha≈Ç Gregorczyk <michalgr@fb.com>
Date:   Tue Mar 31 07:05:47 2015 -0700

    Allow reading bytes from PooledByteBuffer directly into byte[]

commit d914f2c8fd60108fab6ae19f62dae04429aa0825
Author: Pascal Borreli <pascal@borreli.com>
Date:   Tue Mar 31 06:26:57 2015 -0700

    Fixed typos

commit a86516d21b23f6ab93b2b6fa565b1eff72b6a75b
Author: Micha≈Ç Gregorczyk <michalgr@fb.com>
Date:   Tue Mar 31 06:19:17 2015 -0700

    Provide alternatives to adding ndk-build to $PATH

commit fbf06ff88af5e987ce012db3f2a5545bd169d7e7
Author: Ognjen Dragoljevic <plamenko@fb.com>
Date:   Tue Mar 31 05:07:35 2015 -0700

    Integrate progress [2] - Consumer, DataSource adapter, network fetch

commit c3b4871510297591bce839ad774e88937f95d180
Author: Ognjen Dragoljevic <plamenko@fb.com>
Date:   Tue Mar 31 04:15:08 2015 -0700

    Integrate progress [1] - DataSource

commit ce0d317286af00d5472d9eae85b16c7991109dc8
Author: Ognjen Dragoljevic <plamenko@fb.com>
Date:   Tue Mar 31 03:28:17 2015 -0700

    Drawee: Fix NPE

commit 661f9c540514a7d7be9dea2bb0cd482ad7a3ee69
Author: Micha≈Ç Gregorczyk <michalgr@fb.com>
Date:   Sun Mar 29 14:21:44 2015 -0700

    Fixing SingleByteArrayPool usage

commit af03105304b208ccb3b18510f149ac5ff5924d4e
Author: Micha≈Ç Gregorczyk <michalgr@fb.com>
Date:   Sat Mar 28 17:57:05 2015 -0700

    Do not use version ranges in gradle.properties

commit 6941a54e2a9fc0496f51cfcda68928d93be05c26
Author: Ian Childs <ianc@fb.com>
Date:   Fri Mar 27 17:37:02 2015 -0700

    Add isDiskCacheEnabled to ImageRequest

commit f330ec4eb56a0c5a40a2a36e68e63c655b9984c6
Author: Tyrone Nicholas <tnicholas@fb.com>
Date:   Thu Mar 26 15:59:53 2015 -0700

    Fixed links in README file

commit c5f27f38ed7ac147396e05d0bea412ce2077a000
Author: Micha≈Ç Gregorczyk <michalgr@fb.com>
Date:   Thu Mar 26 13:45:02 2015 -0700

    Use standard mathematical notation to specify range of deps' versions

commit 4930aca8692b4bdd4ec2e9ab7c8fed058faa62bc
Author: tyronen <tyrone.nicholas@gmail.com>
Date:   Thu Mar 26 15:27:59 2015 -0700

    Update README.md

commit c02c3eb292e1daa0b0d3f78fc7d3fc6cfad17228
Author: Tyrone Nicholas <tyrone.nicholas@gmail.com>
Date:   Mon Mar 23 20:28:31 2015 -0700

    Initial commit
